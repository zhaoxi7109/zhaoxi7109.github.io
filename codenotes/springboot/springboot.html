<!doctype html>
<html lang="zh-CN" data-theme="light">
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width,initial-scale=1" />
    <meta name="generator" content="VuePress 2.0.0-beta.66" />
    <meta name="theme" content="VuePress Theme Hope" />
    <meta property="og:url" content="https://gitee.com/zhaoxi7109/codenotes/springboot/springboot.html"><meta property="og:site_name" content="æ˜­æ™çš„å°ç ´ç«™"><meta property="og:title" content="SpringBootç¬”è®°"><meta property="og:description" content="SpringBoot 1. å…¥é—¨ 1.1 é¡¹ç›®åˆ›å»º å®˜ç½‘åˆ›å»ºï¼šhttps://start.spring.io ideaåˆ›å»º é˜¿é‡Œäº‘åˆ›å»ºï¼šhttps://start.aliyun.com/ æ‰‹å·¥åˆ›å»ºï¼šåˆ›å»ºæ™®é€šçš„Mavené¡¹ç›®ï¼Œå¯¼å…¥ç›¸å…³ä¾èµ–"><meta property="og:type" content="article"><meta property="og:locale" content="zh-CN"><meta property="og:updated_time" content="2023-07-20T05:42:02.000Z"><meta property="article:author" content="zhaoxi"><meta property="article:tag" content="SpringBoot"><meta property="article:modified_time" content="2023-07-20T05:42:02.000Z"><script type="application/ld+json">{"@context":"https://schema.org","@type":"Article","headline":"SpringBootç¬”è®°","image":[""],"dateModified":"2023-07-20T05:42:02.000Z","author":[{"@type":"Person","name":"zhaoxi","url":"https://gitee.com/zhaoxi7109"}]}</script><link rel="icon" href="/favicon.ico"><title>SpringBootç¬”è®° | æ˜­æ™çš„å°ç ´ç«™</title><meta name="description" content="SpringBoot 1. å…¥é—¨ 1.1 é¡¹ç›®åˆ›å»º å®˜ç½‘åˆ›å»ºï¼šhttps://start.spring.io ideaåˆ›å»º é˜¿é‡Œäº‘åˆ›å»ºï¼šhttps://start.aliyun.com/ æ‰‹å·¥åˆ›å»ºï¼šåˆ›å»ºæ™®é€šçš„Mavené¡¹ç›®ï¼Œå¯¼å…¥ç›¸å…³ä¾èµ–">
    <style>
      :root {
        --bg-color: #fff;
      }

      html[data-theme="dark"] {
        --bg-color: #1d1e1f;
      }

      html,
      body {
        background: var(--bg-color);
      }
    </style>
    <script>
      const userMode = localStorage.getItem("vuepress-theme-hope-scheme");
      const systemDarkMode =
        window.matchMedia &&
        window.matchMedia("(prefers-color-scheme: dark)").matches;

      if (userMode === "dark" || (userMode !== "light" && systemDarkMode)) {
        document.documentElement.setAttribute("data-theme", "dark");
      }
    </script>
    <link rel="preload" href="/assets/style-ae2f7067.css" as="style"><link rel="stylesheet" href="/assets/style-ae2f7067.css">
    <link rel="modulepreload" href="/assets/app-9f31e196.js"><link rel="modulepreload" href="/assets/springboot.html-9b7570de.js"><link rel="modulepreload" href="/assets/springboot.html-d22870b5.js"><link rel="modulepreload" href="/assets/plugin-vue_export-helper-c27b6911.js">
  </head>
  <body>
    <div id="app"><!--[--><!--[--><!--[--><span tabindex="-1"></span><a href="#main-content" class="vp-skip-link sr-only">è·³è‡³ä¸»è¦å…§å®¹</a><!--]--><!--[--><div class="theme-container has-toc"><!--[--><header id="navbar" class="vp-navbar"><div class="vp-navbar-start"><button type="button" class="vp-toggle-sidebar-button" title="Toggle Sidebar"><span class="icon"></span></button><!--[--><!----><!--]--><!--[--><a class="vp-link vp-brand" href="/"><img class="vp-nav-logo" src="/logo.png" alt="æ˜­æ™çš„å°ç ´ç«™"><!----><span class="vp-site-name hide-in-pad">æ˜­æ™çš„å°ç ´ç«™</span></a><!--]--><!--[--><!----><!--]--></div><div class="vp-navbar-center"><!--[--><!----><!--]--><!--[--><nav class="vp-nav-links"><div class="nav-item hide-in-mobile"><a class="vp-link nav-link" href="/quicknav/"><span class="font-icon icon fa-fw fa-sm fas fa-navigation" style=""></span>å¿«é€Ÿå¯¼èˆª<!----></a></div><div class="nav-item hide-in-mobile"><a class="vp-link nav-link" href="/blog/"><span class="font-icon icon fa-fw fa-sm fas fa-blog" style=""></span>åšå®¢ä¸»é¡µ<!----></a></div><div class="nav-item hide-in-mobile"><a class="vp-link nav-link active" href="/codenotes/"><span class="font-icon icon fa-fw fa-sm fas fa-code" style=""></span>ä»£ç ç¬”è®°<!----></a></div><div class="nav-item hide-in-mobile"><a class="vp-link nav-link" href="/projects/"><span class="font-icon icon fa-fw fa-sm fas fa-free" style=""></span>å¼€æºé¡¹ç›®<!----></a></div><div class="nav-item hide-in-mobile"><div class="dropdown-wrapper"><button type="button" class="dropdown-title" aria-label="èµ„æºå®åº“"><span class="title"><span class="font-icon icon fa-fw fa-sm fas fa-advance" style=""></span>èµ„æºå®åº“</span><span class="arrow"></span><ul class="nav-dropdown"><li class="dropdown-item"><a class="vp-link nav-link" href="/resources/books/"><span class="font-icon icon fa-fw fa-sm fas fa-animation" style=""></span>ä¹¦ç±èµ„æº<!----></a></li><li class="dropdown-item"><a class="vp-link nav-link" href="/resources/videos/"><span class="font-icon icon fa-fw fa-sm fas fa-play" style=""></span>å½±éŸ³èµ„æº<!----></a></li></ul></button></div></div></nav><!--]--><!--[--><!----><!--]--></div><div class="vp-navbar-end"><!--[--><!----><!--]--><!--[--><!----><div class="nav-item vp-repo"><a class="vp-repo-link" href="https://gitee.com/zhaoxi7109" target="_blank" rel="noopener noreferrer" aria-label="Gitee"><svg xmlns="http://www.w3.org/2000/svg" class="icon gitee-icon" viewBox="0 0 1024 1024" fill="currentColor" aria-label="gitee icon" style="width:1.25rem;height:1.25rem;vertical-align:middle;"><path d="M512 992C246.92 992 32 777.08 32 512S246.92 32 512 32s480 214.92 480 480-214.92 480-480 480zm242.97-533.34H482.39a23.7 23.7 0 0 0-23.7 23.7l-.03 59.28c0 13.08 10.59 23.7 23.7 23.7h165.96a23.7 23.7 0 0 1 23.7 23.7v11.85a71.1 71.1 0 0 1-71.1 71.1H375.71a23.7 23.7 0 0 1-23.7-23.7V423.11a71.1 71.1 0 0 1 71.1-71.1h331.8a23.7 23.7 0 0 0 23.7-23.7l.06-59.25a23.73 23.73 0 0 0-23.7-23.73H423.11a177.78 177.78 0 0 0-177.78 177.75v331.83c0 13.08 10.62 23.7 23.7 23.7h349.62a159.99 159.99 0 0 0 159.99-159.99V482.33a23.7 23.7 0 0 0-23.7-23.7z"></path></svg></a></div><div class="nav-item hide-in-mobile"><button type="button" class="outlook-button" tabindex="-1" aria-hidden="true"><svg xmlns="http://www.w3.org/2000/svg" class="icon outlook-icon" viewBox="0 0 1024 1024" fill="currentColor" aria-label="outlook icon"><path d="M224 800c0 9.6 3.2 44.8 6.4 54.4 6.4 48-48 76.8-48 76.8s80 41.6 147.2 0 134.4-134.4 38.4-195.2c-22.4-12.8-41.6-19.2-57.6-19.2C259.2 716.8 227.2 761.6 224 800zM560 675.2l-32 51.2c-51.2 51.2-83.2 32-83.2 32 25.6 67.2 0 112-12.8 128 25.6 6.4 51.2 9.6 80 9.6 54.4 0 102.4-9.6 150.4-32l0 0c3.2 0 3.2-3.2 3.2-3.2 22.4-16 12.8-35.2 6.4-44.8-9.6-12.8-12.8-25.6-12.8-41.6 0-54.4 60.8-99.2 137.6-99.2 6.4 0 12.8 0 22.4 0 12.8 0 38.4 9.6 48-25.6 0-3.2 0-3.2 3.2-6.4 0-3.2 3.2-6.4 3.2-6.4 6.4-16 6.4-16 6.4-19.2 9.6-35.2 16-73.6 16-115.2 0-105.6-41.6-198.4-108.8-268.8C704 396.8 560 675.2 560 675.2zM224 419.2c0-28.8 22.4-51.2 51.2-51.2 28.8 0 51.2 22.4 51.2 51.2 0 28.8-22.4 51.2-51.2 51.2C246.4 470.4 224 448 224 419.2zM320 284.8c0-22.4 19.2-41.6 41.6-41.6 22.4 0 41.6 19.2 41.6 41.6 0 22.4-19.2 41.6-41.6 41.6C339.2 326.4 320 307.2 320 284.8zM457.6 208c0-12.8 12.8-25.6 25.6-25.6 12.8 0 25.6 12.8 25.6 25.6 0 12.8-12.8 25.6-25.6 25.6C470.4 233.6 457.6 220.8 457.6 208zM128 505.6C128 592 153.6 672 201.6 736c28.8-60.8 112-60.8 124.8-60.8-16-51.2 16-99.2 16-99.2l316.8-422.4c-48-19.2-99.2-32-150.4-32C297.6 118.4 128 291.2 128 505.6zM764.8 86.4c-22.4 19.2-390.4 518.4-390.4 518.4-22.4 28.8-12.8 76.8 22.4 99.2l9.6 6.4c35.2 22.4 80 12.8 99.2-25.6 0 0 6.4-12.8 9.6-19.2 54.4-105.6 275.2-524.8 288-553.6 6.4-19.2-3.2-32-19.2-32C777.6 76.8 771.2 80 764.8 86.4z"></path></svg><div class="outlook-dropdown"><!----></div></button></div><!----><!--]--><!--[--><!----><!--]--><button type="button" class="vp-toggle-navbar-button" aria-label="Toggle Navbar" aria-expanded="false" aria-controls="nav-screen"><span><span class="vp-top"></span><span class="vp-middle"></span><span class="vp-bottom"></span></span></button></div></header><!----><!--]--><!----><div class="toggle-sidebar-wrapper"><span class="arrow start"></span></div><aside id="sidebar" class="vp-sidebar"><!--[--><!----><!--]--><ul class="vp-sidebar-links"><li><section class="vp-sidebar-group"><button class="vp-sidebar-heading clickable" type="button"><span class="font-icon icon fa-fw fa-sm fas fa-java" style=""></span><span class="vp-sidebar-title">Javaæ ¸å¿ƒ</span><span class="vp-arrow end"></span></button><!----></section></li><li><section class="vp-sidebar-group"><button class="vp-sidebar-heading clickable" type="button"><span class="font-icon icon fa-fw fa-sm fas fa-frame" style=""></span><span class="vp-sidebar-title">ä¼ä¸šçº§æ¡†æ¶</span><span class="vp-arrow end"></span></button><!----></section></li><li><section class="vp-sidebar-group"><button class="vp-sidebar-heading clickable" type="button"><span class="font-icon icon fa-fw fa-sm fas fa-ability" style=""></span><span class="vp-sidebar-title">ç®—æ³•å’Œæ•°æ®ç»“æ„</span><span class="vp-arrow end"></span></button><!----></section></li><li><section class="vp-sidebar-group"><button class="vp-sidebar-heading clickable" type="button"><span class="font-icon icon fa-fw fa-sm fas fa-mysql" style=""></span><span class="vp-sidebar-title">æ•°æ®åº“</span><span class="vp-arrow end"></span></button><!----></section></li><li><section class="vp-sidebar-group"><button class="vp-sidebar-heading clickable" type="button"><span class="font-icon icon fa-fw fa-sm fas fa-tool" style=""></span><span class="vp-sidebar-title">å¼€å‘å¿…å¤‡</span><span class="vp-arrow end"></span></button><!----></section></li><li><section class="vp-sidebar-group"><button class="vp-sidebar-heading clickable active" type="button"><span class="font-icon icon fa-fw fa-sm fas fa-tool" style=""></span><span class="vp-sidebar-title">SpringBoot</span><span class="vp-arrow down"></span></button><ul class="vp-sidebar-links"><li><!--[--><a class="vp-link nav-link active vp-sidebar-link vp-sidebar-page active" href="/codenotes/springboot/springboot.html"><span class="font-icon icon fa-fw fa-sm fas fa-write" style=""></span>SpringBootç¬”è®°<!----></a><ul class="vp-sidebar-sub-headers"><li class="vp-sidebar-sub-header"><a class="vp-link nav-link vp-sidebar-link vp-heading" href="/codenotes/springboot/springboot.html#_1-å…¥é—¨"><!---->1. å…¥é—¨<!----></a><ul class="vp-sidebar-sub-headers"><li class="vp-sidebar-sub-header"><a class="vp-link nav-link vp-sidebar-link vp-heading" href="/codenotes/springboot/springboot.html#_1-1-é¡¹ç›®åˆ›å»º"><!---->1.1 é¡¹ç›®åˆ›å»º<!----></a><ul class="vp-sidebar-sub-headers"></ul></li><li class="vp-sidebar-sub-header"><a class="vp-link nav-link vp-sidebar-link vp-heading" href="/codenotes/springboot/springboot.html#_1-2-é…ç½®æ–‡ä»¶"><!---->1.2 é…ç½®æ–‡ä»¶<!----></a><ul class="vp-sidebar-sub-headers"></ul></li><li class="vp-sidebar-sub-header"><a class="vp-link nav-link vp-sidebar-link vp-heading" href="/codenotes/springboot/springboot.html#_1-3-ymlæ–‡ä»¶"><!---->1.3 ymlæ–‡ä»¶<!----></a><ul class="vp-sidebar-sub-headers"></ul></li></ul></li><li class="vp-sidebar-sub-header"><a class="vp-link nav-link vp-sidebar-link vp-heading" href="/codenotes/springboot/springboot.html#_2-æ•´åˆ"><!---->2. æ•´åˆ<!----></a><ul class="vp-sidebar-sub-headers"><li class="vp-sidebar-sub-header"><a class="vp-link nav-link vp-sidebar-link vp-heading" href="/codenotes/springboot/springboot.html#_2-1-æ•´åˆjunit"><!---->2.1 æ•´åˆJUnit<!----></a><ul class="vp-sidebar-sub-headers"></ul></li><li class="vp-sidebar-sub-header"><a class="vp-link nav-link vp-sidebar-link vp-heading" href="/codenotes/springboot/springboot.html#_2-2-æ•´åˆmybatis"><!---->2.2 æ•´åˆMybatis<!----></a><ul class="vp-sidebar-sub-headers"></ul></li><li class="vp-sidebar-sub-header"><a class="vp-link nav-link vp-sidebar-link vp-heading" href="/codenotes/springboot/springboot.html#_2-3-æ•´åˆmybatis-plus"><!---->2.3 æ•´åˆMybatis-plus<!----></a><ul class="vp-sidebar-sub-headers"></ul></li><li class="vp-sidebar-sub-header"><a class="vp-link nav-link vp-sidebar-link vp-heading" href="/codenotes/springboot/springboot.html#_2-4-æ•´åˆdruid"><!---->2.4 æ•´åˆdruid<!----></a><ul class="vp-sidebar-sub-headers"></ul></li></ul></li><li class="vp-sidebar-sub-header"><a class="vp-link nav-link vp-sidebar-link vp-heading" href="/codenotes/springboot/springboot.html#_3-é¡¹ç›®ç»“æ„"><!---->3. é¡¹ç›®ç»“æ„<!----></a><ul class="vp-sidebar-sub-headers"><li class="vp-sidebar-sub-header"><a class="vp-link nav-link vp-sidebar-link vp-heading" href="/codenotes/springboot/springboot.html#_3-1-ä¸‰å±‚æ¶æ„"><!---->3.1 ä¸‰å±‚æ¶æ„<!----></a><ul class="vp-sidebar-sub-headers"></ul></li><li class="vp-sidebar-sub-header"><a class="vp-link nav-link vp-sidebar-link vp-heading" href="/codenotes/springboot/springboot.html#_3-2-å‰åç«¯æ•°æ®åè®®"><!---->3.2 å‰åç«¯æ•°æ®åè®®<!----></a><ul class="vp-sidebar-sub-headers"></ul></li></ul></li><li class="vp-sidebar-sub-header"><a class="vp-link nav-link vp-sidebar-link vp-heading" href="/codenotes/springboot/springboot.html#_4-è¿ç»´ç›¸å…³"><!---->4. è¿ç»´ç›¸å…³<!----></a><ul class="vp-sidebar-sub-headers"><li class="vp-sidebar-sub-header"><a class="vp-link nav-link vp-sidebar-link vp-heading" href="/codenotes/springboot/springboot.html#_4-1-æ‰“åŒ…"><!---->4.1 æ‰“åŒ…<!----></a><ul class="vp-sidebar-sub-headers"></ul></li><li class="vp-sidebar-sub-header"><a class="vp-link nav-link vp-sidebar-link vp-heading" href="/codenotes/springboot/springboot.html#_4-2-windowsç«¯å£æŒ‡ä»¤"><!---->4.2 windowsç«¯å£æŒ‡ä»¤<!----></a><ul class="vp-sidebar-sub-headers"></ul></li><li class="vp-sidebar-sub-header"><a class="vp-link nav-link vp-sidebar-link vp-heading" href="/codenotes/springboot/springboot.html#_4-3-ä¸´æ—¶å±æ€§"><!---->4.3 ä¸´æ—¶å±æ€§<!----></a><ul class="vp-sidebar-sub-headers"></ul></li><li class="vp-sidebar-sub-header"><a class="vp-link nav-link vp-sidebar-link vp-heading" href="/codenotes/springboot/springboot.html#_4-4-é…ç½®"><!---->4.4 é…ç½®<!----></a><ul class="vp-sidebar-sub-headers"></ul></li><li class="vp-sidebar-sub-header"><a class="vp-link nav-link vp-sidebar-link vp-heading" href="/codenotes/springboot/springboot.html#_4-5-çƒ­éƒ¨ç½²"><!---->4.5 çƒ­éƒ¨ç½²<!----></a><ul class="vp-sidebar-sub-headers"></ul></li><li class="vp-sidebar-sub-header"><a class="vp-link nav-link vp-sidebar-link vp-heading" href="/codenotes/springboot/springboot.html#_4-6-å±æ€§ç»‘å®š"><!---->4.6 å±æ€§ç»‘å®š<!----></a><ul class="vp-sidebar-sub-headers"></ul></li><li class="vp-sidebar-sub-header"><a class="vp-link nav-link vp-sidebar-link vp-heading" href="/codenotes/springboot/springboot.html#_4-7-å®½æ¾ç»‘å®š"><!---->4.7 å®½æ¾ç»‘å®š<!----></a><ul class="vp-sidebar-sub-headers"></ul></li><li class="vp-sidebar-sub-header"><a class="vp-link nav-link vp-sidebar-link vp-heading" href="/codenotes/springboot/springboot.html#_4-8-å‡ é—¨æŠ€æœ¯"><!---->4.8 å‡ é—¨æŠ€æœ¯<!----></a><ul class="vp-sidebar-sub-headers"></ul></li><li class="vp-sidebar-sub-header"><a class="vp-link nav-link vp-sidebar-link vp-heading" href="/codenotes/springboot/springboot.html#_4-9-æµ‹è¯•"><!---->4.9 æµ‹è¯•<!----></a><ul class="vp-sidebar-sub-headers"></ul></li></ul></li><li class="vp-sidebar-sub-header"><a class="vp-link nav-link vp-sidebar-link vp-heading" href="/codenotes/springboot/springboot.html#_5-æ•°æ®å±‚è§£å†³æ–¹æ¡ˆ"><!---->5. æ•°æ®å±‚è§£å†³æ–¹æ¡ˆ<!----></a><ul class="vp-sidebar-sub-headers"><li class="vp-sidebar-sub-header"><a class="vp-link nav-link vp-sidebar-link vp-heading" href="/codenotes/springboot/springboot.html#_5-1-sql"><!---->5.1 SQL<!----></a><ul class="vp-sidebar-sub-headers"></ul></li><li class="vp-sidebar-sub-header"><a class="vp-link nav-link vp-sidebar-link vp-heading" href="/codenotes/springboot/springboot.html#_5-2-æ•°æ®æºé…ç½®"><!---->5.2 æ•°æ®æºé…ç½®<!----></a><ul class="vp-sidebar-sub-headers"></ul></li><li class="vp-sidebar-sub-header"><a class="vp-link nav-link vp-sidebar-link vp-heading" href="/codenotes/springboot/springboot.html#_5-3-æŒä¹…åŒ–æŠ€æœ¯"><!---->5.3 æŒä¹…åŒ–æŠ€æœ¯<!----></a><ul class="vp-sidebar-sub-headers"></ul></li><li class="vp-sidebar-sub-header"><a class="vp-link nav-link vp-sidebar-link vp-heading" href="/codenotes/springboot/springboot.html#_5-4-capå®šç†-cap-theorem"><!---->5.4 CAPå®šç†ï¼ˆCAP theoremï¼‰<!----></a><ul class="vp-sidebar-sub-headers"></ul></li><li class="vp-sidebar-sub-header"><a class="vp-link nav-link vp-sidebar-link vp-heading" href="/codenotes/springboot/springboot.html#_5-5-redisæŒä¹…åŒ–"><!---->5.5 RedisæŒä¹…åŒ–<!----></a><ul class="vp-sidebar-sub-headers"></ul></li></ul></li><li class="vp-sidebar-sub-header"><a class="vp-link nav-link vp-sidebar-link vp-heading" href="/codenotes/springboot/springboot.html#_6-æ•´åˆç¬¬ä¸‰æ–¹æŠ€æœ¯"><!---->6. æ•´åˆç¬¬ä¸‰æ–¹æŠ€æœ¯<!----></a><ul class="vp-sidebar-sub-headers"><li class="vp-sidebar-sub-header"><a class="vp-link nav-link vp-sidebar-link vp-heading" href="/codenotes/springboot/springboot.html#_6-1-ç¼“å­˜"><!---->6.1 ç¼“å­˜<!----></a><ul class="vp-sidebar-sub-headers"></ul></li><li class="vp-sidebar-sub-header"><a class="vp-link nav-link vp-sidebar-link vp-heading" href="/codenotes/springboot/springboot.html#_6-2-æ•°æ®æ·˜æ±°ç­–ç•¥"><!---->6.2 æ•°æ®æ·˜æ±°ç­–ç•¥<!----></a><ul class="vp-sidebar-sub-headers"></ul></li><li class="vp-sidebar-sub-header"><a class="vp-link nav-link vp-sidebar-link vp-heading" href="/codenotes/springboot/springboot.html#_6-3-ä»»åŠ¡"><!---->6.3 ä»»åŠ¡<!----></a><ul class="vp-sidebar-sub-headers"></ul></li><li class="vp-sidebar-sub-header"><a class="vp-link nav-link vp-sidebar-link vp-heading" href="/codenotes/springboot/springboot.html#_6-4-æ•´åˆjavamail"><!---->6.4 æ•´åˆjavamail<!----></a><ul class="vp-sidebar-sub-headers"></ul></li><li class="vp-sidebar-sub-header"><a class="vp-link nav-link vp-sidebar-link vp-heading" href="/codenotes/springboot/springboot.html#_6-5-æ¶ˆæ¯"><!---->6.5 æ¶ˆæ¯<!----></a><ul class="vp-sidebar-sub-headers"></ul></li><li class="vp-sidebar-sub-header"><a class="vp-link nav-link vp-sidebar-link vp-heading" href="/codenotes/springboot/springboot.html#_6-5-3-activemq"><!---->6.5.3 ActiveMQ<!----></a><ul class="vp-sidebar-sub-headers"></ul></li><li class="vp-sidebar-sub-header"><a class="vp-link nav-link vp-sidebar-link vp-heading" href="/codenotes/springboot/springboot.html#_6-6-ç›‘æ§"><!---->6.6 ç›‘æ§<!----></a><ul class="vp-sidebar-sub-headers"></ul></li><li class="vp-sidebar-sub-header"><a class="vp-link nav-link vp-sidebar-link vp-heading" href="/codenotes/springboot/springboot.html#_6-7-æŠ€æœ¯é€‰å‹"><!---->6.7 æŠ€æœ¯é€‰å‹<!----></a><ul class="vp-sidebar-sub-headers"></ul></li></ul></li><li class="vp-sidebar-sub-header"><a class="vp-link nav-link vp-sidebar-link vp-heading" href="/codenotes/springboot/springboot.html#_7-ideaå¿«æ·é”®"><!---->7. ideaå¿«æ·é”®<!----></a><ul class="vp-sidebar-sub-headers"></ul></li><li class="vp-sidebar-sub-header"><a class="vp-link nav-link vp-sidebar-link vp-heading" href="/codenotes/springboot/springboot.html#_8-å¸¸ç”¨æ³¨è§£"><!---->8. å¸¸ç”¨æ³¨è§£<!----></a><ul class="vp-sidebar-sub-headers"><li class="vp-sidebar-sub-header"><a class="vp-link nav-link vp-sidebar-link vp-heading" href="/codenotes/springboot/springboot.html#_8-1springå¸¸ç”¨æ³¨è§£"><!---->8.1Springå¸¸ç”¨æ³¨è§£<!----></a><ul class="vp-sidebar-sub-headers"></ul></li><li class="vp-sidebar-sub-header"><a class="vp-link nav-link vp-sidebar-link vp-heading" href="/codenotes/springboot/springboot.html#_8-2-springmvcå¸¸ç”¨æ³¨è§£"><!---->8.2 SpringMVCå¸¸ç”¨æ³¨è§£<!----></a><ul class="vp-sidebar-sub-headers"></ul></li><li class="vp-sidebar-sub-header"><a class="vp-link nav-link vp-sidebar-link vp-heading" href="/codenotes/springboot/springboot.html#_8-3-springbootå¸¸ç”¨æ³¨è§£"><!---->8.3 SpringBootå¸¸ç”¨æ³¨è§£<!----></a><ul class="vp-sidebar-sub-headers"></ul></li><li class="vp-sidebar-sub-header"><a class="vp-link nav-link vp-sidebar-link vp-heading" href="/codenotes/springboot/springboot.html#_8-4-springcloudå¸¸ç”¨æ³¨è§£"><!---->8.4 SpringCloudå¸¸ç”¨æ³¨è§£<!----></a><ul class="vp-sidebar-sub-headers"></ul></li></ul></li><li class="vp-sidebar-sub-header"><a class="vp-link nav-link vp-sidebar-link vp-heading" href="/codenotes/springboot/springboot.html#_9-å…¶ä»–"><!---->9. å…¶ä»–<!----></a><ul class="vp-sidebar-sub-headers"><li class="vp-sidebar-sub-header"><a class="vp-link nav-link vp-sidebar-link vp-heading" href="/codenotes/springboot/springboot.html#_9-1-æ•°æ®åº“å­—ç¬¦é›†"><!---->9.1 æ•°æ®åº“å­—ç¬¦é›†<!----></a><ul class="vp-sidebar-sub-headers"></ul></li></ul></li><li class="vp-sidebar-sub-header"><a class="vp-link nav-link vp-sidebar-link vp-heading" href="/codenotes/springboot/springboot.html#_10-lunix"><!---->10. Lunix<!----></a><ul class="vp-sidebar-sub-headers"><li class="vp-sidebar-sub-header"><a class="vp-link nav-link vp-sidebar-link vp-heading" href="/codenotes/springboot/springboot.html#_10-1-linuxæ¦‚æ‹¬"><!---->10.1 Linuxæ¦‚æ‹¬<!----></a><ul class="vp-sidebar-sub-headers"></ul></li><li class="vp-sidebar-sub-header"><a class="vp-link nav-link vp-sidebar-link vp-heading" href="/codenotes/springboot/springboot.html#_10-2-è™šæ‹Ÿæœºvmwareä¸­çš„ç½‘ç»œé€‚é…å™¨"><!---->10.2 è™šæ‹ŸæœºVMWareä¸­çš„ç½‘ç»œé€‚é…å™¨<!----></a><ul class="vp-sidebar-sub-headers"></ul></li></ul></li></ul><!--]--></li></ul></section></li><li><section class="vp-sidebar-group"><button class="vp-sidebar-heading clickable" type="button"><span class="font-icon icon fa-fw fa-sm fas fa-tool" style=""></span><span class="vp-sidebar-title">SpringCloud</span><span class="vp-arrow end"></span></button><!----></section></li></ul><!--[--><!----><!--]--></aside><!--[--><main id="main-content" class="vp-page"><!--[--><!----><!----><nav class="vp-breadcrumb disable"></nav><div class="vp-page-title"><h1><span class="font-icon icon fa-fw fa-sm fas fa-write" style=""></span>SpringBootç¬”è®°</h1><div class="page-info"><span class="page-category-info" aria-label="åˆ†ç±»ğŸŒˆ" data-balloon-pos="down"><svg xmlns="http://www.w3.org/2000/svg" class="icon category-icon" viewBox="0 0 1024 1024" fill="currentColor" aria-label="category icon"><path d="M148.41 106.992h282.176c22.263 0 40.31 18.048 40.31 40.31V429.48c0 22.263-18.047 40.31-40.31 40.31H148.41c-22.263 0-40.311-18.047-40.311-40.31V147.302c0-22.263 18.048-40.31 40.311-40.31zM147.556 553.478H429.73c22.263 0 40.311 18.048 40.311 40.31v282.176c0 22.263-18.048 40.312-40.31 40.312H147.555c-22.263 0-40.311-18.049-40.311-40.312V593.79c0-22.263 18.048-40.311 40.31-40.311zM593.927 106.992h282.176c22.263 0 40.31 18.048 40.31 40.31V429.48c0 22.263-18.047 40.31-40.31 40.31H593.927c-22.263 0-40.311-18.047-40.311-40.31V147.302c0-22.263 18.048-40.31 40.31-40.31zM730.22 920.502H623.926c-40.925 0-74.22-33.388-74.22-74.425V623.992c0-41.038 33.387-74.424 74.425-74.424h222.085c41.038 0 74.424 33.226 74.424 74.067v114.233c0 10.244-8.304 18.548-18.547 18.548s-18.548-8.304-18.548-18.548V623.635c0-20.388-16.746-36.974-37.33-36.974H624.13c-20.585 0-37.331 16.747-37.331 37.33v222.086c0 20.585 16.654 37.331 37.126 37.331H730.22c10.243 0 18.547 8.304 18.547 18.547 0 10.244-8.304 18.547-18.547 18.547z"></path></svg><!--[--><span class="page-category-item category8 clickable" role="navigation">SpringBoot</span><!--]--><meta property="articleSection" content="SpringBoot"></span><span class="page-tag-info" aria-label="æ ‡ç­¾ğŸ·" data-balloon-pos="down"><svg xmlns="http://www.w3.org/2000/svg" class="icon tag-icon" viewBox="0 0 1024 1024" fill="currentColor" aria-label="tag icon"><path d="M939.902 458.563L910.17 144.567c-1.507-16.272-14.465-29.13-30.737-30.737L565.438 84.098h-.402c-3.215 0-5.726 1.005-7.634 2.913l-470.39 470.39a10.004 10.004 0 000 14.164l365.423 365.424c1.909 1.908 4.42 2.913 7.132 2.913s5.223-1.005 7.132-2.913l470.39-470.39c2.01-2.11 3.014-5.023 2.813-8.036zm-240.067-72.121c-35.458 0-64.286-28.828-64.286-64.286s28.828-64.285 64.286-64.285 64.286 28.828 64.286 64.285-28.829 64.286-64.286 64.286z"></path></svg><!--[--><span class="page-tag-item tag8 clickable" role="navigation">SpringBoot</span><!--]--><meta property="keywords" content="SpringBoot"></span><span class="page-reading-time-info" aria-label="é˜…è¯»æ—¶é—´âŒ›" data-balloon-pos="down"><svg xmlns="http://www.w3.org/2000/svg" class="icon timer-icon" viewBox="0 0 1024 1024" fill="currentColor" aria-label="timer icon"><path d="M799.387 122.15c4.402-2.978 7.38-7.897 7.38-13.463v-1.165c0-8.933-7.38-16.312-16.312-16.312H256.33c-8.933 0-16.311 7.38-16.311 16.312v1.165c0 5.825 2.977 10.874 7.637 13.592 4.143 194.44 97.22 354.963 220.201 392.763-122.204 37.542-214.893 196.511-220.2 389.397-4.661 5.049-7.638 11.651-7.638 19.03v5.825h566.49v-5.825c0-7.379-2.849-13.981-7.509-18.9-5.049-193.016-97.867-351.985-220.2-389.527 123.24-37.67 216.446-198.453 220.588-392.892zM531.16 450.445v352.632c117.674 1.553 211.787 40.778 211.787 88.676H304.097c0-48.286 95.149-87.382 213.728-88.676V450.445c-93.077-3.107-167.901-81.297-167.901-177.093 0-8.803 6.99-15.793 15.793-15.793 8.803 0 15.794 6.99 15.794 15.793 0 80.261 63.69 145.635 142.01 145.635s142.011-65.374 142.011-145.635c0-8.803 6.99-15.793 15.794-15.793s15.793 6.99 15.793 15.793c0 95.019-73.789 172.82-165.96 177.093z"></path></svg><span>å¤§çº¦ 53 åˆ†é’Ÿ</span><meta property="timeRequired" content="PT53M"></span></div><hr></div><div class="toc-place-holder"><aside id="toc"><!--[--><!----><!--]--><div class="toc-header">æ­¤é¡µå†…å®¹<button type="button" class="print-button" title="æ‰“å°"><svg xmlns="http://www.w3.org/2000/svg" class="icon print-icon" viewBox="0 0 1024 1024" fill="currentColor" aria-label="print icon"><path d="M819.2 364.8h-44.8V128c0-17.067-14.933-32-32-32H281.6c-17.067 0-32 14.933-32 32v236.8h-44.8C145.067 364.8 96 413.867 96 473.6v192c0 59.733 49.067 108.8 108.8 108.8h44.8V896c0 17.067 14.933 32 32 32h460.8c17.067 0 32-14.933 32-32V774.4h44.8c59.733 0 108.8-49.067 108.8-108.8v-192c0-59.733-49.067-108.8-108.8-108.8zM313.6 160h396.8v204.8H313.6V160zm396.8 704H313.6V620.8h396.8V864zM864 665.6c0 25.6-19.2 44.8-44.8 44.8h-44.8V588.8c0-17.067-14.933-32-32-32H281.6c-17.067 0-32 14.933-32 32v121.6h-44.8c-25.6 0-44.8-19.2-44.8-44.8v-192c0-25.6 19.2-44.8 44.8-44.8h614.4c25.6 0 44.8 19.2 44.8 44.8v192z"></path></svg></button></div><div class="toc-wrapper"><ul class="toc-list"><!--[--><li class="toc-item"><a class="vp-link toc-link level2" href="/#_1-å…¥é—¨">1. å…¥é—¨</a></li><li><ul class="toc-list"><!--[--><li class="toc-item"><a class="vp-link toc-link level3" href="/#_1-1-é¡¹ç›®åˆ›å»º">1.1 é¡¹ç›®åˆ›å»º</a></li><!----><!--]--><!--[--><li class="toc-item"><a class="vp-link toc-link level3" href="/#_1-2-é…ç½®æ–‡ä»¶">1.2 é…ç½®æ–‡ä»¶</a></li><!----><!--]--><!--[--><li class="toc-item"><a class="vp-link toc-link level3" href="/#_1-3-ymlæ–‡ä»¶">1.3 ymlæ–‡ä»¶</a></li><!----><!--]--></ul></li><!--]--><!--[--><li class="toc-item"><a class="vp-link toc-link level2" href="/#_2-æ•´åˆ">2. æ•´åˆ</a></li><li><ul class="toc-list"><!--[--><li class="toc-item"><a class="vp-link toc-link level3" href="/#_2-1-æ•´åˆjunit">2.1 æ•´åˆJUnit</a></li><!----><!--]--><!--[--><li class="toc-item"><a class="vp-link toc-link level3" href="/#_2-2-æ•´åˆmybatis">2.2 æ•´åˆMybatis</a></li><!----><!--]--><!--[--><li class="toc-item"><a class="vp-link toc-link level3" href="/#_2-3-æ•´åˆmybatis-plus">2.3 æ•´åˆMybatis-plus</a></li><!----><!--]--><!--[--><li class="toc-item"><a class="vp-link toc-link level3" href="/#_2-4-æ•´åˆdruid">2.4 æ•´åˆdruid</a></li><!----><!--]--></ul></li><!--]--><!--[--><li class="toc-item"><a class="vp-link toc-link level2" href="/#_3-é¡¹ç›®ç»“æ„">3. é¡¹ç›®ç»“æ„</a></li><li><ul class="toc-list"><!--[--><li class="toc-item"><a class="vp-link toc-link level3" href="/#_3-1-ä¸‰å±‚æ¶æ„">3.1 ä¸‰å±‚æ¶æ„</a></li><!----><!--]--><!--[--><li class="toc-item"><a class="vp-link toc-link level3" href="/#_3-2-å‰åç«¯æ•°æ®åè®®">3.2 å‰åç«¯æ•°æ®åè®®</a></li><!----><!--]--></ul></li><!--]--><!--[--><li class="toc-item"><a class="vp-link toc-link level2" href="/#_4-è¿ç»´ç›¸å…³">4. è¿ç»´ç›¸å…³</a></li><li><ul class="toc-list"><!--[--><li class="toc-item"><a class="vp-link toc-link level3" href="/#_4-1-æ‰“åŒ…">4.1 æ‰“åŒ…</a></li><!----><!--]--><!--[--><li class="toc-item"><a class="vp-link toc-link level3" href="/#_4-2-windowsç«¯å£æŒ‡ä»¤">4.2 windowsç«¯å£æŒ‡ä»¤</a></li><!----><!--]--><!--[--><li class="toc-item"><a class="vp-link toc-link level3" href="/#_4-3-ä¸´æ—¶å±æ€§">4.3 ä¸´æ—¶å±æ€§</a></li><!----><!--]--><!--[--><li class="toc-item"><a class="vp-link toc-link level3" href="/#_4-4-é…ç½®">4.4 é…ç½®</a></li><!----><!--]--><!--[--><li class="toc-item"><a class="vp-link toc-link level3" href="/#_4-5-çƒ­éƒ¨ç½²">4.5 çƒ­éƒ¨ç½²</a></li><!----><!--]--><!--[--><li class="toc-item"><a class="vp-link toc-link level3" href="/#_4-6-å±æ€§ç»‘å®š">4.6 å±æ€§ç»‘å®š</a></li><!----><!--]--><!--[--><li class="toc-item"><a class="vp-link toc-link level3" href="/#_4-7-å®½æ¾ç»‘å®š">4.7 å®½æ¾ç»‘å®š</a></li><!----><!--]--><!--[--><li class="toc-item"><a class="vp-link toc-link level3" href="/#_4-8-å‡ é—¨æŠ€æœ¯">4.8 å‡ é—¨æŠ€æœ¯</a></li><!----><!--]--><!--[--><li class="toc-item"><a class="vp-link toc-link level3" href="/#_4-9-æµ‹è¯•">4.9 æµ‹è¯•</a></li><!----><!--]--></ul></li><!--]--><!--[--><li class="toc-item"><a class="vp-link toc-link level2" href="/#_5-æ•°æ®å±‚è§£å†³æ–¹æ¡ˆ">5. æ•°æ®å±‚è§£å†³æ–¹æ¡ˆ</a></li><li><ul class="toc-list"><!--[--><li class="toc-item"><a class="vp-link toc-link level3" href="/#_5-1-sql">5.1 SQL</a></li><!----><!--]--><!--[--><li class="toc-item"><a class="vp-link toc-link level3" href="/#_5-2-æ•°æ®æºé…ç½®">5.2 æ•°æ®æºé…ç½®</a></li><!----><!--]--><!--[--><li class="toc-item"><a class="vp-link toc-link level3" href="/#_5-3-æŒä¹…åŒ–æŠ€æœ¯">5.3 æŒä¹…åŒ–æŠ€æœ¯</a></li><!----><!--]--><!--[--><li class="toc-item"><a class="vp-link toc-link level3" href="/#_5-4-capå®šç†-cap-theorem">5.4 CAPå®šç†ï¼ˆCAP theoremï¼‰</a></li><!----><!--]--><!--[--><li class="toc-item"><a class="vp-link toc-link level3" href="/#_5-5-redisæŒä¹…åŒ–">5.5 RedisæŒä¹…åŒ–</a></li><!----><!--]--></ul></li><!--]--><!--[--><li class="toc-item"><a class="vp-link toc-link level2" href="/#_6-æ•´åˆç¬¬ä¸‰æ–¹æŠ€æœ¯">6. æ•´åˆç¬¬ä¸‰æ–¹æŠ€æœ¯</a></li><li><ul class="toc-list"><!--[--><li class="toc-item"><a class="vp-link toc-link level3" href="/#_6-1-ç¼“å­˜">6.1 ç¼“å­˜</a></li><!----><!--]--><!--[--><li class="toc-item"><a class="vp-link toc-link level3" href="/#_6-2-æ•°æ®æ·˜æ±°ç­–ç•¥">6.2 æ•°æ®æ·˜æ±°ç­–ç•¥</a></li><!----><!--]--><!--[--><li class="toc-item"><a class="vp-link toc-link level3" href="/#_6-3-ä»»åŠ¡">6.3 ä»»åŠ¡</a></li><!----><!--]--><!--[--><li class="toc-item"><a class="vp-link toc-link level3" href="/#_6-4-æ•´åˆjavamail">6.4 æ•´åˆjavamail</a></li><!----><!--]--><!--[--><li class="toc-item"><a class="vp-link toc-link level3" href="/#_6-5-æ¶ˆæ¯">6.5 æ¶ˆæ¯</a></li><!----><!--]--><!--[--><li class="toc-item"><a class="vp-link toc-link level3" href="/#_6-5-3-activemq">6.5.3 ActiveMQ</a></li><!----><!--]--><!--[--><li class="toc-item"><a class="vp-link toc-link level3" href="/#_6-6-ç›‘æ§">6.6 ç›‘æ§</a></li><!----><!--]--><!--[--><li class="toc-item"><a class="vp-link toc-link level3" href="/#_6-7-æŠ€æœ¯é€‰å‹">6.7 æŠ€æœ¯é€‰å‹</a></li><!----><!--]--></ul></li><!--]--><!--[--><li class="toc-item"><a class="vp-link toc-link level2" href="/#_7-ideaå¿«æ·é”®">7. ideaå¿«æ·é”®</a></li><!----><!--]--><!--[--><li class="toc-item"><a class="vp-link toc-link level2" href="/#_8-å¸¸ç”¨æ³¨è§£">8. å¸¸ç”¨æ³¨è§£</a></li><li><ul class="toc-list"><!--[--><li class="toc-item"><a class="vp-link toc-link level3" href="/#_8-1springå¸¸ç”¨æ³¨è§£">8.1Springå¸¸ç”¨æ³¨è§£</a></li><!----><!--]--><!--[--><li class="toc-item"><a class="vp-link toc-link level3" href="/#_8-2-springmvcå¸¸ç”¨æ³¨è§£">8.2 SpringMVCå¸¸ç”¨æ³¨è§£</a></li><!----><!--]--><!--[--><li class="toc-item"><a class="vp-link toc-link level3" href="/#_8-3-springbootå¸¸ç”¨æ³¨è§£">8.3 SpringBootå¸¸ç”¨æ³¨è§£</a></li><!----><!--]--><!--[--><li class="toc-item"><a class="vp-link toc-link level3" href="/#_8-4-springcloudå¸¸ç”¨æ³¨è§£">8.4 SpringCloudå¸¸ç”¨æ³¨è§£</a></li><!----><!--]--></ul></li><!--]--><!--[--><li class="toc-item"><a class="vp-link toc-link level2" href="/#_9-å…¶ä»–">9. å…¶ä»–</a></li><li><ul class="toc-list"><!--[--><li class="toc-item"><a class="vp-link toc-link level3" href="/#_9-1-æ•°æ®åº“å­—ç¬¦é›†">9.1 æ•°æ®åº“å­—ç¬¦é›†</a></li><!----><!--]--></ul></li><!--]--><!--[--><li class="toc-item"><a class="vp-link toc-link level2" href="/#_10-lunix">10. Lunix</a></li><li><ul class="toc-list"><!--[--><li class="toc-item"><a class="vp-link toc-link level3" href="/#_10-1-linuxæ¦‚æ‹¬">10.1 Linuxæ¦‚æ‹¬</a></li><!----><!--]--><!--[--><li class="toc-item"><a class="vp-link toc-link level3" href="/#_10-2-è™šæ‹Ÿæœºvmwareä¸­çš„ç½‘ç»œé€‚é…å™¨">10.2 è™šæ‹ŸæœºVMWareä¸­çš„ç½‘ç»œé€‚é…å™¨</a></li><!----><!--]--></ul></li><!--]--></ul><div class="toc-marker" style="top:-1.7rem;"></div></div><!--[--><!----><!--]--></aside></div><!----><div class="theme-hope-content"><h1 id="springboot" tabindex="-1"><a class="header-anchor" href="#springboot" aria-hidden="true">#</a> SpringBoot</h1><h2 id="_1-å…¥é—¨" tabindex="-1"><a class="header-anchor" href="#_1-å…¥é—¨" aria-hidden="true">#</a> 1. å…¥é—¨</h2><h3 id="_1-1-é¡¹ç›®åˆ›å»º" tabindex="-1"><a class="header-anchor" href="#_1-1-é¡¹ç›®åˆ›å»º" aria-hidden="true">#</a> 1.1 é¡¹ç›®åˆ›å»º</h3><ul><li><p>å®˜ç½‘åˆ›å»ºï¼š<a href="https://start.spring.io" target="_blank" rel="noopener noreferrer">https://start.spring.io<span><svg class="external-link-icon" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg><span class="external-link-icon-sr-only">open in new window</span></span></a></p></li><li><p>ideaåˆ›å»º</p></li><li><p>é˜¿é‡Œäº‘åˆ›å»ºï¼š<a href="https://start.aliyun.com/" target="_blank" rel="noopener noreferrer">https://start.aliyun.com/<span><svg class="external-link-icon" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg><span class="external-link-icon-sr-only">open in new window</span></span></a></p></li><li><p>æ‰‹å·¥åˆ›å»ºï¼šåˆ›å»ºæ™®é€šçš„Mavené¡¹ç›®ï¼Œå¯¼å…¥ç›¸å…³ä¾èµ–</p></li></ul><p>spring-boot-starteræ˜¯SpringBooté¡¹ç›®æœ€åŸºç¡€çš„ä¾èµ–ï¼Œæœ‰è¿™ä¸ªä¾èµ–å°±æ˜¯SpringBooté¡¹ç›®</p><div class="language-xml line-numbers-mode" data-ext="xml"><pre class="language-xml"><code><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>dependency</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>groupId</span><span class="token punctuation">&gt;</span></span>org.springframework.boot<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>groupId</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>artifactId</span><span class="token punctuation">&gt;</span></span>spring-boot-starter<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>artifactId</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>dependency</span><span class="token punctuation">&gt;</span></span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><div class="language-xml line-numbers-mode" data-ext="xml"><pre class="language-xml"><code>//spring-boot-starter-test æ•´åˆæµ‹è¯•ç”¨çš„
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>dependency</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>groupId</span><span class="token punctuation">&gt;</span></span>org.springframework.boot<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>groupId</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>artifactId</span><span class="token punctuation">&gt;</span></span>spring-boot-starter-test<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>artifactId</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>scope</span><span class="token punctuation">&gt;</span></span>test<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>scope</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>dependency</span><span class="token punctuation">&gt;</span></span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><div class="language-java line-numbers-mode" data-ext="java"><pre class="language-java"><code><span class="token annotation punctuation">@SpringBootApplication</span>  <span class="token comment">//å¯åŠ¨ç±»ã€å¼•å¯¼ç±»</span>
<span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">SpringBootConfigurationApplication</span> <span class="token punctuation">{</span>
    <span class="token keyword">public</span> <span class="token keyword">static</span> <span class="token keyword">void</span> <span class="token function">main</span><span class="token punctuation">(</span><span class="token class-name">String</span><span class="token punctuation">[</span><span class="token punctuation">]</span> args<span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token class-name">ConfigurableApplicationContext</span> configurableApplicationContext <span class="token operator">=</span> <span class="token class-name">SpringApplication</span><span class="token punctuation">.</span><span class="token function">run</span><span class="token punctuation">(</span><span class="token class-name">SpringBootConfigurationApplication</span><span class="token punctuation">.</span><span class="token keyword">class</span><span class="token punctuation">,</span> args<span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token comment">//argsä¸­å­˜å‚¨çš„æ˜¯ä¸´æ—¶å±æ€§</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>Resté£æ ¼</p><p>RESTæ˜¯ä¸€ç§Webåº”ç”¨ç¨‹åºæ¶æ„é£æ ¼ï¼Œå®ƒåŸºäºHTTPåè®®ï¼Œé€šè¿‡ä½¿ç”¨ç»Ÿä¸€èµ„æºæ ‡è¯†ç¬¦ï¼ˆURIï¼‰å’ŒHTTPåŠ¨è¯ï¼ˆGETï¼ŒPOSTï¼ŒPUTï¼ŒDELETEç­‰ï¼‰æ¥å®ç°å®¢æˆ·ç«¯å’ŒæœåŠ¡å™¨ä¹‹é—´çš„é€šä¿¡ã€‚</p><p>RESTé£æ ¼çš„APIé€šå¸¸ä½¿ç”¨JSONæˆ–XMLæ ¼å¼æ¥ä¼ è¾“æ•°æ®</p><ul><li><p>Restful</p></li><li><p>Restå’ŒRestfulçš„åŒºåˆ«</p><p>RESTæ˜¯ä¸€ç§æ¶æ„é£æ ¼ï¼Œè€ŒRESTfulæ˜¯ç¬¦åˆRESTæ¶æ„é£æ ¼çš„WebæœåŠ¡ã€‚</p></li></ul><h3 id="_1-2-é…ç½®æ–‡ä»¶" tabindex="-1"><a class="header-anchor" href="#_1-2-é…ç½®æ–‡ä»¶" aria-hidden="true">#</a> 1.2 é…ç½®æ–‡ä»¶</h3><ul><li><p>ç±»å‹</p><ul><li>application.properties</li><li>application.yml</li><li>application.yaml</li></ul></li><li><p>ä¼˜å…ˆçº§</p><ul><li>properties - yml -yaml</li></ul></li></ul><h3 id="_1-3-ymlæ–‡ä»¶" tabindex="-1"><a class="header-anchor" href="#_1-3-ymlæ–‡ä»¶" aria-hidden="true">#</a> 1.3 ymlæ–‡ä»¶</h3><div class="language-yaml line-numbers-mode" data-ext="yml"><pre class="language-yaml"><code><span class="token key atrule">user</span><span class="token punctuation">:</span>
  <span class="token key atrule">age</span><span class="token punctuation">:</span> <span class="token number">14</span>
  <span class="token key atrule">name</span><span class="token punctuation">:</span> zs
  <span class="token key atrule">subject</span><span class="token punctuation">:</span>
    <span class="token punctuation">-</span> java
    <span class="token punctuation">-</span> python
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>ä»¥ä¸Šç»“æ„ç±»ä¼¼äºä»¥ä¸‹</p><div class="language-json line-numbers-mode" data-ext="json"><pre class="language-json"><code><span class="token punctuation">{</span>
   <span class="token property">&quot;user&quot;</span><span class="token operator">:</span><span class="token punctuation">{</span>
       <span class="token property">&quot;age&quot;</span><span class="token operator">:</span><span class="token number">14</span><span class="token punctuation">,</span> 
       <span class="token property">&quot;name&quot;</span><span class="token operator">:</span><span class="token string">&quot;zs&quot;</span><span class="token punctuation">,</span>
       <span class="token property">&quot;subject&quot;</span><span class="token operator">:</span><span class="token punctuation">[</span><span class="token string">&quot;java&quot;</span><span class="token punctuation">,</span> <span class="token string">&quot;python&quot;</span><span class="token punctuation">]</span>
          <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h4 id="_1-3-1-ymlæ–‡ä»¶æ¦‚æ‹¬" tabindex="-1"><a class="header-anchor" href="#_1-3-1-ymlæ–‡ä»¶æ¦‚æ‹¬" aria-hidden="true">#</a> 1.3.1 ymlæ–‡ä»¶æ¦‚æ‹¬</h4><p>YAMLï¼ˆYetÂ AnotherÂ MarkupÂ Languageï¼‰æ˜¯ä¸€ç§è½»é‡çº§çš„æ•°æ®åºåˆ—åŒ–æ ¼å¼ï¼Œymlæ–‡ä»¶æ˜¯ä¸€ç§éµå¾ªYAMLè¯­æ³•è§„åˆ™çš„æ–‡ä»¶ï¼Œé€šå¸¸ç”¨äºé…ç½®æ–‡ä»¶ã€æ•°æ®åºåˆ—åŒ–å’Œäº¤æ¢ç­‰åº”ç”¨åœºæ™¯ã€‚</p><p>è¯­æ³•è§„åˆ™</p><p>1.Â å¤§å°å†™æ•æ„Ÿï¼šYAMLæ˜¯å¤§å°å†™æ•æ„Ÿçš„<br> 2.Â ä½¿ç”¨ç¼©è¿›è¡¨ç¤ºå±‚æ¬¡ç»“æ„ï¼šYAMLä½¿ç”¨ç¼©è¿›æ¥è¡¨ç¤ºå±‚æ¬¡ç»“æ„ï¼Œæ¯ä¸ªç¼©è¿›ä¸º2ä¸ªç©ºæ ¼ã€‚å­é¡¹æ¯”çˆ¶é¡¹ç¼©è¿›2ä¸ªç©ºæ ¼ã€‚<br> 3.Â ä½¿ç”¨å†’å·åˆ†éš”é”®å’Œå€¼ï¼šé”®å’Œå€¼ä¹‹é—´ä½¿ç”¨å†’å·â€œ:â€åˆ†éš”ï¼Œå†’å·åé¢å¿…é¡»æœ‰ä¸€ä¸ªç©ºæ ¼ã€‚<br> 4.Â ä½¿ç”¨çŸ­æ¨ªçº¿è¡¨ç¤ºåˆ—è¡¨é¡¹ï¼šåˆ—è¡¨é¡¹ä½¿ç”¨çŸ­æ¨ªçº¿â€œ-â€è¡¨ç¤ºï¼Œæ¯ä¸ªçŸ­æ¨ªçº¿åé¢å¿…é¡»æœ‰ä¸€ä¸ªç©ºæ ¼ã€‚<br> 5.Â å­—ç¬¦ä¸²è¡¨ç¤ºï¼šYAMLä¸­çš„å­—ç¬¦ä¸²å¯ä»¥ä½¿ç”¨å•å¼•å·ã€åŒå¼•å·æˆ–æ— å¼•å·è¡¨ç¤ºã€‚å½“å­—ç¬¦ä¸²ä¸­åŒ…å«ç‰¹æ®Šå­—ç¬¦æ—¶ï¼Œå¿…é¡»ä½¿ç”¨å¼•å·ã€‚<br> 6.Â æ³¨é‡Šï¼šæ³¨é‡Šä½¿ç”¨äº•å·â€œ#â€è¡¨ç¤ºï¼Œä»è¯¥ç¬¦å·å¼€å§‹åˆ°è¡Œæœ«ä¸ºæ³¨é‡Šï¼Œä¸ä¼šè¢«è§£æã€‚<br> 7.æ•°å€¼å¯ä»¥æ˜¯2è¿›åˆ¶ï¼Œ8è¿›åˆ¶ï¼Œ10è¿›åˆ¶ï¼Œ16è¿›åˆ¶ï¼Œæ‰€ä»¥å¦‚æœæ•°å€¼æ¯”è¾ƒç‰¹æ®Šæ—¶æœ€å¥½ç”¨å¼•å·ï¼Œä¸ç„¶å¯èƒ½ä¼šè¯†åˆ«æˆå…¶å®ƒè¿›åˆ¶ã€‚<br> 8.ä½¿ç”¨ ~ è¡¨ç¤ºnullã€‚<br> ç¤ºä¾‹å¦‚ä¸‹ï¼š</p><div class="language-yaml line-numbers-mode" data-ext="yml"><pre class="language-yaml"><code><span class="token comment"># æ³¨é‡Š</span>
<span class="token key atrule">name</span><span class="token punctuation">:</span> John
<span class="token key atrule">age</span><span class="token punctuation">:</span> <span class="token number">25</span>
<span class="token key atrule">address</span><span class="token punctuation">:</span>
  city<span class="token punctuation">:</span> Beijing
  street<span class="token punctuation">:</span> Chaoyang Road
<span class="token key atrule">hobbies</span><span class="token punctuation">:</span>
  <span class="token punctuation">-</span> reading
  <span class="token punctuation">-</span> music
  
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>è¯¥YAMLæ–‡ä»¶è¡¨ç¤ºä¸€ä¸ªåŒ…å«ä¸‰ä¸ªé”®å€¼å¯¹å’Œä¸€ä¸ªåˆ—è¡¨çš„æ•°æ®ç»“æ„ï¼Œå…¶ä¸­addressæ˜¯ä¸€ä¸ªåµŒå¥—çš„é”®å€¼å¯¹ï¼Œè¡¨ç¤ºä¸€ä¸ªåŒ…å«åŸå¸‚å’Œè¡—é“ä¿¡æ¯çš„åœ°å€ï¼Œhobbiesæ˜¯ä¸€ä¸ªåŒ…å«ä¸¤ä¸ªå…ƒç´ çš„åˆ—è¡¨ï¼Œè¡¨ç¤ºJohnçš„çˆ±å¥½æ˜¯é˜…è¯»å’ŒéŸ³ä¹ã€‚</p><h4 id="_1-3-2-è·å–ymlæ–‡ä»¶ä¸­çš„å€¼" tabindex="-1"><a class="header-anchor" href="#_1-3-2-è·å–ymlæ–‡ä»¶ä¸­çš„å€¼" aria-hidden="true">#</a> 1.3.2 è·å–ymlæ–‡ä»¶ä¸­çš„å€¼</h4><ul><li><p>å–å€¼ä¸€ï¼Œé€šè¿‡@Valueå°†å€¼æ³¨å…¥ç±»ä¸­å±æ€§</p><div class="language-java line-numbers-mode" data-ext="java"><pre class="language-java"><code><span class="token annotation punctuation">@Value</span><span class="token punctuation">(</span><span class="token string">&quot;${user.age}&quot;</span><span class="token punctuation">)</span>
<span class="token keyword">private</span> <span class="token class-name">Integer</span> age<span class="token punctuation">;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div></div></div></li><li><p>å–å€¼äºŒï¼Œå€ŸåŠ©Environmentå¯¹è±¡</p><div class="language-java line-numbers-mode" data-ext="java"><pre class="language-java"><code><span class="token comment">//Environmentå¯¹è±¡ä¸­å­˜å‚¨äº†ymlé…ç½®æ–‡ä»¶ä¸­æ‰€æœ‰å€¼</span>
<span class="token annotation punctuation">@Autowired</span><span class="token comment">//è‡ªåŠ¨è£…é…è·å–environmentå¯¹è±¡</span>
<span class="token keyword">private</span> <span class="token class-name">Environment</span> environment<span class="token punctuation">;</span>
<span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">get</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
  environment<span class="token punctuation">.</span><span class="token function">getProperty</span><span class="token punctuation">(</span><span class="token string">&quot;user.age&quot;</span><span class="token punctuation">)</span><span class="token comment">//è·å–å…·ä½“å€¼  </span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div></li><li><p>å–å€¼ä¸‰ï¼Œåˆ›å»ºç±»å¹¶é€šè¿‡æ³¨è§£æ˜ å°„ymlæ–‡ä»¶ä¸­å¯¹åº”å€¼</p></li></ul><p>å°†ymlæ–‡ä»¶ä¸­å€¼ä»¥å¯¹è±¡å½¢å¼ä½¿ç”¨ï¼Œ</p><div class="language-java line-numbers-mode" data-ext="java"><pre class="language-java"><code><span class="token annotation punctuation">@Component</span> <span class="token comment">//è®¾ç½®ä¸ºBeanï¼Œå—Springç®¡ç†</span>
<span class="token comment">//å…³è”åˆ°ymlæ–‡ä»¶ä¸­å¯¹åº”å€¼</span>
<span class="token annotation punctuation">@ConfigurationProperties</span><span class="token punctuation">(</span>prefix <span class="token operator">=</span> <span class="token string">&quot;user&quot;</span><span class="token punctuation">)</span> <span class="token comment">//è¿™ä¸ªæ³¨è§£æ¯”è¾ƒé‡è¦ï¼Œè‡ªåŠ¨è®©å±æ€§ä¸ymlæ–‡ä»¶ä¸­userå¯¹åº”</span>
<span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">User</span> <span class="token punctuation">{</span>
    <span class="token keyword">private</span> <span class="token class-name">String</span> name<span class="token punctuation">;</span><span class="token comment">//å¯¹åº”ymlæ–‡ä»¶ä¸­user.name</span>
    <span class="token keyword">private</span> <span class="token class-name">Integer</span> age<span class="token punctuation">;</span><span class="token comment">//å¯¹åº”ymlæ–‡ä»¶ä¸­user.age</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><div class="language-java line-numbers-mode" data-ext="java"><pre class="language-java"><code><span class="token annotation punctuation">@Autowired</span>
<span class="token keyword">private</span> <span class="token class-name">User</span> user<span class="token punctuation">;</span><span class="token comment">//ymlæ–‡ä»¶ä¸­çš„å€¼è¢«è½¬ä¸ºå¯¹è±¡å½¢å¼ä½¿ç”¨</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div></div></div><p>éƒ½å¯ä»¥ç”¨äºç¬¬ä¸‰æ–¹Beançš„å±æ€§å€¼è®¾ç½®ï¼Œä¸€èˆ¬ä¸€äºŒç§å±…å¤š<br> æ³¨ï¼š@ConfigurationPropertiesæ³¨è§£å¯èƒ½ä¼šå‡ºç°æœªé…ç½®SpringBooté…ç½®æ³¨è§£å¤„ç†å™¨ï¼Œ æ­¤æ—¶éœ€è¦å¯¼åŒ…ï¼Œé‡å¯</p><div class="language-xml line-numbers-mode" data-ext="xml"><pre class="language-xml"><code><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>groupId</span><span class="token punctuation">&gt;</span></span>org.springframework.boot<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>groupId</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>artifactId</span><span class="token punctuation">&gt;</span></span>spring-boot-configuration-processor<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>artifactId</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>optional</span><span class="token punctuation">&gt;</span></span>true<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>optional</span><span class="token punctuation">&gt;</span></span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h2 id="_2-æ•´åˆ" tabindex="-1"><a class="header-anchor" href="#_2-æ•´åˆ" aria-hidden="true">#</a> 2. æ•´åˆ</h2><h3 id="_2-1-æ•´åˆjunit" tabindex="-1"><a class="header-anchor" href="#_2-1-æ•´åˆjunit" aria-hidden="true">#</a> 2.1 æ•´åˆJUnit</h3><p>å•å…ƒæµ‹è¯•</p><h3 id="_2-2-æ•´åˆmybatis" tabindex="-1"><a class="header-anchor" href="#_2-2-æ•´åˆmybatis" aria-hidden="true">#</a> 2.2 æ•´åˆMybatis</h3><ol><li>å¯¼ä¾èµ–</li></ol><p>å¯ä»¥åœ¨åˆ›å»ºSpringBootå·¥ç¨‹æ—¶å‹¾é€‰<strong>Mysql Driver</strong> å’Œ <strong>Mybatis Framework</strong>ï¼Œä¹Ÿå¯ä»¥ä¹‹åæ‰‹åŠ¨å¯¼å…¥ç›¸å…³ä¾èµ–</p><p>Mysql Driveræ˜¯ä¸MySQLç›¸å…³çš„ä¾èµ–</p><div class="language-xml line-numbers-mode" data-ext="xml"><pre class="language-xml"><code>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><ol start="2"><li>é…ç½®</li></ol><div class="language-yaml line-numbers-mode" data-ext="yml"><pre class="language-yaml"><code><span class="token key atrule">spring</span><span class="token punctuation">:</span>
  <span class="token key atrule">datasource</span><span class="token punctuation">:</span>
    <span class="token key atrule">driver-class-name</span><span class="token punctuation">:</span> com.mysql.cj.jdbc.Driver
    <span class="token key atrule">url</span><span class="token punctuation">:</span> jdbc<span class="token punctuation">:</span>mysql<span class="token punctuation">:</span>//localhost<span class="token punctuation">:</span>3306/mp
    <span class="token key atrule">username</span><span class="token punctuation">:</span> root
    <span class="token key atrule">password</span><span class="token punctuation">:</span> <span class="token number">123456</span>
//æŒ‡æ˜ druidï¼Œæ²¡æœ‰ä½¿ç”¨druidåˆ™ä¸å†™
    <span class="token key atrule">type</span><span class="token punctuation">:</span> com.alibaba.druid.pool.DruidDataSource
     <span class="token comment">#æ³¨ï¼šmysql8åŠä»¥ä¸Šçš„å¯èƒ½éœ€è¦è®¾ç½®æœåŠ¡å™¨æ—¶åŒº ?serverTimezone=UTC</span>
    <span class="token comment">#è¿™é‡Œåªæ˜¯é…ç½®mysqlï¼Œmybatisæ²¡æœ‰é…ç½®</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><div class="language-java line-numbers-mode" data-ext="java"><pre class="language-java"><code><span class="token comment">//daoå±‚</span>
<span class="token annotation punctuation">@Mapper</span>
<span class="token keyword">public</span> <span class="token keyword">interface</span> <span class="token class-name">BookDao</span> <span class="token punctuation">{</span>
    <span class="token annotation punctuation">@Select</span><span class="token punctuation">(</span><span class="token string">&quot;select * from user where id = #{id}&quot;</span><span class="token punctuation">)</span>
    <span class="token keyword">public</span> <span class="token class-name">Book</span> <span class="token function">bookById</span><span class="token punctuation">(</span><span class="token class-name">Integer</span> id<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h3 id="_2-3-æ•´åˆmybatis-plus" tabindex="-1"><a class="header-anchor" href="#_2-3-æ•´åˆmybatis-plus" aria-hidden="true">#</a> 2.3 æ•´åˆMybatis-plus</h3><p>å®˜ç½‘ï¼š<a href="https://baomidou.com/" target="_blank" rel="noopener noreferrer">https://baomidou.com/<span><svg class="external-link-icon" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg><span class="external-link-icon-sr-only">open in new window</span></span></a></p><ol><li>æ·»åŠ ä¾èµ–</li></ol><p>Springå®˜æ–¹å¹¶æ²¡æœ‰æ”¶å½•MP ï¼Œæ‰€ä»¥æ— æ³•é€šè¿‡ç›´æ¥å‹¾é€‰çš„æ–¹å¼å¯¼å…¥ä¾èµ–ï¼ŒÂ ä¹‹å‰å¯ä»¥é€‰æ‹©é€šè¿‡é˜¿é‡Œäº‘åœ°å€åˆ›å»ºSpringBooté¡¹ç›®å‹¾é€‰MPï¼Œä½†ç°åœ¨é˜¿é‡Œäº‘ä¼¼ä¹æ²¡æœ‰</p><p>åˆ›å»ºæ—¶åªå‹¾é€‰Mysql Driver ï¼ŒMybatis-plusä¾èµ– æ‰‹å·¥å¯¼å…¥</p><div class="language-xml line-numbers-mode" data-ext="xml"><pre class="language-xml"><code><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>dependency</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>groupId</span><span class="token punctuation">&gt;</span></span>com.baomidou<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>groupId</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>artifactId</span><span class="token punctuation">&gt;</span></span>mybatis-plus-boot-starter<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>artifactId</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>version</span><span class="token punctuation">&gt;</span></span>3.5.3.1<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>version</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>dependency</span><span class="token punctuation">&gt;</span></span>
<span class="token comment">&lt;!-- æ•°æ®åº“è¿æ¥æ± --&gt;</span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>dependency</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>groupId</span><span class="token punctuation">&gt;</span></span>com.alibaba<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>groupId</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>artifactId</span><span class="token punctuation">&gt;</span></span>druid<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>artifactId</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>version</span><span class="token punctuation">&gt;</span></span>1.2.8<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>version</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>dependency</span><span class="token punctuation">&gt;</span></span>
<span class="token comment">&lt;!-- å¦‚æœå‹¾é€‰äº†Mysql Driverå°±ä¸ç”¨å†æ¬¡å¯¼å…¥--&gt;</span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>dependency</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>groupId</span><span class="token punctuation">&gt;</span></span>mysql<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>groupId</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>artifactId</span><span class="token punctuation">&gt;</span></span>mysql-connector-java<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>artifactId</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>version</span><span class="token punctuation">&gt;</span></span>8.0.28<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>version</span><span class="token punctuation">&gt;</span></span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>mybatis-plus-boot-starter ä¾èµ–ä¸­åŒ…å«äº† spring-boot-starter æ‰€ä»¥åè€…å¯ä»¥åˆ é™¤</p><p>ä¾èµ–ç‰ˆæœ¬ä¸åŒ¹é…ä¼šå¯¼è‡´è‡ªåŠ¨è£…é…æŠ¥é”™</p><ol start="2"><li>é…ç½®åœ¨applicationä¸­é…ç½®æ•°æ®åº“è¿æ¥ä¿¡æ¯</li></ol><div class="language-yaml line-numbers-mode" data-ext="yml"><pre class="language-yaml"><code><span class="token comment">#é…ç½®MySQL</span>
<span class="token key atrule">spring</span><span class="token punctuation">:</span>
  <span class="token key atrule">datasource</span><span class="token punctuation">:</span> <span class="token comment">#æ•°æ®åº“è¿æ¥æ± çš„é…ç½®</span>
    <span class="token key atrule">driver-class-name</span><span class="token punctuation">:</span> com.mysql.cj.jdbc.Driver
    <span class="token key atrule">url</span><span class="token punctuation">:</span> jdbc<span class="token punctuation">:</span>mysql<span class="token punctuation">:</span>//localhost<span class="token punctuation">:</span>3306/mp
    <span class="token key atrule">username</span><span class="token punctuation">:</span> root
    <span class="token key atrule">password</span><span class="token punctuation">:</span> <span class="token number">123456</span>
<span class="token key atrule">mybatis-plus</span><span class="token punctuation">:</span> <span class="token comment">#mybatis-plusçš„é…ç½®ï¼Œä¸SpringåŒçº§åˆ«</span>
  <span class="token key atrule">global-config</span><span class="token punctuation">:</span>
    <span class="token key atrule">db-config</span><span class="token punctuation">:</span>
      <span class="token key atrule">table-prefix</span><span class="token punctuation">:</span> _b <span class="token comment">#é…ç½®åŒ¹é…æ•°æ®åº“çš„è¡¨åæ˜¯ä»¥ _b å¼€å¤´</span>
      <span class="token key atrule">id-type</span><span class="token punctuation">:</span> auto <span class="token comment">#é…ç½®idä¸ºè‡ªå¢é•¿</span>
  <span class="token key atrule">configuration</span><span class="token punctuation">:</span>
    <span class="token comment">#é…ç½®æ—¥å¿—è¾“å‡ºåˆ°æ§åˆ¶å°</span>
    <span class="token key atrule">log-impl</span><span class="token punctuation">:</span>  org.apache.ibatis.logging.stdout.StdOutImpl
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>æ³¨ï¼šæ•°æ®åº“idè‡ªå¢é»˜è®¤æŒ‰ç…§UUIDé›ªèŠ±ç®—æ³•ç”Ÿæˆlongç±»å‹çš„idï¼Œæ˜¯éšæœºçš„ï¼Œid-type: auto è®¾ç½®idæ ¹æ®æ•°æ®åº“è¡¨idè‡ªå¢ï¼ŒåŒæ—¶æ•°æ®åº“è¡¨çš„idä¹Ÿè¦è®¾ç½®ä¸ºè‡ªå¢é•¿ï¼Œä¸ç„¶ä¼šæŠ¥é”™<strong>Error updating database.Â Cause: java.sql.SQLException: Field &#39;id&#39; doesn&#39;t have a default value</strong></p><ol start="3"><li>å…³è”è¡¨å</li></ol><p>mybatis é»˜è®¤ä¼šä»¥å®ä½“ç±»çš„åå­—ä½œä¸ºè¡¨åï¼Œæ‰€ä»¥å½“è¡¨åä¸å®ä½“ç±»åä¸ä¸€è‡´æ—¶ä¼šæŠ¥é”™<strong>java.sql.SQLSyntaxErrorException: Table &#39;mp.book&#39; doesn&#39;t exist</strong></p><div class="language-java line-numbers-mode" data-ext="java"><pre class="language-java"><code><span class="token annotation punctuation">@TableName</span><span class="token punctuation">(</span><span class="token string">&quot;books&quot;</span><span class="token punctuation">)</span>  <span class="token comment">//æ·»åŠ åœ¨å®ä½“ç±»ä¸Šï¼Œä¸ºå®ä½“ç±»æŒ‡æ˜å¯¹åº”çš„è¡¨å</span>
<span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">Book</span><span class="token punctuation">{</span><span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div></div></div><ol start="4"><li>ç¼–å†™Daoå±‚</li></ol><div class="language-java line-numbers-mode" data-ext="java"><pre class="language-java"><code><span class="token comment">//daoå±‚ï¼Œå»æ“ä½œæ•°æ®åº“</span>
<span class="token annotation punctuation">@Mapper</span>
<span class="token keyword">public</span> <span class="token keyword">interface</span> <span class="token class-name">UserDao</span> <span class="token keyword">extends</span> <span class="token class-name">BaseMapper</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">User</span><span class="token punctuation">&gt;</span></span> <span class="token punctuation">{</span>
<span class="token comment">//ç»§æ‰¿BaseMapperç±»</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><ol start="5"><li>åˆ†é¡µåŠŸèƒ½çš„å®ç°</li></ol><div class="language-java line-numbers-mode" data-ext="java"><pre class="language-java"><code><span class="token annotation punctuation">@Test</span>
<span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">testUserDao</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
    <span class="token class-name">IPage</span> page <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Page</span><span class="token punctuation">(</span><span class="token number">1L</span><span class="token punctuation">,</span><span class="token number">3L</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    userDao<span class="token punctuation">.</span><span class="token function">selectPage</span><span class="token punctuation">(</span>page<span class="token punctuation">,</span><span class="token keyword">null</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>åˆ†é¡µåŠŸèƒ½éœ€è¦é…ç½®æ‹¦æˆªå™¨</p><div class="language-java line-numbers-mode" data-ext="java"><pre class="language-java"><code><span class="token annotation punctuation">@Configuration</span><span class="token comment">//å®šä¹‰æˆé…ç½®Bean</span>
<span class="token keyword">public</span> <span class="token keyword">class</span> mpConfig <span class="token punctuation">{</span>
    <span class="token annotation punctuation">@Bean</span>
    <span class="token keyword">public</span> <span class="token class-name">MybatisPlusInterceptor</span> <span class="token function">mpInterceptor</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
        <span class="token comment">//åˆ›å»ºæ‹¦æˆªå™¨å®¹å™¨</span>
        <span class="token class-name">MybatisPlusInterceptor</span> interceptor <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">MybatisPlusInterceptor</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token comment">//æ·»åŠ åˆ†é¡µç›¸å…³çš„æ‹¦æˆªå™¨</span>
        interceptor<span class="token punctuation">.</span><span class="token function">addInnerInterceptor</span><span class="token punctuation">(</span><span class="token keyword">new</span> <span class="token class-name">PaginationInnerInterceptor</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token keyword">return</span> interceptor<span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>è¿›è¡Œæ¡ä»¶æŸ¥è¯¢ï¼ˆWrapperæ¡ä»¶å¯¹è±¡ï¼‰</p><div class="language-java line-numbers-mode" data-ext="java"><pre class="language-java"><code><span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">testUserDao</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
  <span class="token class-name">IPage</span> page1 <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Page</span><span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">,</span><span class="token number">3</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token class-name">QueryWrapper</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">User</span><span class="token punctuation">&gt;</span></span> wrapper <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">QueryWrapper</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token punctuation">&gt;</span></span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token comment">//æ¡ä»¶å¯¹è±¡</span>
  wrapper<span class="token punctuation">.</span><span class="token function">like</span><span class="token punctuation">(</span><span class="token string">&quot;name&quot;</span><span class="token punctuation">,</span><span class="token string">&quot;zs&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  userDao<span class="token punctuation">.</span><span class="token function">selectPage</span><span class="token punctuation">(</span>page1<span class="token punctuation">,</span> wrapper<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token comment">//LambdaæŸ¥è¯¢å¯¹è±¡</span>
  <span class="token class-name">LambdaQueryWrapper</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">Book</span><span class="token punctuation">&gt;</span></span> lambdaQueryWrapper <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">LambdaQueryWrapper</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">Book</span><span class="token punctuation">&gt;</span></span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  lambdaQueryWrapper<span class="token punctuation">.</span><span class="token function">like</span><span class="token punctuation">(</span><span class="token class-name">Book</span><span class="token operator">::</span><span class="token function">getName</span><span class="token punctuation">,</span><span class="token string">&quot;j&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  queryWrapper<span class="token punctuation">.</span><span class="token function">like</span><span class="token punctuation">(</span><span class="token string">&quot;name&quot;</span><span class="token punctuation">,</span><span class="token string">&quot;j&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  bookDao<span class="token punctuation">.</span><span class="token function">selectList</span><span class="token punctuation">(</span>queryWrapper<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>

</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h3 id="_2-4-æ•´åˆdruid" tabindex="-1"><a class="header-anchor" href="#_2-4-æ•´åˆdruid" aria-hidden="true">#</a> 2.4 æ•´åˆdruid</h3><ol><li>å¯¼ä¾èµ–</li></ol><div class="language-xml line-numbers-mode" data-ext="xml"><pre class="language-xml"><code><span class="token comment">&lt;!-- https://mvnrepository.com/artifact/com.alibaba/druid-spring-boot-starter --&gt;</span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>dependency</span><span class="token punctuation">&gt;</span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>groupId</span><span class="token punctuation">&gt;</span></span>com.alibaba<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>groupId</span><span class="token punctuation">&gt;</span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>artifactId</span><span class="token punctuation">&gt;</span></span>druid-spring-boot-starter<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>artifactId</span><span class="token punctuation">&gt;</span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>version</span><span class="token punctuation">&gt;</span></span>1.2.15<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>version</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>dependency</span><span class="token punctuation">&gt;</span></span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>springä¸­æ²¡æœ‰druidï¼Œæ‰‹åŠ¨å¯¼å…¥ï¼Œä¸æ˜¯druid è€Œæ˜¯ Druid Spring Boot Starter</p><ol start="2"><li>é…ç½®</li></ol><p>é…ç½®æ–¹æ³•ä¸€ï¼š</p><div class="language-yaml line-numbers-mode" data-ext="yml"><pre class="language-yaml"><code><span class="token comment">#é…ç½®MySQL</span>
<span class="token key atrule">spring</span><span class="token punctuation">:</span>
  <span class="token key atrule">datasource</span><span class="token punctuation">:</span>
    <span class="token key atrule">driver-class-name</span><span class="token punctuation">:</span> com.mysql.cj.jdbc.Driver
    <span class="token key atrule">url</span><span class="token punctuation">:</span> jdbc<span class="token punctuation">:</span>mysql<span class="token punctuation">:</span>//localhost<span class="token punctuation">:</span>3306/mp
    <span class="token key atrule">username</span><span class="token punctuation">:</span> root
    <span class="token key atrule">password</span><span class="token punctuation">:</span> <span class="token number">123456</span>
    <span class="token key atrule">type</span><span class="token punctuation">:</span> com.alibaba.druid.pool.DruidDataSource <span class="token comment">#æŒ‡æ˜è¿æ¥æ± </span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>é…ç½®æ–¹æ³•äºŒÂ·ï¼š</p><div class="language-yaml line-numbers-mode" data-ext="yml"><pre class="language-yaml"><code><span class="token comment">#é…ç½®MySQL</span>
<span class="token key atrule">spring</span><span class="token punctuation">:</span>
  <span class="token key atrule">datasource</span><span class="token punctuation">:</span>
    <span class="token key atrule">druid</span><span class="token punctuation">:</span>
      <span class="token key atrule">driver-class-name</span><span class="token punctuation">:</span> com.mysql.cj.jdbc.Driver
      <span class="token key atrule">url</span><span class="token punctuation">:</span> jdbc<span class="token punctuation">:</span>mysql<span class="token punctuation">:</span>//localhost<span class="token punctuation">:</span>3306/mp
      <span class="token key atrule">username</span><span class="token punctuation">:</span> root
      <span class="token key atrule">password</span><span class="token punctuation">:</span> <span class="token number">123456</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>æ–¹æ³•äºŒå¯èƒ½ä¼šæŠ¥é”™ <strong>IllegalStateException</strong></p><h2 id="_3-é¡¹ç›®ç»“æ„" tabindex="-1"><a class="header-anchor" href="#_3-é¡¹ç›®ç»“æ„" aria-hidden="true">#</a> 3. é¡¹ç›®ç»“æ„</h2><h3 id="_3-1-ä¸‰å±‚æ¶æ„" tabindex="-1"><a class="header-anchor" href="#_3-1-ä¸‰å±‚æ¶æ„" aria-hidden="true">#</a> 3.1 ä¸‰å±‚æ¶æ„</h3><p>ä¸‰å±‚æ¶æ„æ˜¯ä¸€ç§å¸¸è§çš„è½¯ä»¶æ¶æ„æ¨¡å¼ï¼Œå®ƒå°†åº”ç”¨ç¨‹åºåˆ’åˆ†ä¸ºä¸‰ä¸ªä¸»è¦éƒ¨åˆ†ï¼šè¡¨ç¤ºå±‚ã€ä¸šåŠ¡é€»è¾‘å±‚å’Œæ•°æ®è®¿é—®å±‚ã€‚æ¯ä¸ªå±‚æ¬¡éƒ½æœ‰å…¶ç‹¬ç‰¹çš„è´£ä»»ï¼Œå¯ä»¥ç‹¬ç«‹å¼€å‘ã€æµ‹è¯•å’Œç»´æŠ¤ï¼ŒåŒæ—¶ä¹Ÿèƒ½å¤Ÿç›¸äº’åä½œï¼Œå…±åŒå®Œæˆåº”ç”¨ç¨‹åºçš„åŠŸèƒ½ã€‚</p><p>ä¸‹é¢æ˜¯ä¸‰å±‚æ¶æ„çš„å„ä¸ªå±‚æ¬¡åŠå…¶èŒè´£ï¼š</p><ol><li>è¡¨ç¤ºå±‚</li></ol><p>è¡¨ç¤ºå±‚æ˜¯åº”ç”¨ç¨‹åºçš„ç”¨æˆ·ç•Œé¢ï¼Œå®ƒè´Ÿè´£ä¸ç”¨æˆ·è¿›è¡Œäº¤äº’ï¼Œå¹¶å°†ç”¨æˆ·çš„è¯·æ±‚å‘é€åˆ°ä¸šåŠ¡é€»è¾‘å±‚ã€‚è¡¨ç¤ºå±‚é€šå¸¸åŒ…æ‹¬ä»¥ä¸‹ç»„ä»¶ï¼š</p><ul><li><p>ç”¨æˆ·ç•Œé¢ï¼šåŒ…æ‹¬Webç•Œé¢ã€ç§»åŠ¨åº”ç”¨ç¨‹åºç•Œé¢ç­‰ï¼Œç”¨äºä¸ç”¨æˆ·è¿›è¡Œäº¤äº’ã€‚</p></li><li><p>æ§åˆ¶å™¨ï¼šè´Ÿè´£æ¥æ”¶å’Œå¤„ç†ç”¨æˆ·è¯·æ±‚ï¼Œå°†è¯·æ±‚è½¬å‘ç»™ä¸šåŠ¡é€»è¾‘å±‚ã€‚</p></li><li><p>è§†å›¾ï¼šè´Ÿè´£æ˜¾ç¤ºæ•°æ®å’Œç»“æœï¼Œé€šå¸¸æ˜¯HTMLé¡µé¢ã€ç§»åŠ¨åº”ç”¨ç¨‹åºç•Œé¢ç­‰ã€‚</p></li></ul><p>è¡¨ç¤ºå±‚çš„ä¸»è¦èŒè´£æ˜¯å°†ç”¨æˆ·è¯·æ±‚è½¬å‘ç»™ä¸šåŠ¡é€»è¾‘å±‚ï¼Œå¹¶å°†ä¸šåŠ¡é€»è¾‘å±‚çš„ç»“æœå‘ˆç°ç»™ç”¨æˆ·ã€‚</p><ol start="2"><li>ä¸šåŠ¡é€»è¾‘å±‚</li></ol><p>ä¸šåŠ¡é€»è¾‘å±‚æ˜¯åº”ç”¨ç¨‹åºçš„æ ¸å¿ƒéƒ¨åˆ†ï¼Œå®ƒè´Ÿè´£å¤„ç†ä¸šåŠ¡é€»è¾‘å’Œæ•°æ®å¤„ç†ã€‚ä¸šåŠ¡é€»è¾‘å±‚é€šå¸¸åŒ…æ‹¬ä»¥ä¸‹ç»„ä»¶ï¼š</p><ul><li><p>ä¸šåŠ¡é€»è¾‘ï¼šè´Ÿè´£å¤„ç†ä¸šåŠ¡é€»è¾‘ï¼ŒåŒ…æ‹¬è®¡ç®—ã€éªŒè¯ã€æ§åˆ¶å’Œå¤„ç†æ•°æ®ç­‰ã€‚</p></li><li><p>æœåŠ¡ï¼šæä¾›ä¸šåŠ¡é€»è¾‘çš„æœåŠ¡ï¼Œé€šå¸¸æ˜¯Javaç±»æˆ–C#ç±»ã€‚</p></li><li><p>æ•°æ®è®¿é—®å¯¹è±¡ï¼ˆDAOï¼‰ï¼šå°è£…æ•°æ®è®¿é—®é€»è¾‘ï¼Œè´Ÿè´£ä¸æ•°æ®è®¿é—®å±‚è¿›è¡Œäº¤äº’ã€‚</p></li></ul><p>ä¸šåŠ¡é€»è¾‘å±‚çš„ä¸»è¦èŒè´£æ˜¯å¤„ç†ä¸šåŠ¡é€»è¾‘å’Œæ•°æ®å¤„ç†ï¼Œä»¥åŠä¸æ•°æ®è®¿é—®å±‚è¿›è¡Œäº¤äº’ã€‚</p><ol start="3"><li>æ•°æ®è®¿é—®å±‚</li></ol><p>æ•°æ®è®¿é—®å±‚æ˜¯åº”ç”¨ç¨‹åºä¸æ•°æ®åº“ä¹‹é—´çš„æ¥å£ï¼Œå®ƒè´Ÿè´£ä¸æ•°æ®åº“è¿›è¡Œäº¤äº’ï¼Œæ‰§è¡Œæ•°æ®è®¿é—®æ“ä½œã€‚æ•°æ®è®¿é—®å±‚é€šå¸¸åŒ…æ‹¬ä»¥ä¸‹ç»„ä»¶ï¼š</p><ul><li><p>æ•°æ®åº“ï¼šå­˜å‚¨æ•°æ®çš„åœ°æ–¹ã€‚</p></li><li><p>æ•°æ®è®¿é—®å¯¹è±¡ï¼ˆDAOï¼‰ï¼šå°è£…æ•°æ®è®¿é—®é€»è¾‘ï¼Œè´Ÿè´£ä¸ä¸šåŠ¡é€»è¾‘å±‚è¿›è¡Œäº¤äº’ã€‚</p></li><li><p>ORMæ¡†æ¶ï¼šç”¨äºå°†æ•°æ®åº“è¡¨æ˜ å°„åˆ°Javaæˆ–C#å¯¹è±¡ï¼Œæä¾›é¢å‘å¯¹è±¡çš„æ•°æ®è®¿é—®æ¥å£ã€‚</p></li></ul><p>æ•°æ®è®¿é—®å±‚çš„ä¸»è¦èŒè´£æ˜¯ä¸æ•°æ®åº“è¿›è¡Œäº¤äº’ï¼Œå¹¶æ‰§è¡Œæ•°æ®è®¿é—®æ“ä½œã€‚</p><p>controller webå±‚ã€è¡¨ç°å±‚</p><div class="language-java line-numbers-mode" data-ext="java"><pre class="language-java"><code><span class="token comment">//webå±‚ mvcä¸­çš„cï¼Œæ¥æ”¶å‰ç«¯è¯·æ±‚</span>
<span class="token annotation punctuation">@RestController</span>
<span class="token annotation punctuation">@RequestMapping</span><span class="token punctuation">(</span><span class="token string">&quot;/users&quot;</span><span class="token punctuation">)</span>
<span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">UserController</span> <span class="token punctuation">{</span>
    <span class="token annotation punctuation">@Autowired</span>
    <span class="token keyword">private</span> <span class="token class-name">UserService</span> userService<span class="token punctuation">;</span>
    <span class="token annotation punctuation">@GetMapping</span><span class="token punctuation">(</span><span class="token string">&quot;/{id}&quot;</span><span class="token punctuation">)</span>
    <span class="token keyword">public</span> <span class="token class-name">String</span> <span class="token function">selectAll</span><span class="token punctuation">(</span><span class="token annotation punctuation">@PathVariable</span> <span class="token keyword">int</span> id<span class="token punctuation">,</span><span class="token keyword">int</span> id1<span class="token punctuation">)</span><span class="token punctuation">{</span>
        userService<span class="token punctuation">.</span><span class="token function">save</span><span class="token punctuation">(</span><span class="token keyword">new</span> <span class="token class-name">User</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token comment">//è°ƒç”¨ä¸šåŠ¡å±‚</span>
        <span class="token keyword">return</span> <span class="token string">&quot;users all&quot;</span><span class="token punctuation">;</span><span class="token comment">//å“åº”å‰ç«¯æ•°æ®</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>serviceå±‚ ä¸šåŠ¡å±‚</p><div class="language-java line-numbers-mode" data-ext="java"><pre class="language-java"><code><span class="token annotation punctuation">@Service</span><span class="token comment">//å®šä¹‰æˆBean</span>
<span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">UserServiceImpl</span> <span class="token keyword">implements</span> <span class="token class-name">UserService</span><span class="token punctuation">{</span>
    <span class="token annotation punctuation">@Autowired</span>
    <span class="token keyword">private</span> <span class="token class-name">UserDao</span> userDao<span class="token punctuation">;</span><span class="token comment">//è·å–æ•°æ®å±‚å¯¹è±¡</span>
    <span class="token annotation punctuation">@Override</span>
    <span class="token keyword">public</span> <span class="token keyword">boolean</span> <span class="token function">save</span><span class="token punctuation">(</span><span class="token class-name">User</span> user<span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token comment">//å½“å¢åŠ æ“ä½œæ—¶è°ƒç”¨å¯¹åº”çš„æ•°æ®å±‚æ–¹æ³•</span>
        <span class="token keyword">return</span> userDao<span class="token punctuation">.</span><span class="token function">insert</span><span class="token punctuation">(</span>user<span class="token punctuation">)</span><span class="token operator">&gt;</span><span class="token number">0</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>

<span class="token comment">//ä½¿ç”¨MPçš„Serviceæ¥å£</span>
<span class="token keyword">public</span> <span class="token keyword">interface</span> mpUserService <span class="token keyword">extends</span> <span class="token class-name">IService</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">User</span><span class="token punctuation">&gt;</span></span> <span class="token punctuation">{</span>
    <span class="token comment">//IServiceä¸­è‡ªå¸¦äº†å¤§é‡é€šç”¨æ–¹æ³•,æ“ä½œæ•°æ®åº“</span>
<span class="token punctuation">}</span>

<span class="token comment">//ä½¿ç”¨MPçš„Serviceå®ç°ç±»</span>
<span class="token annotation punctuation">@Service</span>
<span class="token keyword">public</span> <span class="token keyword">class</span> mpUserServiceImpl <span class="token keyword">extends</span> <span class="token class-name">ServiceImpl</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">UserDao</span><span class="token punctuation">,</span> <span class="token class-name">User</span><span class="token punctuation">&gt;</span></span> <span class="token keyword">implements</span> mpUserService<span class="token punctuation">{</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>daoå±‚ æ•°æ®å±‚</p><div class="language-java line-numbers-mode" data-ext="java"><pre class="language-java"><code><span class="token comment">//daoå±‚ï¼Œå»æ“ä½œæ•°æ®åº“</span>
<span class="token annotation punctuation">@Mapper</span>
<span class="token keyword">public</span> <span class="token keyword">interface</span> <span class="token class-name">UserDao</span> <span class="token punctuation">{</span>
    <span class="token annotation punctuation">@Select</span><span class="token punctuation">(</span><span class="token string">&quot;select * from user where id = #{id}&quot;</span><span class="token punctuation">)</span>
     <span class="token class-name">List</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">User</span><span class="token punctuation">&gt;</span></span> selectById <span class="token punctuation">(</span><span class="token keyword">int</span> id<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
  <span class="token comment">//daoå±‚ï¼Œå»æ“ä½œæ•°æ®åº“,ä½¿ç”¨MP</span>
  <span class="token annotation punctuation">@Mapper</span>
  <span class="token keyword">public</span> <span class="token keyword">interface</span> <span class="token class-name">UserDao</span> <span class="token keyword">extends</span> <span class="token class-name">BaseMapper</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">User</span><span class="token punctuation">&gt;</span></span> <span class="token punctuation">{</span>
      <span class="token comment">//æ¥å£ç»§æ‰¿äº†BaseMapperç±»æä¾›è®¸å¤šæœ‰å…³å¢åˆ æ”¹æŸ¥çš„æ–¹æ³•ï¼Œæ•…ä¸ç”¨æ‰‹åŠ¨å†™sqlæ–¹æ³•äº†</span>
  <span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h3 id="_3-2-å‰åç«¯æ•°æ®åè®®" tabindex="-1"><a class="header-anchor" href="#_3-2-å‰åç«¯æ•°æ®åè®®" aria-hidden="true">#</a> 3.2 å‰åç«¯æ•°æ®åè®®</h3><p>è‡ªå®šä¹‰çš„ç»Ÿä¸€çš„è¿”å›å¯¹è±¡ï¼Œè§„èŒƒåç«¯å‘å‰ç«¯ç›¸åº”çš„æ•°æ®çš„æ ¼å¼ï¼Œä¾¿äºä½¿ç”¨</p><div class="language-java line-numbers-mode" data-ext="java"><pre class="language-java"><code><span class="token annotation punctuation">@Data</span>
<span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">R</span> <span class="token punctuation">{</span>
    <span class="token keyword">private</span> <span class="token class-name">Boolean</span> flag <span class="token operator">=</span> <span class="token boolean">true</span><span class="token punctuation">;</span>
    <span class="token keyword">private</span> <span class="token class-name">Object</span> data<span class="token punctuation">;</span>
    <span class="token keyword">public</span> <span class="token class-name">R</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{</span><span class="token punctuation">}</span>
    <span class="token keyword">public</span> <span class="token class-name">R</span><span class="token punctuation">(</span><span class="token class-name">Boolean</span> flag<span class="token punctuation">)</span><span class="token punctuation">{</span>
        <span class="token keyword">this</span><span class="token punctuation">.</span>flag <span class="token operator">=</span> flag<span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
    <span class="token keyword">public</span> <span class="token class-name">R</span><span class="token punctuation">(</span><span class="token class-name">Boolean</span> flag<span class="token punctuation">,</span><span class="token class-name">Object</span> data<span class="token punctuation">)</span><span class="token punctuation">{</span>
        <span class="token keyword">this</span><span class="token punctuation">.</span>flag <span class="token operator">=</span> flag<span class="token punctuation">;</span>
        <span class="token keyword">this</span><span class="token punctuation">.</span>data <span class="token operator">=</span> data<span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h2 id="_4-è¿ç»´ç›¸å…³" tabindex="-1"><a class="header-anchor" href="#_4-è¿ç»´ç›¸å…³" aria-hidden="true">#</a> 4. è¿ç»´ç›¸å…³</h2><h3 id="_4-1-æ‰“åŒ…" tabindex="-1"><a class="header-anchor" href="#_4-1-æ‰“åŒ…" aria-hidden="true">#</a> 4.1 æ‰“åŒ…</h3><p>Mavenç”Ÿå‘½å‘¨æœŸï¼Œå…ˆcleanå†packageï¼Œè·³è¿‡æµ‹è¯•ï¼šæ‰“åŒ…æ—¶ä¼šé»˜è®¤æ‰§è¡Œæµ‹è¯•æ–‡ä»¶ä¸­ç¨‹åºæŸ¥è¯¢ï¼Œæ‰€ä»¥ä¸€èˆ¬è¦è·³è¿‡æµ‹è¯•Â ã€‚æ‰“åŒ…å®Œæˆåtargetç›®å½•ä¸­ä¼šç”Ÿæˆä¸€ä¸ªjaråŒ…ã€‚è¿è¡ŒjaråŒ…ï¼šå¯ä»¥åœ¨cmdä¸­é€šè¿‡ java -jar jaråŒ…å è¿è¡Œè¯¥jaråŒ…</p><h3 id="_4-2-windowsç«¯å£æŒ‡ä»¤" tabindex="-1"><a class="header-anchor" href="#_4-2-windowsç«¯å£æŒ‡ä»¤" aria-hidden="true">#</a> 4.2 windowsç«¯å£æŒ‡ä»¤</h3><p>æŸ¥è¯¢æ­£åœ¨ç”¨çš„æ‰€æœ‰ç«¯å£</p><div class="language-text line-numbers-mode" data-ext="text"><pre class="language-text"><code>netstat -ano
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><p>æŸ¥è¯¢æŒ‡å®šç«¯å£</p><div class="language-text line-numbers-mode" data-ext="text"><pre class="language-text"><code>netstat -ano | findstr &quot;80&quot;
ä¿¡æ¯ä¸­åŒ…å«80çš„éƒ½æŸ¥ï¼Œä¸æ˜¯æŒ‡80ç«¯å£
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div></div></div><p>æ ¹æ®è¿›ç¨‹PIDæŸ¥è¯¢è¿›ç¨‹</p><div class="language-text line-numbers-mode" data-ext="text"><pre class="language-text"><code>- tasklist | findstr &quot;è¿›ç¨‹PID&quot;
- tasklist | findstr &quot;9480&quot;
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div></div></div><p>æ ¹æ®PIDæ€æ­»ä»»åŠ¡</p><div class="language-text line-numbers-mode" data-ext="text"><pre class="language-text"><code>- taskkill /F / &quot;è¿›ç¨‹PID&quot;
- taskkill -f -pid &quot;9480&quot;
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div></div></div><p>æ ¹æ®è¿›ç¨‹åç§°æ€æ­»ä»»åŠ¡</p><div class="language-text line-numbers-mode" data-ext="text"><pre class="language-text"><code>taskkill -f -t -im &quot;è¿›ç¨‹åç§°&quot;
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><h3 id="_4-3-ä¸´æ—¶å±æ€§" tabindex="-1"><a class="header-anchor" href="#_4-3-ä¸´æ—¶å±æ€§" aria-hidden="true">#</a> 4.3 ä¸´æ—¶å±æ€§</h3><ul><li>ä½¿ç”¨java -jarå‘½ä»¤æ—¶ç”¨ --server.port è®¾ç½®ä¸´æ—¶ç«¯å£ä¸º8080</li></ul><div class="language-text line-numbers-mode" data-ext="text"><pre class="language-text"><code>java -jar SpringBoot_ssmp-0.0.1-SNAPSHOT.jar --server.port=8080
java -jar SpringBoot_ssmp-0.0.1-SNAPSHOT.jar --server.port=8080 --æ–°é…ç½®å‘½ä»¤
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div></div></div><h3 id="_4-4-é…ç½®" tabindex="-1"><a class="header-anchor" href="#_4-4-é…ç½®" aria-hidden="true">#</a> 4.4 é…ç½®</h3><ul><li><p>4çº§é…ç½®æ–‡ä»¶</p><ul><li>1çº§ fileï¼šconfig/application.yml</li><li>2çº§ fileï¼šapplication.yml</li><li>3çº§calsspathï¼šconfig/application.yml</li><li>4çº§ classpathï¼šapplication.yml</li></ul></li><li><p>å¤šç¯å¢ƒé…ç½®æ–‡ä»¶</p><div class="language-yaml line-numbers-mode" data-ext="yml"><pre class="language-yaml"><code><span class="token comment">#åº”ç”¨ç¯å¢ƒ</span>
<span class="token key atrule">spring</span><span class="token punctuation">:</span>
  <span class="token key atrule">profiles</span><span class="token punctuation">:</span> active
<span class="token punctuation">---</span>
  <span class="token comment">#ç”Ÿäº§ç¯å¢ƒ</span>
<span class="token key atrule">spring</span><span class="token punctuation">:</span>
  <span class="token key atrule">profiles</span><span class="token punctuation">:</span> pro
<span class="token key atrule">server</span><span class="token punctuation">:</span>
  <span class="token key atrule">port</span><span class="token punctuation">:</span> <span class="token number">8080</span> <span class="token comment">#æŒ‡å®šæœåŠ¡çš„è¿è¡Œç«¯å£</span>
<span class="token punctuation">---</span> <span class="token comment">#é€šè¿‡çŸ­çº¿åˆ†éš”ä¸åŒçš„ç¯å¢ƒ</span>

<span class="token comment">#å¼€å‘ç¯å¢ƒ</span>
<span class="token key atrule">spring</span><span class="token punctuation">:</span>
  <span class="token key atrule">profiles</span><span class="token punctuation">:</span> dev
<span class="token key atrule">server</span><span class="token punctuation">:</span>
  <span class="token key atrule">port</span><span class="token punctuation">:</span> <span class="token number">8081</span>
<span class="token punctuation">---</span>

<span class="token comment">#æµ‹è¯•ç¯å¢ƒ</span>
<span class="token key atrule">spring</span><span class="token punctuation">:</span>
  <span class="token key atrule">profiles</span><span class="token punctuation">:</span> test
<span class="token key atrule">server</span><span class="token punctuation">:</span>
  <span class="token key atrule">port</span><span class="token punctuation">:</span> <span class="token number">8082</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div></li></ul><h3 id="_4-5-çƒ­éƒ¨ç½²" tabindex="-1"><a class="header-anchor" href="#_4-5-çƒ­éƒ¨ç½²" aria-hidden="true">#</a> 4.5 çƒ­éƒ¨ç½²</h3><h4 id="_4-5-1-æ¦‚å¿µ" tabindex="-1"><a class="header-anchor" href="#_4-5-1-æ¦‚å¿µ" aria-hidden="true">#</a> 4.5.1 æ¦‚å¿µ</h4><p>çƒ­éƒ¨ç½²ï¼ˆHotÂ Deploymentï¼‰æŒ‡çš„æ˜¯åœ¨è¿è¡ŒçŠ¶æ€ä¸‹ï¼Œä¸éœ€è¦åœæ­¢åº”ç”¨ç¨‹åºå°±èƒ½å¤Ÿæ›´æ–°åº”ç”¨ç¨‹åºçš„éƒ¨åˆ†æˆ–å…¨éƒ¨å†…å®¹ã€‚çƒ­éƒ¨ç½²å¯ä»¥æé«˜åº”ç”¨ç¨‹åºçš„å¯ç”¨æ€§å’Œå¯ç»´æŠ¤æ€§ï¼Œé¿å…äº†å› ä¸ºåœæ­¢åº”ç”¨ç¨‹åºè€Œå¯¼è‡´çš„åœæœºæ—¶é—´ã€‚åœ¨Javaåº”ç”¨ç¨‹åºä¸­ï¼Œçƒ­éƒ¨ç½²å¯ä»¥é€šè¿‡ä»¥ä¸‹æ–¹å¼å®ç°ï¼š</p><p>1.Â ä½¿ç”¨JRebelå·¥å…·ï¼šJRebelæ˜¯ä¸€ä¸ªJavaå¼€å‘å·¥å…·ï¼Œå¯ä»¥å®ç°Javaåº”ç”¨ç¨‹åºçš„çƒ­éƒ¨ç½²ã€‚å®ƒé€šè¿‡åœ¨è¿è¡Œæ—¶åŠ¨æ€åœ°åŠ è½½æ–°çš„ç±»æ–‡ä»¶ï¼Œä¸éœ€è¦é‡æ–°å¯åŠ¨åº”ç”¨ç¨‹åºå°±å¯ä»¥æ›´æ–°åº”ç”¨ç¨‹åºçš„ä»£ç å’Œé…ç½®ã€‚<br> 2.Â ä½¿ç”¨SpringÂ BootÂ DevToolsï¼šSpringÂ BootÂ DevToolsæ˜¯ä¸€ä¸ªå¼€å‘å·¥å…·ï¼Œå¯ä»¥å®ç°SpringÂ Bootåº”ç”¨ç¨‹åºçš„çƒ­éƒ¨ç½²ã€‚å®ƒå¯ä»¥ç›‘æ§åº”ç”¨ç¨‹åºçš„ä»£ç å’Œèµ„æºæ–‡ä»¶çš„å˜åŒ–ï¼Œå½“æ£€æµ‹åˆ°å˜åŒ–æ—¶ï¼Œè‡ªåŠ¨é‡å¯åº”ç”¨ç¨‹åºã€‚<br> 3.Â ä½¿ç”¨OSGIæ¡†æ¶ï¼šOSGIæ˜¯ä¸€ä¸ªJavaæ¨¡å—åŒ–æ¡†æ¶ï¼Œå¯ä»¥å®ç°Javaåº”ç”¨ç¨‹åºçš„çƒ­éƒ¨ç½²ã€‚å®ƒé€šè¿‡å°†åº”ç”¨ç¨‹åºåˆ’åˆ†ä¸ºå¤šä¸ªæ¨¡å—ï¼Œæ¯ä¸ªæ¨¡å—å¯ä»¥ç‹¬ç«‹åœ°æ›´æ–°å’Œéƒ¨ç½²ï¼Œä¸éœ€è¦é‡æ–°å¯åŠ¨æ•´ä¸ªåº”ç”¨ç¨‹åºã€‚<br> 4.Â ä½¿ç”¨JavaÂ Agentï¼šJavaÂ Agentæ˜¯ä¸€ä¸ªJavaè¿è¡Œæ—¶å·¥å…·ï¼Œå¯ä»¥åœ¨è¿è¡Œæ—¶ä¿®æ”¹Javaåº”ç”¨ç¨‹åºçš„å­—èŠ‚ç ï¼Œå®ç°çƒ­éƒ¨ç½²ã€‚å®ƒå¯ä»¥é€šè¿‡JavaÂ InstrumentationÂ APIæ¥å®ç°ã€‚<br> SpringÂ BootÂ DevToolså¯ä»¥åœ¨åˆ›å»ºé¡¹ç›®æ—¶å‹¾é€‰</p><h4 id="_4-5-2-ä½¿ç”¨spring-boot-devtoolså®ç°çƒ­éƒ¨ç½²" tabindex="-1"><a class="header-anchor" href="#_4-5-2-ä½¿ç”¨spring-boot-devtoolså®ç°çƒ­éƒ¨ç½²" aria-hidden="true">#</a> 4.5.2 ä½¿ç”¨Spring Boot DevToolså®ç°çƒ­éƒ¨ç½²</h4><ol><li>å¯¼åŒ…ï¼Œä¹Ÿå¯ä»¥åˆ›å»ºæ—¶å‹¾é€‰å¯¹åº”</li></ol><div class="language-xml line-numbers-mode" data-ext="xml"><pre class="language-xml"><code><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>dependency</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>groupId</span><span class="token punctuation">&gt;</span></span>org.springframework.boot<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>groupId</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>artifactId</span><span class="token punctuation">&gt;</span></span>spring-boot-devtools<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>artifactId</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>dependency</span><span class="token punctuation">&gt;</span></span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><ol start="2"><li><p>ideaå·¥å…·ä¸­æ‰¾åˆ° <strong>æ„å»º-&gt;æ„å»ºé¡¹ç›®</strong> å°±èƒ½åˆ·æ–°é¡¹ç›®ï¼Œä½†æ¯æ¬¡éƒ½éœ€è¦æ‰‹åŠ¨ç‚¹å‡»</p></li><li><p>å¼€å¯è‡ªåŠ¨æ„å»º</p></li></ol><p>åœ¨ideaä¸­æ‰¾åˆ° è®¾ç½®-&gt;æ„å»ºï¼Œæ‰§è¡Œï¼Œéƒ¨ç½²-&gt;ç¼–è¯‘å™¨-&gt;è‡ªåŠ¨éƒ¨ç½²é¡¹ç›®</p><p>ä½¿ç”¨å¿«æ·é”® ctrl+shift+alt+/ è¿›å…¥æ³¨å†Œè¡¨ï¼Œå‹¾é€‰compiler.automake.allow.when.app.running</p><ol start="4"><li>èŒƒå›´é…ç½®</li></ol><div class="language-yaml line-numbers-mode" data-ext="yml"><pre class="language-yaml"><code><span class="token comment">#è®¾ç½®staticæ–‡ä»¶å¤¹ä¸‹çš„éƒ½ä¸å‚ä¸çƒ­éƒ¨ç½²</span>
<span class="token key atrule">spring</span><span class="token punctuation">:</span>      
  <span class="token key atrule">devtools</span><span class="token punctuation">:</span>
    <span class="token key atrule">restart</span><span class="token punctuation">:</span>
      <span class="token key atrule">exclude</span><span class="token punctuation">:</span> static/<span class="token important">**</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>æœ‰äº›æ–‡ä»¶é»˜è®¤ä¸å‚ä¸çƒ­éƒ¨ç½²ï¼Œä¾‹å¦‚é™æ€èµ„æº</p><h3 id="_4-6-å±æ€§ç»‘å®š" tabindex="-1"><a class="header-anchor" href="#_4-6-å±æ€§ç»‘å®š" aria-hidden="true">#</a> 4.6 å±æ€§ç»‘å®š</h3><div class="language-java line-numbers-mode" data-ext="java"><pre class="language-java"><code><span class="token annotation punctuation">@Data</span>
<span class="token annotation punctuation">@Component</span>
<span class="token annotation punctuation">@ConfigurationProperties</span><span class="token punctuation">(</span>prefix<span class="token operator">=</span><span class="token string">&quot;servers&quot;</span><span class="token punctuation">)</span> <span class="token comment">//ä½¿ç”¨è¿™ä¸ªæ³¨è§£å»ºç«‹å±æ€§ä¸ymlæ–‡ä»¶ä¸­é…ç½®å€¼çš„è¿æ¥</span>
<span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">ServerConfig</span> <span class="token punctuation">{</span>
    <span class="token keyword">private</span> <span class="token class-name">String</span> ipAddress<span class="token punctuation">;</span>
    <span class="token keyword">private</span> <span class="token keyword">int</span> port<span class="token punctuation">;</span>
    <span class="token keyword">private</span> <span class="token keyword">long</span> timeout<span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><div class="language-java line-numbers-mode" data-ext="java"><pre class="language-java"><code><span class="token annotation punctuation">@SpringBootApplication</span>
<span class="token annotation punctuation">@EnableConfigurationProperties</span><span class="token punctuation">(</span><span class="token punctuation">{</span><span class="token class-name">ServerConfig</span><span class="token punctuation">.</span><span class="token keyword">class</span><span class="token punctuation">}</span><span class="token punctuation">)</span> <span class="token comment">//æ³¨å†Œä¸ºå°†æŒ‡å®šç±»æ³¨å†Œä¸ºBeanï¼Œ</span>
<span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">SpringBootConfigurationApplication</span> <span class="token punctuation">{</span>
    <span class="token keyword">public</span> <span class="token keyword">static</span> <span class="token keyword">void</span> <span class="token function">main</span><span class="token punctuation">(</span><span class="token class-name">String</span><span class="token punctuation">[</span><span class="token punctuation">]</span> args<span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token class-name">ConfigurableApplicationContext</span> configurableApplicationContext <span class="token operator">=</span> <span class="token class-name">SpringApplication</span><span class="token punctuation">.</span><span class="token function">run</span><span class="token punctuation">(</span><span class="token class-name">SpringBootConfigurationApplication</span><span class="token punctuation">.</span><span class="token keyword">class</span><span class="token punctuation">,</span> args<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>@EnableConfigurationProperties æ³¨è§£åªæ˜¯è®©å¯¹åº”ç±»ä¸ºBeanï¼Œä¸ç”¨å†æ·»åŠ @Componentï¼Œå¹¶æ²¡æœ‰åŒ¹é…ymlæ–‡ä»¶å€¼å’Œå¯¹åº”ç±»å±æ€§</p><h3 id="_4-7-å®½æ¾ç»‘å®š" tabindex="-1"><a class="header-anchor" href="#_4-7-å®½æ¾ç»‘å®š" aria-hidden="true">#</a> 4.7 å®½æ¾ç»‘å®š</h3><div class="language-java line-numbers-mode" data-ext="java"><pre class="language-java"><code><span class="token annotation punctuation">@Data</span>
<span class="token annotation punctuation">@Component</span>
<span class="token annotation punctuation">@ConfigurationProperties</span><span class="token punctuation">(</span>prefix<span class="token operator">=</span><span class="token string">&quot;servers&quot;</span><span class="token punctuation">)</span>
<span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">ServerConfig</span> <span class="token punctuation">{</span>
    <span class="token keyword">private</span> <span class="token class-name">String</span> ipAddress<span class="token punctuation">;</span>
    <span class="token keyword">private</span> <span class="token keyword">int</span> port<span class="token punctuation">;</span>
    <span class="token keyword">private</span> <span class="token keyword">long</span> timeout<span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>@ConfigurationProperties(prefix=&quot;servers&quot;) ä¸­åŒ¹é…ymlæ–‡ä»¶ä¸­çš„å±æ€§æ—¶ä¼šå¿½ç•¥ymlæ–‡ä»¶ä¸­å±æ€§çš„å¤§å°å†™ï¼Œä¸­åˆ’çº¿ï¼Œä¸‹åˆ’çº¿ï¼Œæ‰€ä»¥è¯¥æ³¨è§£æ˜¯ä¸€ä¸ªå®½æ¾æ³¨è§£</p><div class="language-yaml line-numbers-mode" data-ext="yml"><pre class="language-yaml"><code><span class="token key atrule">servers</span><span class="token punctuation">:</span>
<span class="token comment"># IDADDRESS: 192.168.0.1</span>
<span class="token comment"># id-address: 192.168.0.1</span>
<span class="token comment"># id_address: 192.168.0.1</span>
  <span class="token key atrule">idAddress</span><span class="token punctuation">:</span> 192.168.0.1
  <span class="token key atrule">port</span><span class="token punctuation">:</span> <span class="token number">8080</span>
  <span class="token key atrule">timeout</span><span class="token punctuation">:</span> <span class="token number">-1</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>ä»¥ä¸Šè¿™å‡ ç§å½¢å¼éƒ½å¯ä»¥åŒ¹é…åˆ°idaddress</p><h3 id="_4-8-å‡ é—¨æŠ€æœ¯" tabindex="-1"><a class="header-anchor" href="#_4-8-å‡ é—¨æŠ€æœ¯" aria-hidden="true">#</a> 4.8 å‡ é—¨æŠ€æœ¯</h3><h4 id="_4-8-1-æ–°æ—¶é—´å•ä½" tabindex="-1"><a class="header-anchor" href="#_4-8-1-æ–°æ—¶é—´å•ä½" aria-hidden="true">#</a> 4.8.1 æ–°æ—¶é—´å•ä½</h4><p>Duration</p><div class="language-java line-numbers-mode" data-ext="java"><pre class="language-java"><code><span class="token annotation punctuation">@DurationUnit</span><span class="token punctuation">(</span><span class="token class-name">ChronoUnit</span><span class="token punctuation">.</span><span class="token constant">HOURS</span><span class="token punctuation">)</span><span class="token comment">//è®¾ç½®æ—¶é—´å•ä½ä¸ºHï¼Œé»˜è®¤ä¸ºms</span>
<span class="token keyword">private</span> <span class="token class-name">Duration</span> serverTimeOut<span class="token punctuation">;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div></div></div><h4 id="_4-8-2-æ–°å­˜å‚¨å•ä½" tabindex="-1"><a class="header-anchor" href="#_4-8-2-æ–°å­˜å‚¨å•ä½" aria-hidden="true">#</a> 4.8.2 æ–°å­˜å‚¨å•ä½</h4><p>DataSize</p><div class="language-java line-numbers-mode" data-ext="java"><pre class="language-java"><code><span class="token annotation punctuation">@DataSizeUnit</span><span class="token punctuation">(</span><span class="token class-name">DataUnit</span><span class="token punctuation">.</span><span class="token constant">BYTES</span><span class="token punctuation">)</span>  <span class="token comment">// é»˜è®¤æ˜¯B</span>
<span class="token keyword">private</span> <span class="token class-name">DataSize</span> dataSize<span class="token punctuation">;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div></div></div><h4 id="_4-8-3-validation" tabindex="-1"><a class="header-anchor" href="#_4-8-3-validation" aria-hidden="true">#</a> 4.8.3 Validation</h4><p>Validationæ˜¯ä¸€ç§ç”¨äºéªŒè¯æ•°æ®çš„æ¡†æ¶ï¼Œå®ƒå¯ä»¥å¸®åŠ©å¼€å‘äººå‘˜åœ¨åº”ç”¨ç¨‹åºä¸­è½»æ¾åœ°å®ç°è¾“å…¥æ•°æ®çš„éªŒè¯ã€‚Validationæ¡†æ¶å¯ä»¥å¯¹æ•°æ®è¿›è¡Œå„ç§æ£€æŸ¥ï¼Œä¾‹å¦‚æ•°æ®æ ¼å¼ã€æ•°æ®ç±»å‹ã€æ•°æ®é•¿åº¦ã€æ•°æ®èŒƒå›´ç­‰ï¼Œä»è€Œç¡®ä¿æ•°æ®çš„æœ‰æ•ˆæ€§å’Œå®Œæ•´æ€§ã€‚</p><p>ä»¥ä¸‹æ˜¯ä¸€ä¸ªä½¿ç”¨Validationæ¡†æ¶è¿›è¡Œæ•°æ®éªŒè¯çš„ç®€å•æ¡ˆä¾‹ï¼Œå®ƒæ¼”ç¤ºäº†å¦‚ä½•ä½¿ç”¨Validationæ¡†æ¶æ¥éªŒè¯ç”¨æˆ·çš„è¾“å…¥æ•°æ®ã€‚</p><ol><li>åˆ›å»ºä¸€ä¸ªJava Webé¡¹ç›®ï¼Œæ·»åŠ Validationå’ŒSpring MVCçš„ä¾èµ–ã€‚</li></ol><div class="language-xml line-numbers-mode" data-ext="xml"><pre class="language-xml"><code><span class="token comment">&lt;!-- https://mvnrepository.com/artifact/javax.validation/validation-api --&gt;</span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>dependency</span><span class="token punctuation">&gt;</span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>groupId</span><span class="token punctuation">&gt;</span></span>javax.validation<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>groupId</span><span class="token punctuation">&gt;</span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>artifactId</span><span class="token punctuation">&gt;</span></span>validation-api<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>artifactId</span><span class="token punctuation">&gt;</span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>version</span><span class="token punctuation">&gt;</span></span>2.0.1.Final<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>version</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>dependency</span><span class="token punctuation">&gt;</span></span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><ol start="2"><li>ç¼–å†™Userç±»</li></ol><p>Userç±»åŒ…æ‹¬ç”¨æˆ·çš„å§“åã€å¹´é¾„å’Œç”µå­é‚®ä»¶ç­‰å±æ€§ï¼Œå¹¶ä½¿ç”¨Validationæ³¨è§£æ¥å®šä¹‰å„ä¸ªå±æ€§çš„éªŒè¯è§„åˆ™ï¼Œå¦‚ä¸‹æ‰€ç¤ºï¼š</p><div class="language-java line-numbers-mode" data-ext="java"><pre class="language-java"><code><span class="token annotation punctuation">@Validated</span>  <span class="token comment">//å¼€å¯æ ¡éªŒ</span>
<span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">User</span> <span class="token punctuation">{</span>

    <span class="token annotation punctuation">@NotBlank</span><span class="token punctuation">(</span>message <span class="token operator">=</span> <span class="token string">&quot;å§“åä¸èƒ½ä¸ºç©º&quot;</span><span class="token punctuation">)</span>
    <span class="token keyword">private</span> <span class="token class-name">String</span> name<span class="token punctuation">;</span>

    <span class="token annotation punctuation">@NotNull</span><span class="token punctuation">(</span>message <span class="token operator">=</span> <span class="token string">&quot;å¹´é¾„ä¸èƒ½ä¸ºç©º&quot;</span><span class="token punctuation">)</span>
    <span class="token annotation punctuation">@Min</span><span class="token punctuation">(</span>value <span class="token operator">=</span> <span class="token number">18</span><span class="token punctuation">,</span> message <span class="token operator">=</span> <span class="token string">&quot;å¹´é¾„ä¸èƒ½å°äº18å²&quot;</span><span class="token punctuation">)</span>
    <span class="token keyword">private</span> <span class="token class-name">Integer</span> age<span class="token punctuation">;</span>

    <span class="token annotation punctuation">@Email</span><span class="token punctuation">(</span>message <span class="token operator">=</span> <span class="token string">&quot;ç”µå­é‚®ä»¶æ ¼å¼ä¸æ­£ç¡®&quot;</span><span class="token punctuation">)</span>
    <span class="token keyword">private</span> <span class="token class-name">String</span> email<span class="token punctuation">;</span>

    <span class="token comment">// getterå’Œsetteræ–¹æ³•</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>åœ¨ä¸Šé¢çš„ä»£ç ä¸­ï¼Œ@NotBlankæ³¨è§£è¡¨ç¤ºå§“åä¸èƒ½ä¸ºç©ºï¼Œ@NotNullå’Œ@Minæ³¨è§£è¡¨ç¤ºå¹´é¾„ä¸èƒ½ä¸ºç©ºä¸”å¹´é¾„å¿…é¡»å¤§äºç­‰äº18å²ï¼Œ@Emailæ³¨è§£è¡¨ç¤ºç”µå­é‚®ä»¶çš„æ ¼å¼å¿…é¡»æ­£ç¡®ã€‚</p><ol start="3"><li>ç¼–å†™Controller</li></ol><p>æ¥ä¸‹æ¥ï¼Œæˆ‘ä»¬éœ€è¦ç¼–å†™ä¸€ä¸ªControllerç±»æ¥å¤„ç†ç”¨æˆ·çš„è¾“å…¥æ•°æ®ï¼Œå¹¶ä½¿ç”¨Validationæ¡†æ¶æ¥è¿›è¡Œæ•°æ®éªŒè¯ï¼Œå¦‚ä¸‹æ‰€ç¤ºï¼š</p><div class="language-java line-numbers-mode" data-ext="java"><pre class="language-java"><code><span class="token annotation punctuation">@Controller</span>
<span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">UserController</span> <span class="token punctuation">{</span>

    <span class="token annotation punctuation">@RequestMapping</span><span class="token punctuation">(</span><span class="token string">&quot;/saveUser&quot;</span><span class="token punctuation">)</span>
    <span class="token keyword">public</span> <span class="token class-name">String</span> <span class="token function">saveUser</span><span class="token punctuation">(</span><span class="token annotation punctuation">@Valid</span> <span class="token class-name">User</span> user<span class="token punctuation">,</span> <span class="token class-name">BindingResult</span> result<span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword">if</span> <span class="token punctuation">(</span>result<span class="token punctuation">.</span><span class="token function">hasErrors</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
            <span class="token keyword">return</span> <span class="token string">&quot;errorPage&quot;</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span>
        <span class="token comment">// å¤„ç†ç”¨æˆ·æ•°æ®</span>
        <span class="token keyword">return</span> <span class="token string">&quot;successPage&quot;</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>åœ¨ä¸Šé¢çš„ä»£ç ä¸­ï¼Œ<strong>@Valid</strong>æ³¨è§£è¡¨ç¤ºå¯¹ç”¨æˆ·è¾“å…¥çš„æ•°æ®è¿›è¡ŒéªŒè¯ï¼ŒBindingResultå‚æ•°ç”¨äºæ¥æ”¶éªŒè¯ç»“æœï¼Œå¦‚æœæœ‰é”™è¯¯ï¼Œåˆ™è·³è½¬åˆ°errorPageé¡µé¢ï¼Œå¦åˆ™å¤„ç†ç”¨æˆ·æ•°æ®å¹¶è·³è½¬åˆ°successPageé¡µé¢ã€‚</p><h4 id="_4-8-4-hibernate" tabindex="-1"><a class="header-anchor" href="#_4-8-4-hibernate" aria-hidden="true">#</a> 4.8.4 Hibernate</h4><h5 id="_4-8-4-1-æ¦‚æ‹¬" tabindex="-1"><a class="header-anchor" href="#_4-8-4-1-æ¦‚æ‹¬" aria-hidden="true">#</a> 4.8.4.1 æ¦‚æ‹¬</h5><p>Hibernateæ˜¯ä¸€ä¸ªJavaæŒä¹…åŒ–æ¡†æ¶ï¼Œå®ƒæä¾›äº†ä¸€ç§å¯¹è±¡/å…³ç³»æ˜ å°„ï¼ˆORMï¼‰çš„æ–¹å¼ï¼Œå°†Javaå¯¹è±¡æ˜ å°„åˆ°å…³ç³»å‹æ•°æ®åº“ä¸­çš„è¡¨ç»“æ„ï¼Œä»è€Œä½¿å¾—Javaå¼€å‘äººå‘˜å¯ä»¥æ›´åŠ æ–¹ä¾¿åœ°è¿›è¡Œæ•°æ®åº“æ“ä½œã€‚</p><p>Hibernateçš„ä¸»è¦ä½œç”¨åŒ…æ‹¬ï¼š</p><ol><li>ç®€åŒ–æ•°æ®åº“è®¿é—®</li></ol><p>Hibernateæä¾›äº†ä¸€ä¸ªé¢å‘å¯¹è±¡çš„æ•°æ®è®¿é—®æ¥å£ï¼Œä½¿å¾—å¼€å‘äººå‘˜å¯ä»¥ä½¿ç”¨å¯¹è±¡çš„æ–¹å¼æ¥è®¿é—®æ•°æ®åº“ï¼Œè€Œä¸å¿…å…³å¿ƒåº•å±‚çš„æ•°æ®åº“æ“ä½œç»†èŠ‚ã€‚å¼€å‘äººå‘˜å¯ä»¥ä½¿ç”¨Hibernateæä¾›çš„APIæ¥æ‰§è¡ŒæŸ¥è¯¢ã€æ’å…¥ã€æ›´æ–°å’Œåˆ é™¤ç­‰æ“ä½œï¼Œä»è€Œç®€åŒ–äº†æ•°æ®åº“è®¿é—®çš„æµç¨‹ã€‚</p><ol start="2"><li>æé«˜ä»£ç çš„å¯ç»´æŠ¤æ€§å’Œå¯é‡ç”¨æ€§</li></ol><p>Hibernateæä¾›äº†ä¸€ç§å°†Javaå¯¹è±¡æ˜ å°„åˆ°æ•°æ®åº“è¡¨çš„æ–¹å¼ï¼Œä½¿å¾—å¼€å‘äººå‘˜å¯ä»¥ä½¿ç”¨é¢å‘å¯¹è±¡çš„æ–¹å¼æ¥è®¾è®¡å’Œå®ç°æ•°æ®æ¨¡å‹ã€‚è¿™ç§æ–¹å¼ä½¿å¾—ä»£ç æ›´åŠ æ¸…æ™°ã€æ˜“äºç»´æŠ¤å’Œé‡ç”¨ï¼ŒåŒæ—¶ä¹Ÿä½¿å¾—å¼€å‘äººå‘˜æ›´åŠ ä¸“æ³¨äºä¸šåŠ¡é€»è¾‘çš„å®ç°ã€‚</p><ol start="3"><li>æé«˜åº”ç”¨ç¨‹åºæ€§èƒ½</li></ol><p>Hibernateä½¿ç”¨ç¼“å­˜æŠ€æœ¯æ¥æé«˜åº”ç”¨ç¨‹åºçš„æ€§èƒ½ã€‚å®ƒå¯ä»¥ç¼“å­˜æŸ¥è¯¢ç»“æœã€å¯¹è±¡ç­‰ï¼Œä»è€Œå‡å°‘äº†ä¸æ•°æ®åº“çš„äº¤äº’æ¬¡æ•°ï¼Œæé«˜äº†åº”ç”¨ç¨‹åºçš„å“åº”é€Ÿåº¦ã€‚</p><ol start="4"><li>æ”¯æŒå¤šç§æ•°æ®åº“</li></ol><p>Hibernateæ”¯æŒå¤šç§æ•°æ®åº“ï¼ŒåŒ…æ‹¬Oracleã€MySQLã€SQL Serverã€DB2ç­‰ï¼Œä½¿å¾—å¼€å‘äººå‘˜å¯ä»¥æ›´åŠ çµæ´»åœ°é€‰æ‹©æ•°æ®åº“ã€‚</p><h5 id="_4-8-4-2-åŸºæœ¬ä½¿ç”¨" tabindex="-1"><a class="header-anchor" href="#_4-8-4-2-åŸºæœ¬ä½¿ç”¨" aria-hidden="true">#</a> 4.8.4.2 åŸºæœ¬ä½¿ç”¨</h5><p>ä»¥ä¸‹æ˜¯ä¸€ä¸ªä½¿ç”¨Hibernateçš„ç®€å•æ¡ˆä¾‹ï¼Œå®ƒæ¼”ç¤ºäº†å¦‚ä½•ä½¿ç”¨Hibernateå®ç°å¯¹æ•°æ®åº“çš„å¢åˆ æ”¹æŸ¥æ“ä½œã€‚</p><ol><li>æ·»åŠ Hibernateå’ŒMySQLçš„ä¾èµ–</li></ol><div class="language-xml line-numbers-mode" data-ext="xml"><pre class="language-xml"><code><span class="token comment">&lt;!-- https://mvnrepository.com/artifact/org.hibernate.validator/hibernate-validator --&gt;</span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>dependency</span><span class="token punctuation">&gt;</span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>groupId</span><span class="token punctuation">&gt;</span></span>org.hibernate.validator<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>groupId</span><span class="token punctuation">&gt;</span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>artifactId</span><span class="token punctuation">&gt;</span></span>hibernate-validator<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>artifactId</span><span class="token punctuation">&gt;</span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>version</span><span class="token punctuation">&gt;</span></span>8.0.0.Final<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>version</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>dependency</span><span class="token punctuation">&gt;</span></span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><ol start="2"><li>åœ¨é¡¹ç›®ä¸­åˆ›å»ºä¸€ä¸ªHibernateé…ç½®æ–‡ä»¶ï¼Œé…ç½®æ•°æ®åº“è¿æ¥ä¿¡æ¯å’ŒHibernateçš„ä¸€äº›åŸºæœ¬å‚æ•°</li></ol><div class="language-yaml line-numbers-mode" data-ext="yml"><pre class="language-yaml"><code><span class="token comment"># æ•°æ®åº“é…ç½®</span>
<span class="token key atrule">spring</span><span class="token punctuation">:</span>
  <span class="token key atrule">datasource</span><span class="token punctuation">:</span> <span class="token comment">#æ•°æ®æºé…ç½®é¡¹ï¼ŒåŒ…æ‹¬URLã€ç”¨æˆ·åã€å¯†ç å’ŒJDBCé©±åŠ¨ç±»å</span>
    <span class="token key atrule">url</span><span class="token punctuation">:</span> jdbc<span class="token punctuation">:</span>mysql<span class="token punctuation">:</span>//localhost<span class="token punctuation">:</span>3306/mydb
    <span class="token key atrule">username</span><span class="token punctuation">:</span> root
    <span class="token key atrule">password</span><span class="token punctuation">:</span> mypassword
    <span class="token key atrule">driver-class-name</span><span class="token punctuation">:</span> com.mysql.cj.jdbc.Driver

<span class="token comment"># Hibernateé…ç½®</span>
<span class="token key atrule">spring</span><span class="token punctuation">:</span>
  <span class="token key atrule">jpa</span><span class="token punctuation">:</span>
    <span class="token key atrule">hibernate</span><span class="token punctuation">:</span>
      <span class="token key atrule">dialect</span><span class="token punctuation">:</span> org.hibernate.dialect.MySQL8Dialect <span class="token comment">#è¡¨ç¤ºHibernateæ–¹è¨€é…ç½®é¡¹ï¼ŒæŒ‡å®šæ‰€ä½¿ç”¨çš„æ•°æ®åº“æ–¹è¨€</span>
      <span class="token key atrule">ddl-auto</span><span class="token punctuation">:</span> update <span class="token comment">#è‡ªåŠ¨å»ºè¡¨é…ç½®é¡¹ï¼ŒæŒ‡å®šHibernateåœ¨å¯åŠ¨æ—¶æ˜¯å¦è‡ªåŠ¨åˆ›å»ºæ•°æ®åº“è¡¨ç»“æ„</span>
      <span class="token key atrule">naming</span><span class="token punctuation">:</span> <span class="token comment">#è¡¨ç¤ºå‘½åç­–ç•¥é…ç½®é¡¹ï¼ŒæŒ‡å®šHibernateåœ¨å¤„ç†å®ä½“ç±»å’Œæ•°æ®åº“è¡¨åä¹‹é—´çš„æ˜ å°„æ—¶æ‰€ä½¿ç”¨çš„ç­–ç•¥</span>
        <span class="token key atrule">physical-strategy</span><span class="token punctuation">:</span> org.hibernate.boot.model.naming.PhysicalNamingStrategyStandardImpl
    <span class="token key atrule">show-sql</span><span class="token punctuation">:</span> <span class="token boolean important">true</span>
    <span class="token key atrule">properties</span><span class="token punctuation">:</span>
      <span class="token key atrule">hibernate</span><span class="token punctuation">:</span> 
        <span class="token key atrule">format_sql</span><span class="token punctuation">:</span> <span class="token boolean important">true</span> <span class="token comment"># è¡¨ç¤ºæ˜¯å¦åœ¨æ§åˆ¶å°ä¸Šæ‰“å°Hibernateæ‰§è¡Œçš„SQLè¯­å¥</span>
        <span class="token key atrule">use_sql_comments</span><span class="token punctuation">:</span> <span class="token boolean important">true</span> <span class="token comment"># ç¤ºæ˜¯å¦åœ¨Hibernateç”Ÿæˆçš„SQLè¯­å¥ä¸­åŒ…å«æ³¨é‡Šã€‚</span>
        <span class="token key atrule">generate_statistics</span><span class="token punctuation">:</span> <span class="token boolean important">true</span> <span class="token comment">#è¡¨ç¤ºæ˜¯å¦å¼€å¯Hibernateçš„ç»Ÿè®¡ä¿¡æ¯è®°å½•</span>


</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>åœ¨è¿™ä¸ªç¤ºä¾‹é…ç½®æ–‡ä»¶ä¸­ï¼Œä½¿ç”¨äº†Spring Bootä¸­çš„Spring Data JPAæ¥ç®€åŒ–Hibernateçš„é…ç½®</p><ol start="2"><li>å®ä½“ç±»</li></ol><div class="language-java line-numbers-mode" data-ext="java"><pre class="language-java"><code><span class="token annotation punctuation">@Entity</span>  <span class="token comment">//è¡¨æ˜ä¸ºå®ä½“ç±»</span>
<span class="token annotation punctuation">@Table</span><span class="token punctuation">(</span>name <span class="token operator">=</span> <span class="token string">&quot;user&quot;</span><span class="token punctuation">)</span> <span class="token comment">//å»ºç«‹ä¸å¯¹åº”è¡¨çš„æ˜ å°„</span>
<span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">User</span> <span class="token punctuation">{</span>

    <span class="token annotation punctuation">@Id</span> <span class="token comment">//æŒ‡å®šä¸»é”®</span>
    <span class="token annotation punctuation">@GeneratedValue</span><span class="token punctuation">(</span>strategy <span class="token operator">=</span> <span class="token class-name">GenerationType</span><span class="token punctuation">.</span><span class="token constant">IDENTITY</span><span class="token punctuation">)</span> <span class="token comment">//æŒ‡å®šè‡ªå¢ç­–ç•¥</span>
    <span class="token keyword">private</span> <span class="token class-name">Long</span> id<span class="token punctuation">;</span>

    <span class="token annotation punctuation">@Column</span><span class="token punctuation">(</span>name <span class="token operator">=</span> <span class="token string">&quot;name&quot;</span><span class="token punctuation">)</span>
    <span class="token keyword">private</span> <span class="token class-name">String</span> name<span class="token punctuation">;</span>

    <span class="token annotation punctuation">@Column</span><span class="token punctuation">(</span>name <span class="token operator">=</span> <span class="token string">&quot;age&quot;</span><span class="token punctuation">)</span>
    <span class="token keyword">private</span> <span class="token class-name">Integer</span> age<span class="token punctuation">;</span>

    <span class="token annotation punctuation">@Column</span><span class="token punctuation">(</span>name <span class="token operator">=</span> <span class="token string">&quot;email&quot;</span><span class="token punctuation">)</span>
    <span class="token keyword">private</span> <span class="token class-name">String</span> email<span class="token punctuation">;</span>

    <span class="token comment">// getterå’Œsetteræ–¹æ³•</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><ol start="3"><li>ç¼–å†™DAOç±»</li></ol><p>æ¥ä¸‹æ¥ï¼Œæˆ‘ä»¬éœ€è¦åˆ›å»ºä¸€ä¸ªDAOç±»æ¥å®ç°å¯¹ç”¨æˆ·çš„å¢åˆ æ”¹æŸ¥æ“ä½œã€‚UserDAOç±»åº”è¯¥ä½¿ç”¨<strong>EntityManager</strong>æ¥è¿›è¡Œæ•°æ®åº“æ“ä½œï¼Œå¦‚ä¸‹æ‰€ç¤ºï¼š</p><div class="language-java line-numbers-mode" data-ext="java"><pre class="language-java"><code><span class="token annotation punctuation">@Repository</span>
<span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">UserDAO</span> <span class="token punctuation">{</span>

    <span class="token annotation punctuation">@PersistenceContext</span>
    <span class="token keyword">private</span> <span class="token class-name">EntityManager</span> entityManager<span class="token punctuation">;</span>

    <span class="token keyword">public</span> <span class="token class-name">User</span> <span class="token function">findById</span><span class="token punctuation">(</span><span class="token class-name">Long</span> id<span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword">return</span> entityManager<span class="token punctuation">.</span><span class="token function">find</span><span class="token punctuation">(</span><span class="token class-name">User</span><span class="token punctuation">.</span><span class="token keyword">class</span><span class="token punctuation">,</span> id<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>

    <span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">save</span><span class="token punctuation">(</span><span class="token class-name">User</span> user<span class="token punctuation">)</span> <span class="token punctuation">{</span>
        entityManager<span class="token punctuation">.</span><span class="token function">persist</span><span class="token punctuation">(</span>user<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>

    <span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">update</span><span class="token punctuation">(</span><span class="token class-name">User</span> user<span class="token punctuation">)</span> <span class="token punctuation">{</span>
        entityManager<span class="token punctuation">.</span><span class="token function">merge</span><span class="token punctuation">(</span>user<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>

    <span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">deleteById</span><span class="token punctuation">(</span><span class="token class-name">Long</span> id<span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token class-name">User</span> user <span class="token operator">=</span> entityManager<span class="token punctuation">.</span><span class="token function">find</span><span class="token punctuation">(</span><span class="token class-name">User</span><span class="token punctuation">.</span><span class="token keyword">class</span><span class="token punctuation">,</span> id<span class="token punctuation">)</span><span class="token punctuation">;</span>
        entityManager<span class="token punctuation">.</span><span class="token function">remove</span><span class="token punctuation">(</span>user<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>

    <span class="token keyword">public</span> <span class="token class-name">List</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">User</span><span class="token punctuation">&gt;</span></span> <span class="token function">findAll</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token class-name">CriteriaBuilder</span> builder <span class="token operator">=</span> entityManager<span class="token punctuation">.</span><span class="token function">getCriteriaBuilder</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token class-name">CriteriaQuery</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">User</span><span class="token punctuation">&gt;</span></span> criteria <span class="token operator">=</span> builder<span class="token punctuation">.</span><span class="token function">createQuery</span><span class="token punctuation">(</span><span class="token class-name">User</span><span class="token punctuation">.</span><span class="token keyword">class</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token class-name">Root</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">User</span><span class="token punctuation">&gt;</span></span> root <span class="token operator">=</span> criteria<span class="token punctuation">.</span><span class="token function">from</span><span class="token punctuation">(</span><span class="token class-name">User</span><span class="token punctuation">.</span><span class="token keyword">class</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        criteria<span class="token punctuation">.</span><span class="token function">select</span><span class="token punctuation">(</span>root<span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token keyword">return</span> entityManager<span class="token punctuation">.</span><span class="token function">createQuery</span><span class="token punctuation">(</span>criteria<span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">getResultList</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><ol start="4"><li>æµ‹è¯•ä»£ç </li></ol><p>æœ€åï¼Œæˆ‘ä»¬éœ€è¦ç¼–å†™ä¸€äº›æµ‹è¯•ä»£ç æ¥æµ‹è¯•æˆ‘ä»¬çš„DAOç±»æ˜¯å¦æ­£å¸¸å·¥ä½œã€‚ä¾‹å¦‚ï¼Œæˆ‘ä»¬å¯ä»¥ä½¿ç”¨JUnitç¼–å†™ä¸€äº›æµ‹è¯•æ–¹æ³•ï¼š</p><div class="language-java line-numbers-mode" data-ext="java"><pre class="language-java"><code><span class="token annotation punctuation">@RunWith</span><span class="token punctuation">(</span><span class="token class-name">SpringRunner</span><span class="token punctuation">.</span><span class="token keyword">class</span><span class="token punctuation">)</span>
<span class="token annotation punctuation">@SpringBootTest</span>
<span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">UserDAOTest</span> <span class="token punctuation">{</span>

    <span class="token annotation punctuation">@Autowired</span>
    <span class="token keyword">private</span> <span class="token class-name">UserDAO</span> userDAO<span class="token punctuation">;</span>

    <span class="token annotation punctuation">@Test</span>
    <span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">testSave</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token class-name">User</span> user <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">User</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        user<span class="token punctuation">.</span><span class="token function">setName</span><span class="token punctuation">(</span><span class="token string">&quot;å¼ ä¸‰&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        user<span class="token punctuation">.</span><span class="token function">setAge</span><span class="token punctuation">(</span><span class="token number">20</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        user<span class="token punctuation">.</span><span class="token function">setEmail</span><span class="token punctuation">(</span><span class="token string">&quot;zhangsan@example.com&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        userDAO<span class="token punctuation">.</span><span class="token function">save</span><span class="token punctuation">(</span>user<span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token function">assertNotNull</span><span class="token punctuation">(</span>user<span class="token punctuation">.</span><span class="token function">getId</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>

    <span class="token annotation punctuation">@Test</span>
    <span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">testUpdate</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token class-name">User</span> user <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">User</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        user<span class="token punctuation">.</span><span class="token function">setName</span><span class="token punctuation">(</span><span class="token string">&quot;æå››&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        user<span class="token punctuation">.</span><span class="token function">setAge</span><span class="token punctuation">(</span><span class="token number">25</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        user<span class="token punctuation">.</span><span class="token function">setEmail</span><span class="token punctuation">(</span><span class="token string">&quot;lisi@example.com&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        userDAO<span class="token punctuation">.</span><span class="token function">save</span><span class="token punctuation">(</span>user<span class="token punctuation">)</span><span class="token punctuation">;</span>

        user<span class="token punctuation">.</span><span class="token function">setName</span><span class="token punctuation">(</span><span class="token string">&quot;ç‹äº”&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        userDAO<span class="token punctuation">.</span><span class="token function">update</span><span class="token punctuation">(</span>user<span class="token punctuation">)</span><span class="token punctuation">;</span>

        <span class="token class-name">User</span> updatedUser <span class="token operator">=</span> userDAO<span class="token punctuation">.</span><span class="token function">findById</span><span class="token punctuation">(</span>user<span class="token punctuation">.</span><span class="token function">getId</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token function">assertEquals</span><span class="token punctuation">(</span><span class="token string">&quot;ç‹äº”&quot;</span><span class="token punctuation">,</span> updatedUser<span class="token punctuation">.</span><span class="token function">getName</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>

    <span class="token annotation punctuation">@Test</span>
    <span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">testDelete</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token class-name">User</span> user <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">User</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        user<span class="token punctuation">.</span><span class="token function">setName</span><span class="token punctuation">(</span><span class="token string">&quot;èµµå…­&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        user<span class="token punctuation">.</span><span class="token function">setAge</span><span class="token punctuation">(</span><span class="token number">30</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        user<span class="token punctuation">.</span><span class="token function">setEmail</span><span class="token punctuation">(</span><span class="token string">&quot;zhaoliu@example.com&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        userDAO<span class="token punctuation">.</span><span class="token function">save</span><span class="token punctuation">(</span>user<span class="token punctuation">)</span><span class="token punctuation">;</span>

        <span class="token class-name">Long</span> id <span class="token operator">=</span> user<span class="token punctuation">.</span><span class="token function">getId</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        userDAO<span class="token punctuation">.</span><span class="token function">deleteById</span><span class="token punctuation">(</span>id<span class="token punctuation">)</span><span class="token punctuation">;</span>

        <span class="token class-name">User</span> deletedUser <span class="token operator">=</span> userDAO<span class="token punctuation">.</span><span class="token function">findById</span><span class="token punctuation">(</span>id<span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token function">assertNull</span><span class="token punctuation">(</span>deletedUser<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>

    <span class="token annotation punctuation">@Test</span>
    <span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">testFindAll</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token class-name">User</span> user1 <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">User</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        user1<span class="token punctuation">.</span><span class="token function">setName</span><span class="token punctuation">(</span><span class="token string">&quot;å¼ ä¸‰&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        user1<span class="token punctuation">.</span><span class="token function">setAge</span><span class="token punctuation">(</span><span class="token number">20</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        user1<span class="token punctuation">.</span><span class="token function">setEmail</span><span class="token punctuation">(</span><span class="token string">&quot;zhangsan@example.com&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        userDAO<span class="token punctuation">.</span><span class="token function">save</span><span class="token punctuation">(</span>user1<span class="token punctuation">)</span><span class="token punctuation">;</span>

        <span class="token class-name">User</span> user2 <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">User</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        user2<span class="token punctuation">.</span><span class="token function">setName</span><span class="token punctuation">(</span><span class="token string">&quot;æå››&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        user2<span class="token punctuation">.</span><span class="token function">setAge</span><span class="token punctuation">(</span><span class="token number">25</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        user2<span class="token punctuation">.</span><span class="token function">setEmail</span><span class="token punctuation">(</span><span class="token string">&quot;lisi@example.com&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        userDAO<span class="token punctuation">.</span><span class="token function">save</span><span class="token punctuation">(</span>user2<span class="token punctuation">)</span><span class="token punctuation">;</span>

        <span class="token class-name">List</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">User</span><span class="token punctuation">&gt;</span></span> userList <span class="token operator">=</span> userDAO<span class="token punctuation">.</span><span class="token function">findAll</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token function">assertEquals</span><span class="token punctuation">(</span><span class="token number">2</span><span class="token punctuation">,</span> userList<span class="token punctuation">.</span><span class="token function">size</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h3 id="_4-9-æµ‹è¯•" tabindex="-1"><a class="header-anchor" href="#_4-9-æµ‹è¯•" aria-hidden="true">#</a> 4.9 æµ‹è¯•</h3><p>è®¾ç½®ä¸´æ—¶å±æ€§</p><div class="language-java line-numbers-mode" data-ext="java"><pre class="language-java"><code><span class="token annotation punctuation">@SpringBootTest</span><span class="token punctuation">(</span>properties <span class="token operator">=</span> <span class="token punctuation">{</span><span class="token string">&quot;test.prop=testValue&quot;</span><span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token comment">//è®¾ç½®ä¸´æ—¶å±æ€§</span>
<span class="token keyword">class</span> <span class="token class-name">SpringBootConfigurationApplicationTests</span> <span class="token punctuation">{</span>
    <span class="token annotation punctuation">@Value</span><span class="token punctuation">(</span><span class="token string">&quot;${test.prop}&quot;</span><span class="token punctuation">)</span><span class="token comment">//ä½¿ç”¨ä¸´æ—¶å±æ€§</span>
    <span class="token keyword">private</span> <span class="token class-name">String</span> test<span class="token punctuation">;</span>
<span class="token annotation punctuation">@Test</span>
<span class="token keyword">void</span> <span class="token function">contextLoads</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span>test<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>}</p><p>@SpringBootTest(properties = {&quot;test.prop=testValue&quot;})</p><p>@SpringBootTest(args = {&quot;test.prop=testValue&quot;})ï¼Œç±»ä¼¼äºåœ¨å‘½ä»¤è¡Œä¸­æ·»åŠ ä¸´æ—¶å±æ€§ï¼Œæ‰€ä»¥ä¼˜å…ˆçº§é«˜äºpropertiesï¼Œä¼˜å…ˆçº§é«˜äºymlä¸­å±æ€§</p><h2 id="_5-æ•°æ®å±‚è§£å†³æ–¹æ¡ˆ" tabindex="-1"><a class="header-anchor" href="#_5-æ•°æ®å±‚è§£å†³æ–¹æ¡ˆ" aria-hidden="true">#</a> 5. æ•°æ®å±‚è§£å†³æ–¹æ¡ˆ</h2><h3 id="_5-1-sql" tabindex="-1"><a class="header-anchor" href="#_5-1-sql" aria-hidden="true">#</a> 5.1 SQL</h3><p>å…³ç³»å‹æ•°æ®åº“éµå¾ªACIDè§„åˆ™ï¼Œäº‹åŠ¡åœ¨è‹±æ–‡ä¸­æ˜¯transactionï¼Œå’Œç°å®ä¸–ç•Œä¸­çš„äº¤æ˜“å¾ˆç±»ä¼¼ï¼Œå®ƒæœ‰å¦‚ä¸‹å››ä¸ªç‰¹æ€§ï¼š</p><ol><li>(Atomicity) åŸå­æ€§</li></ol><p>åŸå­æ€§å¾ˆå®¹æ˜“ç†è§£ï¼Œä¹Ÿå°±æ˜¯è¯´äº‹åŠ¡é‡Œçš„æ‰€æœ‰æ“ä½œè¦ä¹ˆå…¨éƒ¨åšå®Œï¼Œè¦ä¹ˆéƒ½ä¸åšï¼Œäº‹åŠ¡æˆåŠŸçš„æ¡ä»¶æ˜¯äº‹åŠ¡é‡Œçš„æ‰€æœ‰æ“ä½œéƒ½æˆåŠŸï¼Œåªè¦æœ‰ä¸€ä¸ªæ“ä½œå¤±è´¥ï¼Œæ•´ä¸ªäº‹åŠ¡å°±å¤±è´¥ï¼Œéœ€è¦å›æ»šã€‚<br> æ¯”å¦‚é“¶è¡Œè½¬è´¦ï¼Œä»Aè´¦æˆ·è½¬100å…ƒè‡³Bè´¦æˆ·ï¼Œåˆ†ä¸ºä¸¤ä¸ªæ­¥éª¤ï¼š1ï¼‰ä»Aè´¦æˆ·å–100å…ƒï¼›2ï¼‰å­˜å…¥100å…ƒè‡³Bè´¦æˆ·ã€‚è¿™ä¸¤æ­¥è¦ä¹ˆä¸€èµ·å®Œæˆï¼Œè¦ä¹ˆä¸€èµ·ä¸å®Œæˆï¼Œå¦‚æœåªå®Œæˆç¬¬ä¸€æ­¥ï¼Œç¬¬äºŒæ­¥å¤±è´¥ï¼Œé’±ä¼šè«åå…¶å¦™å°‘äº†100å…ƒã€‚</p><ol start="2"><li>C (Consistency) ä¸€è‡´æ€§</li></ol><p>ä¸€è‡´æ€§ä¹Ÿæ¯”è¾ƒå®¹æ˜“ç†è§£ï¼Œä¹Ÿå°±æ˜¯è¯´æ•°æ®åº“è¦ä¸€ç›´å¤„äºä¸€è‡´çš„çŠ¶æ€ï¼Œäº‹åŠ¡çš„è¿è¡Œä¸ä¼šæ”¹å˜æ•°æ®åº“åŸæœ¬çš„ä¸€è‡´æ€§çº¦æŸã€‚<br> ä¾‹å¦‚ç°æœ‰å®Œæ•´æ€§çº¦æŸa+b=10ï¼Œå¦‚æœä¸€ä¸ªäº‹åŠ¡æ”¹å˜äº†aï¼Œé‚£ä¹ˆå¿…é¡»å¾—æ”¹å˜bï¼Œä½¿å¾—äº‹åŠ¡ç»“æŸåä¾ç„¶æ»¡è¶³a+b=10ï¼Œå¦åˆ™äº‹åŠ¡å¤±è´¥ã€‚</p><ol start="3"><li>(Isolation) ç‹¬ç«‹æ€§</li></ol><p>æ‰€è°“çš„ç‹¬ç«‹æ€§æ˜¯æŒ‡å¹¶å‘çš„äº‹åŠ¡ä¹‹é—´ä¸ä¼šäº’ç›¸å½±å“ï¼Œå¦‚æœä¸€ä¸ªäº‹åŠ¡è¦è®¿é—®çš„æ•°æ®æ­£åœ¨è¢«å¦å¤–ä¸€ä¸ªäº‹åŠ¡ä¿®æ”¹ï¼Œåªè¦å¦å¤–ä¸€ä¸ªäº‹åŠ¡æœªæäº¤ï¼Œå®ƒæ‰€è®¿é—®çš„æ•°æ®å°±ä¸å—æœªæäº¤äº‹åŠ¡çš„å½±å“ã€‚</p><p>æ¯”å¦‚ç°åœ¨æœ‰ä¸ªäº¤æ˜“æ˜¯ä»Aè´¦æˆ·è½¬100å…ƒè‡³Bè´¦æˆ·ï¼Œåœ¨è¿™ä¸ªäº¤æ˜“è¿˜æœªå®Œæˆçš„æƒ…å†µä¸‹ï¼Œå¦‚æœæ­¤æ—¶BæŸ¥è¯¢è‡ªå·±çš„è´¦æˆ·ï¼Œæ˜¯çœ‹ä¸åˆ°æ–°å¢åŠ çš„100å…ƒçš„ã€‚</p><ol start="4"><li>D (Durability) æŒä¹…æ€§</li></ol><p>æŒä¹…æ€§æ˜¯æŒ‡ä¸€æ—¦äº‹åŠ¡æäº¤åï¼Œå®ƒæ‰€åšçš„ä¿®æ”¹å°†ä¼šæ°¸ä¹…çš„ä¿å­˜åœ¨æ•°æ®åº“ä¸Šï¼Œå³ä½¿å‡ºç°å®•æœºä¹Ÿä¸ä¼šä¸¢å¤±ã€‚</p><h3 id="_5-2-æ•°æ®æºé…ç½®" tabindex="-1"><a class="header-anchor" href="#_5-2-æ•°æ®æºé…ç½®" aria-hidden="true">#</a> 5.2 æ•°æ®æºé…ç½®</h3><p>æ•°æ®æºæ˜¯åº”ç”¨ç¨‹åºè¿æ¥åˆ°æ•°æ®åº“çš„æ¥å£ï¼Œå®ƒæä¾›äº†ä¸æ•°æ®åº“è¿›è¡Œè¿æ¥ã€æ•°æ®è¯»å†™ç­‰æ“ä½œçš„èƒ½åŠ›ã€‚åœ¨è½¯ä»¶ç³»ç»Ÿä¸­ï¼Œæ•°æ®æºé€šå¸¸æ˜¯ä¸€ä¸ªé€»è¾‘æ¦‚å¿µï¼Œå®ƒå¯ä»¥å¯¹åº”äºä¸€ä¸ªæ•°æ®åº“çš„å®ä¾‹ã€ä¸€ä¸ªæ•°æ®åº“é›†ç¾¤æˆ–è€…ä¸€ä¸ªæ•°æ®æ–‡ä»¶ç­‰ã€‚æ•°æ®æºåŒ…å«äº†è¿æ¥åˆ°æ•°æ®åº“æ‰€éœ€çš„å±æ€§å’Œé…ç½®ä¿¡æ¯ï¼Œä¾‹å¦‚æ•°æ®åº“çš„åœ°å€ã€ç”¨æˆ·åã€å¯†ç ã€è¿æ¥æ± å¤§å°ç­‰ã€‚</p><p>åœ¨Javaåº”ç”¨ç¨‹åºä¸­ï¼Œæ•°æ®æºé€šå¸¸ç”±JDBCé©±åŠ¨ç¨‹åºæä¾›ã€‚Javaåº”ç”¨ç¨‹åºé€šè¿‡JDBCÂ APIæ¥è¿æ¥åˆ°æ•°æ®æºï¼Œå¹¶æ‰§è¡ŒSQLè¯­å¥æ¥è¯»å†™æ•°æ®ã€‚åœ¨JavaÂ EEåº”ç”¨ç¨‹åºä¸­ï¼Œä¹Ÿå¯ä»¥ä½¿ç”¨**JavaÂ PersistenceÂ API **ï¼ˆJPAï¼‰æ¥æ“ä½œæ•°æ®åº“ï¼ŒJPAä¹Ÿæä¾›äº†ç±»ä¼¼äºJDBCçš„æ¥å£æ¥è¿æ¥åˆ°æ•°æ®æºã€‚</p><p>åœ¨Springæ¡†æ¶ä¸­ï¼Œæ•°æ®æºæ˜¯é€šè¿‡DataSourceæ¥å£æ¥å®ç°çš„ã€‚Springä¸­æä¾›äº†å¤šä¸ªæ•°æ®æºçš„å®ç°ï¼Œä¾‹å¦‚åŸºäºApacheÂ CommonsÂ DBCPçš„BasicDataSourceã€åŸºäºTomcatÂ JDBCÂ Poolçš„TomcatDataSourceç­‰ã€‚SpringÂ Bootä¸­é»˜è®¤ä½¿ç”¨<strong>HikariCP</strong>ä½œä¸ºæ•°æ®æºï¼Œ<strong>HikariCP</strong>æ˜¯ä¸€ä¸ªé«˜æ€§èƒ½çš„JDBCè¿æ¥æ± ã€‚</p><p>æ•°æ®æºæ˜¯åº”ç”¨ç¨‹åºä¸­ä¸æ•°æ®åº“äº¤äº’çš„æ ¸å¿ƒç»„ä»¶ä¹‹ä¸€ï¼Œå®ƒçš„æ€§èƒ½å’Œç¨³å®šæ€§å¯¹åº”ç”¨ç¨‹åºçš„æ€§èƒ½å’Œç¨³å®šæ€§æœ‰å¾ˆå¤§çš„å½±å“ã€‚å› æ­¤ï¼Œåœ¨å¼€å‘åº”ç”¨ç¨‹åºæ—¶ï¼Œéœ€è¦æ ¹æ®å®é™…æƒ…å†µé€‰æ‹©åˆé€‚çš„æ•°æ®æºï¼Œå¹¶è¿›è¡Œé€‚å½“çš„é…ç½®å’Œä¼˜åŒ–ã€‚</p><ul><li><p>Hikari</p><div class="language-yaml line-numbers-mode" data-ext="yml"><pre class="language-yaml"><code><span class="token key atrule">spring</span><span class="token punctuation">:</span>
  <span class="token key atrule">datasource</span><span class="token punctuation">:</span>
    <span class="token key atrule">url</span><span class="token punctuation">:</span> jdbc<span class="token punctuation">:</span>h2<span class="token punctuation">:</span>~/test
    <span class="token key atrule">hikari</span><span class="token punctuation">:</span>
      <span class="token key atrule">driver-class-name</span><span class="token punctuation">:</span> org.h2.Driver
      <span class="token key atrule">username</span><span class="token punctuation">:</span> sa
      <span class="token key atrule">password</span><span class="token punctuation">:</span> <span class="token number">123456</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div></li><li><p>Druid</p></li></ul><h3 id="_5-3-æŒä¹…åŒ–æŠ€æœ¯" tabindex="-1"><a class="header-anchor" href="#_5-3-æŒä¹…åŒ–æŠ€æœ¯" aria-hidden="true">#</a> 5.3 æŒä¹…åŒ–æŠ€æœ¯</h3><p>æŒä¹…åŒ–æŠ€æœ¯æ˜¯æŒ‡å°†æ•°æ®ä¿å­˜åˆ°æŒä¹…åŒ–å­˜å‚¨ä»‹è´¨ä¸­ï¼Œä»¥ä¾¿åœ¨åº”ç”¨ç¨‹åºé€€å‡ºåä»ç„¶å¯ä»¥ä¿æŒæ•°æ®çš„å®Œæ•´æ€§å’Œå¯ç”¨æ€§ã€‚åœ¨Javaåº”ç”¨ç¨‹åºä¸­ï¼Œå¸¸è§çš„æŒä¹…åŒ–æŠ€æœ¯æœ‰ä»¥ä¸‹å‡ ç§ï¼š</p><p>1.Â JDBCï¼šJDBCæ˜¯Javaæ•°æ®åº“è¿æ¥APIçš„ç¼©å†™ï¼Œå®ƒæ˜¯Javaåº”ç”¨ç¨‹åºä¸­ä¸å…³ç³»å‹æ•°æ®åº“äº¤äº’çš„æ ‡å‡†APIã€‚é€šè¿‡JDBCï¼Œåº”ç”¨ç¨‹åºå¯ä»¥ä½¿ç”¨SQLè¯­å¥æ¥æ“ä½œæ•°æ®åº“ï¼Œä¾‹å¦‚æŸ¥è¯¢ã€æ’å…¥ã€æ›´æ–°å’Œåˆ é™¤æ•°æ®ã€‚<br> 2.Â JPAï¼šJPAæ˜¯JavaÂ PersistenceÂ APIçš„ç¼©å†™ï¼Œå®ƒæ˜¯ä¸€ç§ORMï¼ˆå¯¹è±¡å…³ç³»æ˜ å°„ï¼‰æ¡†æ¶ï¼Œå¯ä»¥å°†Javaå¯¹è±¡æ˜ å°„åˆ°å…³ç³»å‹æ•°æ®åº“ä¸­çš„è¡¨æ ¼ä¸­ã€‚JPAæä¾›äº†ä¸€å¥—æ ‡å‡†çš„APIï¼Œå¯ä»¥åœ¨ä¸åŒçš„ORMæ¡†æ¶ä¹‹é—´è¿›è¡Œåˆ‡æ¢ï¼Œä¾‹å¦‚Hibernateã€EclipseLinkç­‰ã€‚<br> 3.Â <strong>Hibernate</strong>ï¼šHibernateæ˜¯ä¸€ç§æµè¡Œçš„ORMæ¡†æ¶ï¼Œå®ƒå¯ä»¥å°†Javaå¯¹è±¡æ˜ å°„åˆ°å…³ç³»å‹æ•°æ®åº“ä¸­çš„è¡¨æ ¼ä¸­ã€‚Hibernateæä¾›äº†ä¸°å¯Œçš„æŸ¥è¯¢è¯­è¨€å’Œç¼“å­˜æœºåˆ¶ï¼Œå¯ä»¥æœ‰æ•ˆåœ°æé«˜åº”ç”¨ç¨‹åºçš„æ€§èƒ½ã€‚<br> 4.Â <strong>MyBatis</strong>ï¼šMyBatisæ˜¯ä¸€ç§åŸºäºXMLçš„æŒä¹…åŒ–æ¡†æ¶ï¼Œå®ƒå¯ä»¥å°†SQLè¯­å¥æ˜ å°„åˆ°Javaæ–¹æ³•ä¸­ï¼Œå¹¶æä¾›äº†ä¸°å¯Œçš„æŸ¥è¯¢è¯­è¨€å’Œç¼“å­˜æœºåˆ¶ã€‚MyBatisä¸Hibernateç›¸æ¯”ï¼Œæ›´åŠ çµæ´»å’Œè½»é‡çº§ã€‚<br> 5.Â <strong>SpringÂ Data</strong>ï¼šSpringÂ Dataæ˜¯ä¸€ä¸ªä¸ºJavaåº”ç”¨ç¨‹åºæä¾›æ•°æ®è®¿é—®æŠ€æœ¯çš„æ¡†æ¶ï¼Œå®ƒæ”¯æŒå¤šç§æŒä¹…åŒ–æŠ€æœ¯ï¼ŒåŒ…æ‹¬JPAã€Hibernateã€MyBatisç­‰ã€‚SpringÂ Dataæä¾›äº†ä¸€å¥—ç®€æ´çš„APIï¼Œå¯ä»¥æ–¹ä¾¿åœ°è¿›è¡Œæ•°æ®è®¿é—®å’Œæ“ä½œã€‚<br> 6.Â <strong>Mybatis-plus</strong>ï¼šMybatisçš„å‡çº§ç‰ˆï¼Œå†…ç½®äº†è®¸å¤šCURDæ–¹æ³•ï¼Œåœ¨æ•°æ®å±‚å’Œä¸šåŠ¡å±‚éƒ½æå¤§ç¨‹åº¦ç®€åŒ–äº†å¼€å‘ã€‚</p><h4 id="_5-3-1-springbootå†…ç½®æŒä¹…åŒ–è§£å†³æ–¹æ¡ˆ" tabindex="-1"><a class="header-anchor" href="#_5-3-1-springbootå†…ç½®æŒä¹…åŒ–è§£å†³æ–¹æ¡ˆ" aria-hidden="true">#</a> 5.3.1 SpringBootå†…ç½®æŒä¹…åŒ–è§£å†³æ–¹æ¡ˆ</h4><p>SpringBootå†…ç½®äº†å¤šç§æŒä¹…åŒ–è§£å†³æ–¹æ¡ˆï¼Œå¯ä»¥è½»æ¾åœ°è¿›è¡Œæ•°æ®åº“æ“ä½œã€‚</p><p>1.Â SpringÂ DataÂ JPAï¼šSpringÂ Bootå†…ç½®äº†SpringÂ DataÂ JPAï¼Œå®ƒæ˜¯SpringÂ Dataé¡¹ç›®çš„ä¸€éƒ¨åˆ†ï¼Œæ˜¯ä¸€ä¸ªORMæ¡†æ¶ï¼Œå¯ä»¥å°†Javaå¯¹è±¡æ˜ å°„åˆ°å…³ç³»å‹æ•°æ®åº“ä¸­çš„è¡¨æ ¼ä¸­ã€‚å®ƒæ”¯æŒå¤šç§æ•°æ®åº“ï¼ŒåŒ…æ‹¬MySQLã€PostgreSQLã€Oracleç­‰ã€‚<br> 2.Â SpringÂ DataÂ JDBCï¼šSpringÂ Bootè¿˜å†…ç½®äº†SpringÂ DataÂ JDBCï¼Œå®ƒæ˜¯ä¸€ç§åŸºäºJDBCçš„æŒä¹…åŒ–æ¡†æ¶ï¼Œå¯ä»¥ç›´æ¥æ“ä½œSQLè¯­å¥ã€‚ç›¸æ¯”äºORMæ¡†æ¶ï¼ŒSpringÂ DataÂ JDBCæ›´åŠ è½»é‡çº§ï¼Œé€‚ç”¨äºç®€å•çš„æ•°æ®è®¿é—®åœºæ™¯ã€‚<br> 3.Â SpringÂ DataÂ MongoDBï¼šå¦‚æœä½ éœ€è¦ä½¿ç”¨æ–‡æ¡£å‹æ•°æ®åº“ï¼Œé‚£ä¹ˆSpringÂ Bootå†…ç½®äº†SpringÂ DataÂ MongoDBã€‚å®ƒæ˜¯SpringÂ Dataé¡¹ç›®çš„ä¸€éƒ¨åˆ†ï¼Œå¯ä»¥å°†Javaå¯¹è±¡æ˜ å°„åˆ°MongoDBä¸­çš„é›†åˆä¸­ã€‚<br> 4.Â SpringÂ DataÂ Redisï¼šSpringÂ Bootå†…ç½®äº†SpringÂ DataÂ Redisï¼Œå®ƒæ˜¯SpringÂ Dataé¡¹ç›®çš„ä¸€éƒ¨åˆ†ï¼Œå¯ä»¥è®¿é—®Redisæ•°æ®åº“ã€‚<br> 5.Â JDBCÂ Templateï¼šå¦‚æœä½ éœ€è¦ä½¿ç”¨JDBCè¿›è¡Œæ•°æ®è®¿é—®ï¼ŒSpringÂ Bootå†…ç½®äº†JDBCÂ Templateï¼Œå®ƒæ˜¯ä¸€ä¸ªç®€å•è€Œå¼ºå¤§çš„JDBCæ“ä½œæ¨¡æ¿ã€‚</p><h4 id="_5-3-2-å†…åµŒæ•°æ®åº“" tabindex="-1"><a class="header-anchor" href="#_5-3-2-å†…åµŒæ•°æ®åº“" aria-hidden="true">#</a> 5.3.2 å†…åµŒæ•°æ®åº“</h4><p>SpringÂ Bootå†…ç½®äº†ä¸‰ç§å†…åµŒæ•°æ®åº“ï¼š</p><p>1.Â H2Â Databaseï¼šH2Â Databaseæ˜¯ä¸€ç§åŸºäºJavaç¼–å†™çš„è½»é‡çº§å…³ç³»å‹æ•°æ®åº“ï¼Œå¯ä»¥ä½œä¸ºå†…ç½®æ•°æ®åº“ä½¿ç”¨ã€‚å®ƒä¸éœ€è¦å®‰è£…ï¼Œåªéœ€è¦åœ¨é¡¹ç›®ä¸­æ·»åŠ ç›¸åº”çš„ä¾èµ–ï¼Œå°±å¯ä»¥è½»æ¾åœ°è¿›è¡Œæ•°æ®è®¿é—®å’Œæ“ä½œã€‚H2Â Databaseæ”¯æŒSQLè¯­æ³•å’ŒJDBCÂ APIï¼Œå¯ä»¥å¾ˆå¥½åœ°ä¸SpringÂ Booté›†æˆã€‚<br> 2.Â ApacheÂ Derbyï¼šApacheÂ Derbyæ˜¯ä¸€ç§åŸºäºJavaç¼–å†™çš„è½»é‡çº§å…³ç³»å‹æ•°æ®åº“ï¼Œä¹Ÿå¯ä»¥ä½œä¸ºå†…ç½®æ•°æ®åº“ä½¿ç”¨ã€‚å®ƒä¸H2Â Databaseç±»ä¼¼ï¼Œä¸éœ€è¦å®‰è£…ï¼Œåªéœ€è¦åœ¨é¡¹ç›®ä¸­æ·»åŠ ç›¸åº”çš„ä¾èµ–ï¼Œå°±å¯ä»¥è½»æ¾åœ°è¿›è¡Œæ•°æ®è®¿é—®å’Œæ“ä½œã€‚ApacheÂ Derbyæ”¯æŒSQLè¯­æ³•å’ŒJDBCÂ APIï¼Œå¯ä»¥å¾ˆå¥½åœ°ä¸SpringÂ Booté›†æˆã€‚<br> 3.Â HSQLDBï¼šHSQLDBä¹Ÿæ˜¯SpringÂ Bootå†…ç½®çš„ä¸€ç§å†…åµŒå¼æ•°æ®åº“ã€‚HSQLDBæ˜¯ä¸€ç§åŸºäºJavaçš„å…³ç³»å‹æ•°æ®åº“ï¼Œæ”¯æŒSQLè¯­æ³•å’ŒJDBCÂ APIï¼Œå¹¶ä¸”å…·æœ‰é«˜æ€§èƒ½å’Œå¯é æ€§ã€‚åœ¨SpringÂ Bootåº”ç”¨ç¨‹åºä¸­ï¼Œé»˜è®¤æƒ…å†µä¸‹ä¼šè‡ªåŠ¨é…ç½®HSQLDBä½œä¸ºå†…ç½®æ•°æ®åº“ï¼Œä»¥ä¾¿åœ¨å¼€å‘å’Œæµ‹è¯•é˜¶æ®µä½¿ç”¨ã€‚ä½†æ˜¯åœ¨ç”Ÿäº§ç¯å¢ƒä¸­ï¼Œé€šå¸¸éœ€è¦ä½¿ç”¨æ›´åŠ ç¨³å®šå’Œå¯é çš„å¤–éƒ¨æ•°æ®åº“ï¼Œå¦‚MySQLã€PostgreSQLç­‰ã€‚</p><p>å†…ç½®æ•°æ®åº“é€‚ç”¨äºä¸€äº›ç®€å•çš„åº”ç”¨ç¨‹åºæˆ–æ¼”ç¤ºé¡¹ç›®ï¼Œå¦‚æœéœ€è¦æ›´é«˜çš„æ€§èƒ½æˆ–æ›´å¤æ‚çš„æ•°æ®æ“ä½œï¼Œå»ºè®®ä½¿ç”¨å¤–éƒ¨æ•°æ®åº“ï¼Œå¦‚MySQLã€PostgreSQLç­‰ã€‚åœ¨å®é™…å¼€å‘ä¸­ï¼Œé€‰æ‹©åˆé€‚çš„æ•°æ®åº“è¦è€ƒè™‘åˆ°åº”ç”¨ç¨‹åºçš„å®é™…æƒ…å†µï¼Œå¦‚æ•°æ®å®¹é‡ã€å¹¶å‘æ€§ã€å®‰å…¨æ€§ç­‰æ–¹é¢ï¼Œä»¥è¾¾åˆ°æ›´å¥½çš„æ€§èƒ½å’Œå¯é æ€§ã€‚</p><h3 id="_5-4-capå®šç†-cap-theorem" tabindex="-1"><a class="header-anchor" href="#_5-4-capå®šç†-cap-theorem" aria-hidden="true">#</a> 5.4 CAPå®šç†ï¼ˆCAP theoremï¼‰</h3><p>åœ¨è®¡ç®—æœºç§‘å­¦ä¸­, CAPå®šç†ï¼ˆCAP theoremï¼‰, åˆè¢«ç§°ä½œ å¸ƒé²å°”å®šç†ï¼ˆBrewer&#39;s theoremï¼‰, å®ƒæŒ‡å‡ºå¯¹äºä¸€ä¸ªåˆ†å¸ƒå¼è®¡ç®—ç³»ç»Ÿæ¥è¯´ï¼Œä¸å¯èƒ½åŒæ—¶æ»¡è¶³ä»¥ä¸‹ä¸‰ç‚¹:</p><ul><li><p>ä¸€è‡´æ€§(Consistency)Â (æ‰€æœ‰èŠ‚ç‚¹åœ¨åŒä¸€æ—¶é—´å…·æœ‰ç›¸åŒçš„æ•°æ®)</p></li><li><p>å¯ç”¨æ€§(Availability)Â (ä¿è¯æ¯ä¸ªè¯·æ±‚ä¸ç®¡æˆåŠŸæˆ–è€…å¤±è´¥éƒ½æœ‰å“åº”)</p></li><li><p>åˆ†åŒºå®¹é”™æ€§(Partition tolerance)Â (ç³»ç»Ÿä¸­ä»»æ„ä¿¡æ¯çš„ä¸¢å¤±æˆ–å¤±è´¥ä¸ä¼šå½±å“ç³»ç»Ÿçš„ç»§ç»­è¿ä½œ)</p></li></ul><p>CAPç†è®ºçš„æ ¸å¿ƒæ˜¯ï¼šä¸€ä¸ªåˆ†å¸ƒå¼ç³»ç»Ÿä¸å¯èƒ½åŒæ—¶å¾ˆå¥½çš„æ»¡è¶³ä¸€è‡´æ€§ï¼Œå¯ç”¨æ€§å’Œåˆ†åŒºå®¹é”™æ€§è¿™ä¸‰ä¸ªéœ€æ±‚ï¼Œæœ€å¤šåªèƒ½åŒæ—¶è¾ƒå¥½çš„æ»¡è¶³ä¸¤ä¸ªã€‚</p><p>å› æ­¤ï¼Œæ ¹æ® CAP åŸç†å°† NoSQL æ•°æ®åº“åˆ†æˆäº†æ»¡è¶³ CA åŸåˆ™ã€æ»¡è¶³ CP åŸåˆ™å’Œæ»¡è¶³ AP åŸåˆ™ä¸‰ å¤§ç±»ï¼š</p><ul><li>CA - å•ç‚¹é›†ç¾¤ï¼Œæ»¡è¶³ä¸€è‡´æ€§ï¼Œå¯ç”¨æ€§çš„ç³»ç»Ÿï¼Œé€šå¸¸åœ¨å¯æ‰©å±•æ€§ä¸Šä¸å¤ªå¼ºå¤§ã€‚</li><li>CP - æ»¡è¶³ä¸€è‡´æ€§ï¼Œåˆ†åŒºå®¹å¿æ€§çš„ç³»ç»Ÿï¼Œé€šå¸¸æ€§èƒ½ä¸æ˜¯ç‰¹åˆ«é«˜ã€‚</li><li>AP - æ»¡è¶³å¯ç”¨æ€§ï¼Œåˆ†åŒºå®¹å¿æ€§çš„ç³»ç»Ÿï¼Œé€šå¸¸å¯èƒ½å¯¹ä¸€è‡´æ€§è¦æ±‚ä½ä¸€äº›ã€‚</li></ul><h3 id="_5-5-redisæŒä¹…åŒ–" tabindex="-1"><a class="header-anchor" href="#_5-5-redisæŒä¹…åŒ–" aria-hidden="true">#</a> 5.5 RedisæŒä¹…åŒ–</h3><p>åœ¨Redisä¸­é€šè¿‡é…ç½®å®ç°æŒä¹…åŒ–æ˜¯æ¯”è¾ƒç®€å•çš„ï¼Œä¸‹é¢å°†ä»¥SpringÂ Booté¡¹ç›®ä½¿ç”¨Redisä½œä¸ºæ•°æ®å­˜å‚¨çš„å®ç°æ–¹å¼ä¸ºä¾‹ï¼Œæ¼”ç¤ºå¦‚ä½•åœ¨é¡¹ç›®ä¸­å®ç°Redisçš„æŒä¹…åŒ–ã€‚</p><ol><li>é¦–å…ˆéœ€è¦åœ¨pom.xmlæ–‡ä»¶ä¸­æ·»åŠ ä»¥ä¸‹ä¾èµ–ï¼š</li></ol><div class="language-xml line-numbers-mode" data-ext="xml"><pre class="language-xml"><code><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>dependency</span><span class="token punctuation">&gt;</span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>groupId</span><span class="token punctuation">&gt;</span></span>org.springframework.boot<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>groupId</span><span class="token punctuation">&gt;</span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>artifactId</span><span class="token punctuation">&gt;</span></span>spring-boot-starter-data-redis<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>artifactId</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>dependency</span><span class="token punctuation">&gt;</span></span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><ol start="2"><li>ç„¶ååœ¨application.ymlæˆ–è€…application.propertiesæ–‡ä»¶ä¸­è¿›è¡ŒRedisçš„é…ç½®ï¼Œä¸‹é¢æ˜¯ä¸€ä¸ªç¤ºä¾‹ï¼š</li></ol><div class="language-yaml line-numbers-mode" data-ext="yml"><pre class="language-yaml"><code><span class="token key atrule">spring</span><span class="token punctuation">:</span>
  redis<span class="token punctuation">:</span>
    host<span class="token punctuation">:</span> localhost
    port<span class="token punctuation">:</span> <span class="token number">6379</span>
    password<span class="token punctuation">:</span> <span class="token null important">null</span>
    database<span class="token punctuation">:</span> <span class="token number">0</span>
    jedis<span class="token punctuation">:</span>
      pool<span class="token punctuation">:</span>
        max<span class="token punctuation">-</span><span class="token key atrule">active</span><span class="token punctuation">:</span> <span class="token number">8</span>
        max<span class="token punctuation">-</span><span class="token key atrule">wait</span><span class="token punctuation">:</span> <span class="token punctuation">-</span>1ms
        max<span class="token punctuation">-</span><span class="token key atrule">idle</span><span class="token punctuation">:</span> <span class="token number">8</span>
        min<span class="token punctuation">-</span><span class="token key atrule">idle</span><span class="token punctuation">:</span> <span class="token number">0</span>
    timeout<span class="token punctuation">:</span> 10000ms
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>è¿™é‡Œæˆ‘ä»¬é…ç½®äº†Redisçš„åœ°å€ã€ç«¯å£ã€å¯†ç å’Œæ•°æ®åº“ç¼–å·ç­‰ä¿¡æ¯ï¼Œå¹¶è®¾ç½®äº†è¿æ¥æ± çš„ä¸€äº›å‚æ•°å’Œè¶…æ—¶æ—¶é—´ã€‚</p><p>####Â 5.5.1 é…ç½®RedisæŒä¹…åŒ–æ–¹å¼</p><p>Redisæä¾›äº†ä¸¤ç§æŒä¹…åŒ–æ–¹å¼ï¼šRDBå’ŒAOFã€‚åœ¨SpringÂ Bootä¸­ï¼Œå¯ä»¥é€šè¿‡ä»¥ä¸‹å‡ ç§æ–¹å¼æ¥é…ç½®Redisçš„æŒä¹…åŒ–æ–¹å¼ï¼š</p><p>1.Â åœ¨application.ymlæˆ–è€…application.propertiesæ–‡ä»¶ä¸­è¿›è¡Œè®¾ç½®ï¼Œç¤ºä¾‹å¦‚ä¸‹ï¼š</p><div class="language-yaml line-numbers-mode" data-ext="yml"><pre class="language-yaml"><code><span class="token key atrule">spring</span><span class="token punctuation">:</span>
  redis<span class="token punctuation">:</span>
    <span class="token punctuation">...</span>
    <span class="token comment"># å¼€å¯RDBæŒä¹…åŒ–æ–¹å¼</span>
    redisson<span class="token punctuation">:</span>
      config<span class="token punctuation">:</span>
        codec<span class="token punctuation">:</span> org.redisson.codec.JsonJacksonCodec
        useSingleServer<span class="token punctuation">:</span> <span class="token boolean important">true</span>
        singleServerConfig<span class="token punctuation">:</span>
          address<span class="token punctuation">:</span> <span class="token string">&quot;redis://127.0.0.1:6379&quot;</span>
    <span class="token comment"># å¼€å¯AOFæŒä¹…åŒ–æ–¹å¼</span>
    lettuce<span class="token punctuation">:</span>
      pool<span class="token punctuation">:</span>
        max<span class="token punctuation">-</span><span class="token key atrule">active</span><span class="token punctuation">:</span> <span class="token number">8</span>
        max<span class="token punctuation">-</span><span class="token key atrule">idle</span><span class="token punctuation">:</span> <span class="token number">8</span>
        min<span class="token punctuation">-</span><span class="token key atrule">idle</span><span class="token punctuation">:</span> <span class="token number">0</span>
      client<span class="token punctuation">:</span>
        resources<span class="token punctuation">:</span>
          readFrom<span class="token punctuation">:</span> REPLICA_PREFERRED
          timeout<span class="token punctuation">:</span> 10000ms
        shutdown<span class="token punctuation">-</span><span class="token key atrule">timeout</span><span class="token punctuation">:</span> 100ms
      redis<span class="token punctuation">:</span>
        database<span class="token punctuation">:</span> <span class="token number">0</span>
        host<span class="token punctuation">:</span> localhost
        port<span class="token punctuation">:</span> <span class="token number">6379</span>
        password<span class="token punctuation">:</span> <span class="token null important">null</span>
        jedis<span class="token punctuation">:</span>
          pool<span class="token punctuation">:</span>
            max<span class="token punctuation">-</span><span class="token key atrule">active</span><span class="token punctuation">:</span> <span class="token number">8</span>
            max<span class="token punctuation">-</span><span class="token key atrule">wait</span><span class="token punctuation">:</span> <span class="token punctuation">-</span>1ms
            max<span class="token punctuation">-</span><span class="token key atrule">idle</span><span class="token punctuation">:</span> <span class="token number">8</span>
            min<span class="token punctuation">-</span><span class="token key atrule">idle</span><span class="token punctuation">:</span> <span class="token number">0</span>
        timeout<span class="token punctuation">:</span> 10000ms
        lettuce<span class="token punctuation">:</span>
          pool<span class="token punctuation">:</span>
            enabled<span class="token punctuation">:</span> <span class="token boolean important">true</span>
            max<span class="token punctuation">-</span><span class="token key atrule">active</span><span class="token punctuation">:</span> <span class="token number">8</span>
            max<span class="token punctuation">-</span><span class="token key atrule">idle</span><span class="token punctuation">:</span> <span class="token number">8</span>
            min<span class="token punctuation">-</span><span class="token key atrule">idle</span><span class="token punctuation">:</span> <span class="token number">0</span>
          cluster<span class="token punctuation">:</span>
            refresh<span class="token punctuation">:</span>
              adaptive<span class="token punctuation">:</span> <span class="token boolean important">true</span>
              adaptive<span class="token punctuation">-</span><span class="token key atrule">multiplier</span><span class="token punctuation">:</span> <span class="token number">2</span>
              refresh<span class="token punctuation">-</span><span class="token key atrule">period</span><span class="token punctuation">:</span> 5s
              update<span class="token punctuation">-</span><span class="token key atrule">interval</span><span class="token punctuation">:</span> 100ms
              validate<span class="token punctuation">-</span><span class="token key atrule">cluster-node-status</span><span class="token punctuation">:</span> <span class="token boolean important">true</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>è¿™é‡Œæˆ‘ä»¬åœ¨é…ç½®æ–‡ä»¶ä¸­ä½¿ç”¨äº†SpringÂ Bootå®˜æ–¹æä¾›çš„Lettuceå’ŒRedissonå®¢æˆ·ç«¯ï¼ŒåŒæ—¶å¼€å¯äº†RDBå’ŒAOFä¸¤ç§æŒä¹…åŒ–æ–¹å¼ï¼Œå¹¶è®¾ç½®äº†ä¸€äº›å…¶ä»–çš„å‚æ•°ï¼Œå¦‚ç¼–è§£ç æ–¹å¼ã€è¿æ¥æ± å¤§å°ç­‰ã€‚</p><p>2.Â é€šè¿‡Javaé…ç½®ç±»çš„æ–¹å¼å®ç°ï¼š</p><div class="language-java line-numbers-mode" data-ext="java"><pre class="language-java"><code><span class="token annotation punctuation">@Configuration</span>
<span class="token annotation punctuation">@EnableCaching</span>
<span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">RedisConfig</span> <span class="token keyword">extends</span> <span class="token class-name">CachingConfigurerSupport</span> <span class="token punctuation">{</span>

    <span class="token annotation punctuation">@Bean</span>
    <span class="token keyword">public</span> <span class="token class-name">RedisTemplate</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">String</span><span class="token punctuation">,</span> <span class="token class-name">Object</span><span class="token punctuation">&gt;</span></span> <span class="token function">redisTemplate</span><span class="token punctuation">(</span><span class="token class-name">RedisConnectionFactory</span> factory<span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token class-name">RedisTemplate</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">String</span><span class="token punctuation">,</span> <span class="token class-name">Object</span><span class="token punctuation">&gt;</span></span> template <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">RedisTemplate</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token punctuation">&gt;</span></span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        template<span class="token punctuation">.</span><span class="token function">setConnectionFactory</span><span class="token punctuation">(</span>factory<span class="token punctuation">)</span><span class="token punctuation">;</span>
        template<span class="token punctuation">.</span><span class="token function">setKeySerializer</span><span class="token punctuation">(</span><span class="token keyword">new</span> <span class="token class-name">StringRedisSerializer</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        template<span class="token punctuation">.</span><span class="token function">setValueSerializer</span><span class="token punctuation">(</span><span class="token keyword">new</span> <span class="token class-name">GenericJackson2JsonRedisSerializer</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token keyword">return</span> template<span class="token punctuation">;</span>
    <span class="token punctuation">}</span>

    <span class="token annotation punctuation">@Bean</span>
    <span class="token keyword">public</span> <span class="token class-name">CacheManager</span> <span class="token function">cacheManager</span><span class="token punctuation">(</span><span class="token class-name">RedisConnectionFactory</span> factory<span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token class-name">RedisCacheConfiguration</span> config <span class="token operator">=</span> <span class="token class-name">RedisCacheConfiguration</span><span class="token punctuation">.</span><span class="token function">defaultCacheConfig</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
                <span class="token punctuation">.</span><span class="token function">serializeKeysWith</span><span class="token punctuation">(</span><span class="token class-name">RedisSerializationContext<span class="token punctuation">.</span>SerializationPair</span><span class="token punctuation">.</span><span class="token function">fromSerializer</span><span class="token punctuation">(</span><span class="token keyword">new</span> <span class="token class-name">StringRedisSerializer</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
                <span class="token punctuation">.</span><span class="token function">serializeValuesWith</span><span class="token punctuation">(</span><span class="token class-name">RedisSerializationContext<span class="token punctuation">.</span>SerializationPair</span><span class="token punctuation">.</span><span class="token function">fromSerializer</span><span class="token punctuation">(</span><span class="token keyword">new</span> <span class="token class-name">GenericJackson2JsonRedisSerializer</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token keyword">return</span> <span class="token class-name">RedisCacheManager</span><span class="token punctuation">.</span><span class="token function">builder</span><span class="token punctuation">(</span>factory<span class="token punctuation">)</span>
                <span class="token punctuation">.</span><span class="token function">cacheDefaults</span><span class="token punctuation">(</span>config<span class="token punctuation">)</span>
                <span class="token punctuation">.</span><span class="token function">build</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>

    <span class="token annotation punctuation">@Bean</span>
    <span class="token keyword">public</span> <span class="token class-name">RedissonClient</span> <span class="token function">redissonClient</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token class-name">Config</span> config <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Config</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        config<span class="token punctuation">.</span><span class="token function">useSingleServer</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">setAddress</span><span class="token punctuation">(</span><span class="token string">&quot;redis://127.0.0.1:6379&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token keyword">return</span> <span class="token class-name">Redisson</span><span class="token punctuation">.</span><span class="token function">create</span><span class="token punctuation">(</span>config<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>è¿™é‡Œæˆ‘ä»¬é€šè¿‡Javaé…ç½®ç±»çš„æ–¹å¼æ¥é…ç½®RedisTemplateå’ŒRedisCacheManagerä»¥åŠRedissonClientï¼ŒåŒæ—¶è®¾ç½®äº†keyå’Œvalueçš„åºåˆ—åŒ–æ–¹å¼ä¸ºStringå’ŒJSONæ ¼å¼ã€‚è¿™ç§æ–¹å¼ç›¸å¯¹äºåœ¨é…ç½®æ–‡ä»¶ä¸­è¿›è¡Œé…ç½®ï¼Œæ›´åŠ çµæ´»ï¼Œå¯ä»¥æ ¹æ®å®é™…ä¸šåŠ¡éœ€æ±‚æ¥è¿›è¡Œå®šåˆ¶ã€‚</p><h2 id="_6-æ•´åˆç¬¬ä¸‰æ–¹æŠ€æœ¯" tabindex="-1"><a class="header-anchor" href="#_6-æ•´åˆç¬¬ä¸‰æ–¹æŠ€æœ¯" aria-hidden="true">#</a> 6. æ•´åˆç¬¬ä¸‰æ–¹æŠ€æœ¯</h2><h3 id="_6-1-ç¼“å­˜" tabindex="-1"><a class="header-anchor" href="#_6-1-ç¼“å­˜" aria-hidden="true">#</a> 6.1 ç¼“å­˜</h3><p>SpringBootå†…ç½®äº†å¤šç§ç¼“å­˜è§£å†³æ–¹æ¡ˆï¼Œå¯ä»¥è½»æ¾åœ°å®ç°ç¼“å­˜åŠŸèƒ½ã€‚</p><p>1.Â SpringÂ Cacheï¼šSpringÂ Cacheæ˜¯Springæ¡†æ¶ä¸­çš„ç¼“å­˜æŠ½è±¡å±‚ï¼Œå¯ä»¥é›†æˆå¤šç§ç¼“å­˜æŠ€æœ¯ï¼Œå¦‚EhCacheã€Redisã€Guavaç­‰ã€‚åœ¨SpringÂ Bootåº”ç”¨ç¨‹åºä¸­ï¼Œå¯ä»¥ä½¿ç”¨SpringÂ Cacheæ¥è¿›è¡Œç¼“å­˜çš„æ•°æ®è®¿é—®å’Œæ“ä½œã€‚SpringÂ Cacheæä¾›äº†ç®€å•çš„æ³¨è§£ï¼Œå¦‚@Cacheableã€@CachePutã€@CacheEvictç­‰ï¼Œå¯ä»¥æ–¹ä¾¿åœ°å®ç°ç¼“å­˜åŠŸèƒ½ã€‚<br> 2.Â Caffeineï¼šCaffeineæ˜¯ä¸€ç§åŸºäºJavaçš„é«˜æ€§èƒ½ç¼“å­˜åº“ï¼Œå¯ä»¥ä½œä¸ºSpringÂ Bootçš„ç¼“å­˜è§£å†³æ–¹æ¡ˆä½¿ç”¨ã€‚å®ƒå…·æœ‰é«˜é€Ÿç¼“å­˜ã€é«˜å¹¶å‘ã€æ—¶é—´è¿‡æœŸã€å¤§å°é™åˆ¶ç­‰ç‰¹æ€§ï¼Œå¯ä»¥åº”ç”¨äºå„ç§åœºæ™¯ã€‚åœ¨SpringÂ Bootåº”ç”¨ç¨‹åºä¸­ï¼Œå¯ä»¥ä½¿ç”¨Caffeineæ¥è¿›è¡Œç¼“å­˜çš„æ•°æ®è®¿é—®å’Œæ“ä½œã€‚<br> 3.Â EhCacheï¼šEhCacheæ˜¯ä¸€ç§åŸºäºJavaçš„å¼€æºç¼“å­˜åº“ï¼Œä¹Ÿå¯ä»¥ä½œä¸ºSpringÂ Bootçš„ç¼“å­˜è§£å†³æ–¹æ¡ˆä½¿ç”¨ã€‚å®ƒå…·æœ‰é«˜é€Ÿç¼“å­˜ã€é«˜å¹¶å‘ã€æ—¶é—´è¿‡æœŸã€å¤§å°é™åˆ¶ç­‰ç‰¹æ€§ï¼Œå¯ä»¥åº”ç”¨äºå„ç§åœºæ™¯ã€‚åœ¨SpringÂ Bootåº”ç”¨ç¨‹åºä¸­ï¼Œå¯ä»¥ä½¿ç”¨EhCacheæ¥è¿›è¡Œç¼“å­˜çš„æ•°æ®è®¿é—®å’Œæ“ä½œã€‚<br> 4.Â Redisï¼š<br> 5.Â memcached<br> 6.Â jetcache<br> 7.Â j2cache</p><h4 id="_6-1-2ç¼“å­˜ä¸æŒä¹…åŒ–" tabindex="-1"><a class="header-anchor" href="#_6-1-2ç¼“å­˜ä¸æŒä¹…åŒ–" aria-hidden="true">#</a> 6.1.2ç¼“å­˜ä¸æŒä¹…åŒ–</h4><p>ç¼“å­˜ï¼šå³ä¸´æ—¶æˆ–çŸ­æ—¶é—´å­˜å‚¨ï¼ŒéæŒä¹…åŒ–å­˜å‚¨ã€‚å°†æ•°æ®å­˜æ”¾ä¸å†…å­˜æˆ–é«˜é€Ÿå­˜å‚¨å™¨ã€‚ä¸ä¹‹ç›¸åçš„æ¦‚å¿µæ˜¯æŒä¹…åŒ–å­˜å‚¨ï¼Œå­˜æ”¾ä¸ç¡¬ç›˜ï¼Œå¯é•¿æ—¶é—´ä¿å­˜ï¼ŒMySQLçš„æ•°æ®å­˜å‚¨ã€‚</p><p>ç¼“å­˜</p><ul><li>ä¼˜ç‚¹ï¼šç¼“å­˜ï¼Œå­˜æ”¾åœ¨å†…å­˜ï¼Œæ‰€ä»¥è®¿é—®å’Œæ›´æ”¹ç­‰æ“ä½œé€Ÿåº¦æå¿«ï¼Œ</li><li>ç¼ºç‚¹ï¼šä¸èƒ½é•¿æ—¶é—´å­˜å‚¨ï¼ŒæœåŠ¡å™¨å…³é—­å³é”€æ¯</li></ul><p>æŒä¹…åŒ–ï¼š</p><ul><li>ä¼˜ç‚¹ï¼šå¯ä»¥é•¿æ—¶é—´å­˜å‚¨</li><li>ç¼ºç‚¹ï¼šåœ¨éœ€è¦å¯¹æ•°æ®é¢‘ç¹æ‰§è¡Œæ“ä½œæ—¶æ€§èƒ½ä¼šå¾ˆå·®ï¼Œå› ä¸ºæ¯æ¬¡éƒ½éœ€è¦è®¿é—®æ•°æ®åº“ã€‚</li></ul><p>å°†éœ€è¦é¢‘ç¹è®¿é—®ä¸”å˜æ›´ä¸é¢‘ç¹çš„æ•°æ®æ”¾äºç¼“å­˜ï¼Œè¿™é‡Œä¸»è¦æ˜¯è®¿é—®ï¼Œå› ä¸ºåœ¨æ‰§è¡Œæ›´æ”¹é¢‘ç¹çš„æ“ä½œæ—¶ä¸ºç¡®ä¿æ•°æ®åŒæ­¥è¿˜æ˜¯å¾—ç›´æ¥æ“ä½œæ•°æ®åº“ã€‚å¯¹äºæ›´æ”¹ä¸é¢‘ç¹çš„æ“ä½œæ”¾äºæ•°æ®åº“å’Œç¼“å­˜éƒ½å¯ä»¥ã€‚</p><h3 id="_6-2-æ•°æ®æ·˜æ±°ç­–ç•¥" tabindex="-1"><a class="header-anchor" href="#_6-2-æ•°æ®æ·˜æ±°ç­–ç•¥" aria-hidden="true">#</a> 6.2 æ•°æ®æ·˜æ±°ç­–ç•¥</h3><p>å¸¸è§æ³¨è§£</p><p>åœ¨SpringÂ Bootæ¡†æ¶ä¸­ï¼Œç¼“å­˜æ˜¯ä¸€é¡¹å¸¸ç”¨çš„æŠ€æœ¯ï¼Œå¯å°†ä¸€äº›ç»å¸¸æŸ¥è¯¢ä¸”æ•°æ®å˜æ›´ä¸é¢‘ç¹çš„æ•°æ®ä¿å­˜åˆ°å†…å­˜æˆ–å…¶ä»–é«˜é€Ÿå­˜å‚¨å™¨ä¸­ï¼Œä»¥å‡å°‘æ•°æ®åº“ç­‰æ•°æ®æºé¢‘ç¹è®¿é—®çš„å‹åŠ›ï¼Œæé«˜ç³»ç»Ÿæ€§èƒ½ã€‚</p><p>SpringÂ Bootæ¡†æ¶è‡ªå¸¦äº†å¤šç§ç¼“å­˜å®ç°ï¼Œæœ€å¸¸ç”¨çš„æ˜¯åŸºäºæ³¨è§£çš„ç¼“å­˜ï¼Œé€šè¿‡åœ¨æ–¹æ³•ä¸Šæ·»åŠ @Cacheableã€@CachePutå’Œ@CacheEvictç­‰æ³¨è§£æ¥æ§åˆ¶ç¼“å­˜çš„è¯»å–ã€æ›´æ–°å’Œåˆ é™¤æ“ä½œã€‚å…·ä½“æ¥è¯´ï¼Œè¿™äº›æ³¨è§£çš„ä½œç”¨å¦‚ä¸‹ï¼š</p><p>1.Â @Cacheableï¼šæ ‡è®°ä¸€ä¸ªæ–¹æ³•å¯ä»¥è¢«ç¼“å­˜ï¼Œå½“åœ¨æ‰§è¡Œè¯¥æ–¹æ³•æ—¶ï¼Œç³»ç»Ÿä¼šå…ˆå»ç¼“å­˜ä¸­æŸ¥æ‰¾æ˜¯å¦æœ‰å·²ç»ç¼“å­˜è¿‡çš„ç»“æœï¼Œå¦‚æœæœ‰ï¼Œåˆ™ç›´æ¥è¿”å›å‰é¢ç¼“å­˜çš„ç»“æœï¼Œå¦åˆ™ç»§ç»­æ‰§è¡Œæ–¹æ³•å¹¶å°†ç»“æœç¼“å­˜èµ·æ¥ã€‚</p><p>2.Â @CachePutï¼šæ›´æ–°ç¼“å­˜ï¼Œå³æ¯æ¬¡éƒ½æ‰§è¡Œè¯¥æ–¹æ³•ï¼Œå¹¶å°†è¿”å›å€¼ä¿å­˜åˆ°ç¼“å­˜ä¸­ã€‚</p><p>3.Â @CacheEvictï¼šæ¸…é™¤ç¼“å­˜ï¼Œå³ä»ç¼“å­˜ä¸­æ¸…é™¤æŒ‡å®šçš„ç¼“å­˜é¡¹ã€‚</p><p>SpringÂ Bootæ”¯æŒå¤šç§ç¼“å­˜ç®¡ç†å™¨ï¼ŒåŒ…æ‹¬Ehcacheã€Guavaã€Redisç­‰ï¼Œå¼€å‘è€…å¯ä»¥æ ¹æ®è‡ªå·±çš„å®é™…éœ€æ±‚é€‰æ‹©åˆé€‚çš„ç¼“å­˜å®ç°æ–¹å¼ã€‚</p><p>éœ€è¦æ³¨æ„çš„æ˜¯ï¼Œä½¿ç”¨ç¼“å­˜æ—¶éœ€è¦è€ƒè™‘ç¼“å­˜çš„é€‚ç”¨èŒƒå›´å’Œç¼“å­˜ç­–ç•¥ï¼Œå¯¹äºç»å¸¸æ›´æ–°çš„æ•°æ®æˆ–è€…å®¹æ˜“å˜åŒ–çš„æ•°æ®ï¼Œä¸é€‚åˆä½¿ç”¨ç¼“å­˜ï¼›å¯¹äºéœ€è¦ä¿å¯†çš„æ•°æ®ï¼Œä¹Ÿä¸å®œä½¿ç”¨ç¼“å­˜ã€‚åŒæ—¶ï¼Œåœ¨ä½¿ç”¨ç¼“å­˜æ—¶è¦æ³¨æ„ç¼“å­˜è¿‡æœŸç­–ç•¥ã€ç¼“å­˜åˆ†åŒºã€ç¼“å­˜æ¸…ç†ç­‰é—®é¢˜ï¼Œä»¥ç¡®ä¿æ•°æ®çš„å‡†ç¡®æ€§å’ŒåŠæ—¶æ€§ã€‚</p><h3 id="_6-3-ä»»åŠ¡" tabindex="-1"><a class="header-anchor" href="#_6-3-ä»»åŠ¡" aria-hidden="true">#</a> 6.3 ä»»åŠ¡</h3><h4 id="_6-3-1-æ¦‚æ‹¬" tabindex="-1"><a class="header-anchor" href="#_6-3-1-æ¦‚æ‹¬" aria-hidden="true">#</a> 6.3.1 æ¦‚æ‹¬</h4><p>ä»»åŠ¡ï¼ˆTaskï¼‰æ˜¯æŒ‡éœ€è¦å®šæœŸæ‰§è¡Œçš„æŸäº›æ“ä½œï¼Œä¾‹å¦‚å®šæ—¶å‘é€é‚®ä»¶ã€æ›´æ–°ç¼“å­˜ã€å¤‡ä»½æ•°æ®åº“ç­‰ã€‚SpringÂ Bootæ¡†æ¶æä¾›äº†å¤šç§æœºåˆ¶æ¥å®ç°ä»»åŠ¡è°ƒåº¦ï¼Œæœ€å¸¸ç”¨çš„æ˜¯åŸºäºæ³¨è§£çš„æ–¹å¼å’Œé›†æˆç¬¬ä¸‰æ–¹çš„å®šæ—¶ä»»åŠ¡æ¡†æ¶ã€‚</p><p>åœ¨è®¡ç®—æœºç¼–ç¨‹ä¸­ï¼Œä»»åŠ¡ï¼ˆTaskï¼‰é€šå¸¸å¯ä»¥åˆ†ä¸ºä»¥ä¸‹å‡ ç§ç±»å‹ï¼š</p><p>1.Â ä¸€æ¬¡æ€§ä»»åŠ¡ï¼šæŒ‡åªéœ€è¦æ‰§è¡Œä¸€æ¬¡çš„ä»»åŠ¡ï¼Œä¾‹å¦‚åˆå§‹åŒ–æ•°æ®ã€å¤‡ä»½æ•°æ®åº“ç­‰ã€‚</p><p>2.Â å‘¨æœŸæ€§ä»»åŠ¡ï¼šæŒ‡éœ€è¦åœ¨å›ºå®šæ—¶é—´é—´éš”å†…é‡å¤æ‰§è¡Œçš„ä»»åŠ¡ï¼Œä¾‹å¦‚å®šæ—¶æ›´æ–°ç¼“å­˜ã€å®šæ—¶å‘é€é‚®ä»¶ç­‰ã€‚</p><p>3.Â å»¶è¿Ÿä»»åŠ¡ï¼šæŒ‡éœ€è¦åœ¨ä¸€å®šå»¶è¿Ÿåæ‰èƒ½æ‰§è¡Œçš„ä»»åŠ¡ï¼Œä¾‹å¦‚å®šæ—¶å™¨ç­‰å¾…ä¸€æ®µæ—¶é—´åæ‰§è¡ŒæŸä¸ªæ“ä½œã€‚</p><p>4.Â å¼‚æ­¥ä»»åŠ¡ï¼šæŒ‡éœ€è¦å¼‚æ­¥å¤„ç†çš„ä»»åŠ¡ï¼Œä¾‹å¦‚å¼‚æ­¥è°ƒç”¨ç¬¬ä¸‰æ–¹æ¥å£ã€å¼‚æ­¥ä¸‹è½½æ–‡ä»¶ç­‰ã€‚</p><p>5.Â å¹¶å‘ä»»åŠ¡ï¼šæŒ‡éœ€è¦å¹¶å‘æ‰§è¡Œçš„ä»»åŠ¡ï¼Œä¾‹å¦‚å¤šçº¿ç¨‹å®ç°çš„ä»»åŠ¡ã€‚</p><p>ä»»åŠ¡å¤šç§å¤šæ ·ï¼Œæ¯ç§ç±»å‹éƒ½æœ‰å…¶è‡ªå·±çš„ç‰¹ç‚¹å’Œåº”ç”¨åœºæ™¯ã€‚SpringÂ Bootæ¡†æ¶æ”¯æŒå…¶ä¸­çš„ä¸€äº›ä»»åŠ¡ç±»å‹ï¼Œä¾‹å¦‚å‘¨æœŸæ€§ä»»åŠ¡é€šè¿‡é›†æˆQuartzæˆ–è€…ä½¿ç”¨@Scheduledæ³¨è§£å®ç°ï¼Œå¼‚æ­¥ä»»åŠ¡é€šè¿‡ä½¿ç”¨@Asyncæ³¨è§£å®ç°ï¼Œå¹¶å‘ä»»åŠ¡å¯ä»¥é€šè¿‡Javaå¤šçº¿ç¨‹ç­‰æŠ€æœ¯å®ç°ã€‚å¼€å‘è€…éœ€è¦æ ¹æ®è‡ªèº«ä¸šåŠ¡éœ€æ±‚é€‰æ‹©åˆé€‚çš„ä»»åŠ¡ç±»å‹ä»¥åŠç›¸åº”çš„ä»»åŠ¡å®ç°æ–¹å¼ã€‚å®šæ—¶ä»»åŠ¡å±äºä¸€ç§å‘¨æœŸæ€§ä»»åŠ¡</p><h4 id="_6-3-2-å®ç°" tabindex="-1"><a class="header-anchor" href="#_6-3-2-å®ç°" aria-hidden="true">#</a> 6.3.2 å®ç°</h4><p>1.Â åŸºäºæ³¨è§£çš„æ–¹å¼</p><p>é€šè¿‡åœ¨æ–¹æ³•ä¸Šä½¿ç”¨@Scheduledæ³¨è§£ï¼Œå¯ä»¥å®šä¹‰è¯¥æ–¹æ³•éœ€è¦å®šæœŸæ‰§è¡Œçš„æ—¶é—´é—´éš”æˆ–æ‰§è¡Œæ—¶é—´ç‚¹ã€‚ä¾‹å¦‚ï¼Œä¸‹é¢çš„ä»£ç å¯ä»¥ä½¿æ–¹æ³•æ¯5ç§’é’Ÿæ‰§è¡Œä¸€æ¬¡ï¼š</p><div class="language-java line-numbers-mode" data-ext="java"><pre class="language-java"><code><span class="token annotation punctuation">@Scheduled</span><span class="token punctuation">(</span>fixedRate <span class="token operator">=</span> <span class="token number">5000</span><span class="token punctuation">)</span>
<span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">taskMethod</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token comment">// æ‰§è¡Œä»»åŠ¡å†…å®¹</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>2.Â é›†æˆç¬¬ä¸‰æ–¹çš„å®šæ—¶ä»»åŠ¡æ¡†æ¶</p><p>SpringÂ Bootæ¡†æ¶ä¹Ÿæ”¯æŒé›†æˆä¸€äº›ç¬¬ä¸‰æ–¹çš„å®šæ—¶ä»»åŠ¡æ¡†æ¶ï¼Œä¾‹å¦‚Quartzã€JDKÂ Timerç­‰ã€‚é€šè¿‡é…ç½®ç›¸åº”çš„Beanï¼Œå¯ä»¥å®ç°ç±»ä¼¼äºä¸Šè¿°@Scheduledæ³¨è§£çš„åŠŸèƒ½ï¼ŒåŒæ—¶è¿˜å¯ä»¥æ”¯æŒæ›´ä¸°å¯Œçš„ä»»åŠ¡è°ƒåº¦éœ€æ±‚ï¼Œä¾‹å¦‚åˆ†å¸ƒå¼ä»»åŠ¡è°ƒåº¦ã€åŠ¨æ€ä¿®æ”¹ä»»åŠ¡å®šæ—¶ç­–ç•¥ç­‰ã€‚</p><div class="language-java line-numbers-mode" data-ext="java"><pre class="language-java"><code><span class="token keyword">public</span> <span class="token keyword">static</span> <span class="token keyword">void</span> <span class="token function">main</span><span class="token punctuation">(</span><span class="token class-name">String</span><span class="token punctuation">[</span><span class="token punctuation">]</span> args<span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token class-name">Timer</span> timer <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Timer</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token class-name">TimerTask</span> timerTask <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">TimerTask</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token annotation punctuation">@Override</span>
        <span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">run</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
            <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">&quot;this is a timerTask&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span>
    <span class="token punctuation">}</span><span class="token punctuation">;</span>
    timer<span class="token punctuation">.</span><span class="token function">schedule</span><span class="token punctuation">(</span>timerTask<span class="token punctuation">,</span><span class="token number">0</span><span class="token punctuation">,</span><span class="token number">2000</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h4 id="_6-3-3-å®šæ—¶ä»»åŠ¡æ¡†æ¶" tabindex="-1"><a class="header-anchor" href="#_6-3-3-å®šæ—¶ä»»åŠ¡æ¡†æ¶" aria-hidden="true">#</a> 6.3.3 å®šæ—¶ä»»åŠ¡æ¡†æ¶</h4><ul><li>Quartz</li></ul><div class="language-xml line-numbers-mode" data-ext="xml"><pre class="language-xml"><code><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>dependency</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>groupId</span><span class="token punctuation">&gt;</span></span>org.springframework.boot<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>groupId</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>artifactId</span><span class="token punctuation">&gt;</span></span>spring-boot-starter-quartz<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>artifactId</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>dependency</span><span class="token punctuation">&gt;</span></span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><ul><li>spring task</li></ul><p>å†…ç½®çš„ï¼Œä¸éœ€è¦å¯¼åŒ…</p><ul><li>å¼€å¯å®šæ—¶ä»»åŠ¡åŠŸèƒ½</li></ul><div class="language-java line-numbers-mode" data-ext="java"><pre class="language-java"><code><span class="token annotation punctuation">@SpringBootApplication</span>
<span class="token annotation punctuation">@EnableScheduling</span><span class="token comment">//å¼€å¯å®šæ—¶ä»»åŠ¡åŠŸèƒ½</span>
<span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">SpringBootCacheApplication</span> <span class="token punctuation">{</span>
    <span class="token keyword">public</span> <span class="token keyword">static</span> <span class="token keyword">void</span> <span class="token function">main</span><span class="token punctuation">(</span><span class="token class-name">String</span><span class="token punctuation">[</span><span class="token punctuation">]</span> args<span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token class-name">SpringApplication</span><span class="token punctuation">.</span><span class="token function">run</span><span class="token punctuation">(</span><span class="token class-name">SpringBootCacheApplication</span><span class="token punctuation">.</span><span class="token keyword">class</span><span class="token punctuation">,</span> args<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><ul><li>ä½¿ç”¨</li></ul><div class="language-java line-numbers-mode" data-ext="java"><pre class="language-java"><code><span class="token annotation punctuation">@Component</span><span class="token comment">//å®šä¹‰æˆBean</span>
<span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">MyTask</span> <span class="token punctuation">{</span>
    <span class="token comment">//å…·ä½“å®šæ—¶ä»»åŠ¡</span>
    <span class="token annotation punctuation">@Scheduled</span><span class="token punctuation">(</span>cron <span class="token operator">=</span> <span class="token string">&quot;0/1 * * * * ?&quot;</span><span class="token punctuation">)</span><span class="token comment">//cronè¡¨è¾¾å¼</span>
    <span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">task</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
        <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">&quot;spring task is running&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h4 id="_6-3-4-cronè¡¨è¾¾å¼" tabindex="-1"><a class="header-anchor" href="#_6-3-4-cronè¡¨è¾¾å¼" aria-hidden="true">#</a> 6.3.4 cronè¡¨è¾¾å¼</h4><p>Cronè¡¨è¾¾å¼æ˜¯ä¸€ç§æ—¶é—´è¡¨è¾¾å¼ï¼Œç”¨äºæŒ‡å®šå®šæ—¶ä»»åŠ¡çš„æ‰§è¡Œæ—¶é—´ã€‚Cronè¡¨è¾¾å¼ç”±6ä¸ªå­—æ®µç»„æˆï¼Œåˆ†åˆ«è¡¨ç¤ºç§’ã€åˆ†é’Ÿã€å°æ—¶ã€æ—¥æœŸã€æœˆä»½å’Œæ˜ŸæœŸå‡ ã€‚æ¯ä¸ªå­—æ®µéƒ½æœ‰ç‰¹å®šçš„å–å€¼èŒƒå›´å’Œå«ä¹‰ã€‚Cronè¡¨è¾¾å¼çš„æ ¼å¼å¦‚ä¸‹ï¼š</p><div class="language-text line-numbers-mode" data-ext="text"><pre class="language-text"><code>ç§’ åˆ† æ—¶ æ—¥ æœˆ æ˜ŸæœŸ
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><p>å„ä¸ªå­—æ®µçš„å–å€¼èŒƒå›´å¦‚ä¸‹ï¼š</p><p>1.ç§’ï¼ˆ0-59ï¼‰</p><p>2.åˆ†é’Ÿï¼ˆ0-59ï¼‰</p><p>3.å°æ—¶ï¼ˆ0-23ï¼‰</p><p>4.æ—¥æœŸï¼ˆ1-31ï¼‰</p><p>5.æœˆä»½ï¼ˆ1-12æˆ–JAN-DECï¼‰</p><p>6.æ˜ŸæœŸå‡ ï¼ˆ0-6æˆ–SUN-SATï¼Œ0è¡¨ç¤ºå‘¨æ—¥ï¼‰</p><p>Cronè¡¨è¾¾å¼è¿˜æ”¯æŒä¸€äº›ç‰¹æ®Šå­—ç¬¦ï¼Œå¦‚*ï¼ˆè¡¨ç¤ºä»»æ„å€¼ï¼‰ã€?ï¼ˆè¡¨ç¤ºä¸æŒ‡å®šï¼‰ã€-ï¼ˆè¡¨ç¤ºèŒƒå›´ï¼‰ã€/ï¼ˆè¡¨ç¤ºé—´éš”ï¼‰ã€,ï¼ˆè¡¨ç¤ºå¤šä¸ªå€¼ï¼‰ç­‰ã€‚ä¾‹å¦‚ï¼Œä¸‹é¢æ˜¯ä¸€äº›å¸¸è§çš„Cronè¡¨è¾¾å¼ç¤ºä¾‹ï¼š</p><p>1.æ¯éš”5ç§’é’Ÿæ‰§è¡Œä¸€æ¬¡ï¼š<code>*/5Â *Â *Â *Â *Â *</code></p><p>2.æ¯å¤©23ç‚¹æ‰§è¡Œä¸€æ¬¡ï¼š<code>0Â 0Â 23Â *Â *Â ?</code></p><p>3.æ¯å‘¨ä¸€ã€ä¸‰ã€äº”çš„10ç‚¹é’Ÿæ‰§è¡Œä¸€æ¬¡ï¼š<code>0Â 0Â 10Â ?Â *Â MON,WED,FRI</code></p><p>4.æ¯æœˆæœ€åä¸€å¤©çš„23ç‚¹é’Ÿæ‰§è¡Œä¸€æ¬¡ï¼š<code>0Â 0Â 23Â LÂ *Â ?</code></p><p>åœ¨SpringÂ Bootä¸­ï¼Œå¯ä»¥ä½¿ç”¨@Scheduledæ³¨é‡Šçš„cronå±æ€§æ¥æŒ‡å®šCronè¡¨è¾¾å¼ã€‚ä¾‹å¦‚ï¼š</p><div class="language-java line-numbers-mode" data-ext="java"><pre class="language-java"><code><span class="token annotation punctuation">@Scheduled</span><span class="token punctuation">(</span>cron <span class="token operator">=</span> <span class="token string">&quot;0 0 23 * * ?&quot;</span><span class="token punctuation">)</span>
<span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">doSomething</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token comment">//TODO: æ‰§è¡Œä»»åŠ¡</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>è¿™å°†ä¼šåœ¨æ¯å¤©23ç‚¹æ‰§è¡Œä¸€æ¬¡doSomethingæ–¹æ³•ã€‚</p><h3 id="_6-4-æ•´åˆjavamail" tabindex="-1"><a class="header-anchor" href="#_6-4-æ•´åˆjavamail" aria-hidden="true">#</a> 6.4 æ•´åˆjavamail</h3><h4 id="_6-4-1-ç›¸å…³åè®®" tabindex="-1"><a class="header-anchor" href="#_6-4-1-ç›¸å…³åè®®" aria-hidden="true">#</a> 6.4.1 ç›¸å…³åè®®</h4><ul><li><p>SMTP</p><ul><li>é‚®ä»¶ä¼ è¾“åè®®</li></ul></li><li><p>POP3</p><ul><li>æ¥å—ç”µå­é‚®ä»¶æ ‡å‡†åè®®</li></ul></li><li><p>IMAP</p><ul><li>äº’è”ç½‘æ¶ˆæ¯åè®®ï¼Œä»£æ›¿POP3</li></ul></li></ul><h4 id="_6-4-2-ä½¿ç”¨" tabindex="-1"><a class="header-anchor" href="#_6-4-2-ä½¿ç”¨" aria-hidden="true">#</a> 6.4.2 ä½¿ç”¨</h4><ol><li>å¯¼åŒ…</li></ol><div class="language-xml line-numbers-mode" data-ext="xml"><pre class="language-xml"><code><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>dependency</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>groupId</span><span class="token punctuation">&gt;</span></span>org.springframework.boot<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>groupId</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>artifactId</span><span class="token punctuation">&gt;</span></span>spring-boot-starter-mail<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>artifactId</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>dependency</span><span class="token punctuation">&gt;</span></span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><ol start="2"><li>é…ç½®</li></ol><div class="language-yaml line-numbers-mode" data-ext="yml"><pre class="language-yaml"><code><span class="token key atrule">mail</span><span class="token punctuation">:</span>
  <span class="token key atrule">username</span><span class="token punctuation">:</span> zhaoxi7109@qq.com
  <span class="token key atrule">password</span><span class="token punctuation">:</span> kaxkznmacmnqddif
  <span class="token key atrule">host</span><span class="token punctuation">:</span> smtp.qq.com
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><ol start="3"><li>å¯†ç è·å–</li></ol><p>å¯†ç ä¸æ˜¯QQé‚®ç®±å¯†ç ï¼Œè€Œæ˜¯è¦åˆ°QQé‚®ç®±ä¸­å¼€å¯IMAPæœåŠ¡ï¼Œç„¶åè·å–å¯†ç </p><h3 id="_6-5-æ¶ˆæ¯" tabindex="-1"><a class="header-anchor" href="#_6-5-æ¶ˆæ¯" aria-hidden="true">#</a> 6.5 æ¶ˆæ¯</h3><h4 id="_6-5-1-æ¦‚å¿µ" tabindex="-1"><a class="header-anchor" href="#_6-5-1-æ¦‚å¿µ" aria-hidden="true">#</a> 6.5.1 æ¦‚å¿µ</h4><p>åœ¨SpringÂ Bootä¸­ï¼Œæ¶ˆæ¯ï¼ˆMessageï¼‰æ˜¯æŒ‡ä½œä¸ºæ•°æ®ä¼ è¾“è½½ä½“çš„ä¸€æ®µä¿¡æ¯ï¼Œå¯ä»¥æ˜¯æ–‡æœ¬ã€äºŒè¿›åˆ¶æ•°æ®æˆ–è€…ä¸€äº›ç»“æ„åŒ–æ•°æ®ã€‚æ¶ˆæ¯é€šå¸¸è¢«ç”¨äºå¼‚æ­¥é€šä¿¡åœºæ™¯ï¼Œä¾‹å¦‚æ¶ˆæ¯é˜Ÿåˆ—ã€å‘å¸ƒ-è®¢é˜…ç­‰æ¨¡å¼ä¸­ã€‚</p><p>SpringÂ Bootæä¾›äº†å¤šä¸ªæ¡†æ¶å’ŒæŠ€æœ¯æ¥æ”¯æŒæ¶ˆæ¯ä¼ è¾“ï¼ŒåŒ…æ‹¬JMSï¼ˆJavaÂ MessageÂ Serviceï¼‰ã€AMQPï¼ˆAdvancedÂ MessageÂ QueuingÂ Protocolï¼‰ã€WebSocketç­‰ã€‚å…¶ä¸­ï¼ŒSpringÂ Bootå†…ç½®äº†ä¸€ä¸ªè½»é‡çº§çš„æ¶ˆæ¯ä»£ç†Brokerâ€”â€”SpringÂ AMQPï¼Œå¯ä»¥æ–¹ä¾¿åœ°å®ç°åŸºäºAMQPåè®®çš„æ¶ˆæ¯ä¼ è¾“ã€‚</p><p>åœ¨ä½¿ç”¨SpringÂ Bootä¸­çš„æ¶ˆæ¯ä¼ è¾“ç»„ä»¶æ—¶ï¼Œéœ€è¦å®šä¹‰æ¶ˆæ¯çš„ç”Ÿäº§è€…å’Œæ¶ˆè´¹è€…ã€‚ç”Ÿäº§è€…è´Ÿè´£åˆ›å»ºæ¶ˆæ¯å¹¶å°†å…¶å‘é€åˆ°æ¶ˆæ¯é˜Ÿåˆ—æˆ–ä¸»é¢˜ä¸­ï¼Œè€Œæ¶ˆè´¹è€…åˆ™ä»é˜Ÿåˆ—æˆ–ä¸»é¢˜ä¸­æ¥æ”¶å¹¶å¤„ç†æ¶ˆæ¯ã€‚åœ¨SpringÂ Bootä¸­ï¼Œæˆ‘ä»¬å¯ä»¥ä½¿ç”¨@RabbitListeneræ³¨è§£å®šä¹‰ä¸€ä¸ªæ¶ˆæ¯ç›‘å¬å™¨ï¼Œæ¥ç›‘å¬å¹¶æ¶ˆè´¹æŒ‡å®šçš„é˜Ÿåˆ—æˆ–ä¸»é¢˜ä¸­çš„æ¶ˆæ¯ã€‚</p><p>æ¶ˆæ¯æ˜¯æŒ‡åœ¨åº”ç”¨ç¨‹åºä¹‹é—´ä¼ é€’çš„æ•°æ®ï¼Œé€šå¸¸ç”¨äºå®ç°å¼‚æ­¥é€šä¿¡ã€è§£è€¦åˆå’Œç¼“å†²ç­‰åŠŸèƒ½ã€‚åœ¨SpringÂ Bootä¸­ï¼Œå¯ä»¥ä½¿ç”¨æ¶ˆæ¯é˜Ÿåˆ—æ¥å®ç°æ¶ˆæ¯ä¼ é€’ã€‚SpringÂ Bootæä¾›äº†å¤šä¸ªæ¶ˆæ¯é˜Ÿåˆ—å®ç°ï¼Œå¦‚ActiveMQã€RabbitMQã€Kafkaç­‰ã€‚å…¶ä¸­ï¼ŒRabbitMQæ˜¯æœ€å¸¸ç”¨çš„æ¶ˆæ¯é˜Ÿåˆ—ä¹‹ä¸€ï¼Œå®ƒæä¾›äº†ä¸°å¯Œçš„åŠŸèƒ½å’Œæ˜“äºä½¿ç”¨çš„APIï¼Œå¯ä»¥å¿«é€Ÿåœ°æ„å»ºå¼ºå¤§çš„æ¶ˆæ¯ç³»ç»Ÿã€‚</p><h4 id="_6-5-2-robbitmqä½¿ç”¨" tabindex="-1"><a class="header-anchor" href="#_6-5-2-robbitmqä½¿ç”¨" aria-hidden="true">#</a> 6.5.2 RobbitMQä½¿ç”¨</h4><p>åœ¨SpringÂ Bootä¸­ä½¿ç”¨RabbitMQå®ç°æ¶ˆæ¯ä¼ é€’ï¼Œéœ€è¦è¿›è¡Œä»¥ä¸‹æ­¥éª¤ï¼š</p><p>1.æ·»åŠ ä¾èµ–ï¼šåœ¨pom.xmlæ–‡ä»¶ä¸­æ·»åŠ spring-boot-starter-amqpä¾èµ–ã€‚</p><div class="language-xml line-numbers-mode" data-ext="xml"><pre class="language-xml"><code><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>dependency</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>groupId</span><span class="token punctuation">&gt;</span></span>org.springframework.boot<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>groupId</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>artifactId</span><span class="token punctuation">&gt;</span></span>spring-boot-starter-amqp<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>artifactId</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>dependency</span><span class="token punctuation">&gt;</span></span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>2.é…ç½®è¿æ¥ä¿¡æ¯ï¼šåœ¨application.propertiesæ–‡ä»¶ä¸­é…ç½®RabbitMQè¿æ¥ä¿¡æ¯ã€‚</p><div class="language-properties line-numbers-mode" data-ext="properties"><pre class="language-properties"><code><span class="token key attr-name">spring.rabbitmq.host</span><span class="token punctuation">=</span><span class="token value attr-value">localhost</span>
<span class="token key attr-name">spring.rabbitmq.port</span><span class="token punctuation">=</span><span class="token value attr-value">5672</span>
<span class="token key attr-name">spring.rabbitmq.username</span><span class="token punctuation">=</span><span class="token value attr-value">guest</span>
<span class="token key attr-name">spring.rabbitmq.password</span><span class="token punctuation">=</span><span class="token value attr-value">guest</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>3.åˆ›å»ºæ¶ˆæ¯å‘é€è€…ï¼šä½¿ç”¨@Autowiredæ³¨é‡Šæ³¨å…¥AmqpTemplateå¯¹è±¡ï¼Œå¹¶ä½¿ç”¨å®ƒå‘é€æ¶ˆæ¯ã€‚</p><div class="language-java line-numbers-mode" data-ext="java"><pre class="language-java"><code><span class="token annotation punctuation">@Autowired</span>
<span class="token keyword">private</span> <span class="token class-name">AmqpTemplate</span> rabbitTemplate<span class="token punctuation">;</span>
<span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">sendMessage</span><span class="token punctuation">(</span><span class="token class-name">String</span> message<span class="token punctuation">)</span> <span class="token punctuation">{</span>
    rabbitTemplate<span class="token punctuation">.</span><span class="token function">convertAndSend</span><span class="token punctuation">(</span><span class="token string">&quot;exchangeName&quot;</span><span class="token punctuation">,</span> <span class="token string">&quot;routingKey&quot;</span><span class="token punctuation">,</span> message<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>4.åˆ›å»ºæ¶ˆæ¯æ¥æ”¶è€…ï¼šä½¿ç”¨@RabbitListeneræ³¨é‡Šæ³¨å…¥æ¶ˆæ¯æ¥æ”¶è€…ï¼Œå¹¶å¤„ç†æ¥æ”¶åˆ°çš„æ¶ˆæ¯ã€‚</p><div class="language-java line-numbers-mode" data-ext="java"><pre class="language-java"><code><span class="token annotation punctuation">@RabbitListener</span><span class="token punctuation">(</span>queues <span class="token operator">=</span> <span class="token string">&quot;queueName&quot;</span><span class="token punctuation">)</span>
<span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">receiveMessage</span><span class="token punctuation">(</span><span class="token class-name">String</span> message<span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token comment">//TODO: å¤„ç†æ¥æ”¶åˆ°çš„æ¶ˆæ¯</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>åœ¨ä»¥ä¸Šæ­¥éª¤ä¸­ï¼ŒexchangeNameå’ŒroutingKeyæ˜¯RabbitMQä¸­çš„æ¦‚å¿µï¼Œç”¨äºå°†æ¶ˆæ¯å‘é€åˆ°æŒ‡å®šçš„é˜Ÿåˆ—ã€‚é˜Ÿåˆ—æ˜¯RabbitMQä¸­çš„åŸºæœ¬å•å…ƒï¼Œç”¨äºå­˜å‚¨å’Œä¼ é€’æ¶ˆæ¯ã€‚åœ¨ä½¿ç”¨RabbitMQæ—¶ï¼Œéœ€è¦å®šä¹‰exchangeå’Œqueueï¼Œå¹¶å°†å®ƒä»¬ç»‘å®šåœ¨ä¸€èµ·ï¼Œä»¥ä¾¿äºæ¶ˆæ¯çš„ä¼ é€’å’Œå¤„ç†ã€‚<br> ä½¿ç”¨æ¶ˆæ¯é˜Ÿåˆ—å¯ä»¥ä½¿åº”ç”¨ç¨‹åºå®ç°é«˜æ•ˆçš„å¼‚æ­¥é€šä¿¡ã€è§£è€¦åˆå’Œç¼“å†²ç­‰åŠŸèƒ½ï¼Œä»è€Œæé«˜åº”ç”¨ç¨‹åºçš„æ€§èƒ½å’Œå¯é æ€§ã€‚</p><p>ä»¥ä¸‹æ˜¯ä¸€ä¸ªä½¿ç”¨SpringÂ Bootå’ŒRabbitMQå®ç°åŸºäºAMQPåè®®çš„æ¶ˆæ¯ä¼ è¾“çš„ç¤ºä¾‹ï¼š</p><div class="language-java line-numbers-mode" data-ext="java"><pre class="language-java"><code><span class="token comment">// å®šä¹‰ä¸€ä¸ªæ¶ˆæ¯ç›‘å¬å™¨ï¼Œå¹¶é€šè¿‡@RabbitListeneræ³¨è§£æŒ‡å®šç›‘å¬çš„é˜Ÿåˆ—å</span>
<span class="token annotation punctuation">@RabbitListener</span><span class="token punctuation">(</span>queues <span class="token operator">=</span> <span class="token string">&quot;myqueue&quot;</span><span class="token punctuation">)</span>
<span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">receiveMessage</span><span class="token punctuation">(</span><span class="token class-name">String</span> message<span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token comment">// å¤„ç†æ¥æ”¶åˆ°çš„æ¶ˆæ¯</span>
    <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">&quot;Received message: &quot;</span> <span class="token operator">+</span> message<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>

<span class="token comment">// åˆ›å»ºä¸€ä¸ªæ¶ˆæ¯ç”Ÿäº§è€…ï¼Œå¹¶ä½¿ç”¨RabbitTemplateå‘é€æ¶ˆæ¯åˆ°æŒ‡å®šçš„äº¤æ¢æœºå’Œé˜Ÿåˆ—</span>
<span class="token annotation punctuation">@Autowired</span>
<span class="token keyword">private</span> <span class="token class-name">RabbitTemplate</span> rabbitTemplate<span class="token punctuation">;</span>

<span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">sendMessage</span><span class="token punctuation">(</span><span class="token class-name">String</span> message<span class="token punctuation">)</span> <span class="token punctuation">{</span>
    rabbitTemplate<span class="token punctuation">.</span><span class="token function">convertAndSend</span><span class="token punctuation">(</span><span class="token string">&quot;myexchange&quot;</span><span class="token punctuation">,</span> <span class="token string">&quot;myroutingkey&quot;</span><span class="token punctuation">,</span> message<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>ä»¥ä¸Šä»£ç ä¸­ï¼Œæˆ‘ä»¬åˆ›å»ºäº†ä¸€ä¸ªåä¸º&quot;myqueue&quot;çš„é˜Ÿåˆ—ï¼Œå¹¶å®šä¹‰äº†ä¸€ä¸ªä½¿ç”¨@RabbitListeneræ³¨è§£çš„æ¶ˆæ¯ç›‘å¬å™¨ï¼Œç”¨æ¥ç›‘å¬è¯¥é˜Ÿåˆ—æ”¶åˆ°çš„æ¶ˆæ¯ã€‚æ­¤å¤–ï¼Œæˆ‘ä»¬è¿˜åˆ›å»ºäº†ä¸€ä¸ªä½¿ç”¨RabbitTemplateå‘é€æ¶ˆæ¯åˆ°é˜Ÿåˆ—ä¸­çš„ç”Ÿäº§è€…ã€‚é€šè¿‡è°ƒç”¨RabbitTemplateçš„convertAndSendæ–¹æ³•ï¼Œå¯ä»¥å°†æ¶ˆæ¯å‘é€åˆ°æŒ‡å®šçš„äº¤æ¢æœºå’Œé˜Ÿåˆ—ä¸­ã€‚</p><p>éœ€è¦æ³¨æ„çš„æ˜¯ï¼Œåœ¨ä½¿ç”¨SpringÂ Bootå’Œæ¶ˆæ¯ä¼ è¾“ç»„ä»¶æ—¶ï¼Œéœ€è¦é…ç½®ç›¸å…³ç»„ä»¶çš„å‚æ•°å’Œåœ°å€ï¼Œå¹¶ä¸”éœ€è¦æ³¨æ„æ¶ˆæ¯çš„åºåˆ—åŒ–å’Œååºåˆ—åŒ–æ–¹å¼ä»¥åŠæ¶ˆæ¯è¿‡æœŸæ—¶é—´ç­‰é—®é¢˜ã€‚</p><ul><li><p>JMS</p><ul><li><p>Java message service</p></li><li><p>ä¸€ç§è§„èŒƒï¼Œç±»ä¼¼jdbc</p></li><li><p>æ¶ˆæ¯æ¨¡å‹</p><ul><li>ç‚¹å¯¹ç‚¹æ¨¡å‹</li><li>å‘å¸ƒè®¢é˜…æ¨¡å‹</li></ul></li></ul></li><li><p>AMQP</p><ul><li><p>ä¸€ç§åè®®</p><ul><li>è§„èŒƒäº†ç½‘ç»œäº¤æ¢çš„æ•°æ®æ ¼å¼</li></ul></li><li><p>é«˜çº§æ¶ˆæ¯é˜Ÿåˆ—åè®®</p></li><li><p>æ¶ˆæ¯æ¨¡å‹</p><ul><li>direct exchange</li><li>fanout exchange</li><li>topic exchange</li><li>headers exchange</li><li>system exchange</li></ul></li><li><p>æ¶ˆæ¯ç§ç±»</p><ul><li>byte[]</li></ul></li></ul></li><li><p>MQTT</p></li></ul><h3 id="_6-5-3-activemq" tabindex="-1"><a class="header-anchor" href="#_6-5-3-activemq" aria-hidden="true">#</a> 6.5.3 ActiveMQ</h3><ol><li>å¯¼åŒ…</li></ol><div class="language-xml line-numbers-mode" data-ext="xml"><pre class="language-xml"><code><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>dependency</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>groupId</span><span class="token punctuation">&gt;</span></span>org.springframework.boot<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>groupId</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>artifactId</span><span class="token punctuation">&gt;</span></span>spring-boot-starter-activemq<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>artifactId</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>version</span><span class="token punctuation">&gt;</span></span> 2.7.1<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>version</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>dependency</span><span class="token punctuation">&gt;</span></span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><ol start="2"><li>é…ç½®</li></ol><h3 id="_6-6-ç›‘æ§" tabindex="-1"><a class="header-anchor" href="#_6-6-ç›‘æ§" aria-hidden="true">#</a> 6.6 ç›‘æ§</h3><p>åœ¨SpringÂ Bootä¸­ï¼Œå¯ä»¥ä½¿ç”¨Actuatoræ¥å®ç°åº”ç”¨ç¨‹åºçš„ç›‘æ§å’Œç®¡ç†ã€‚Actuatoræ˜¯SpringÂ Bootçš„ä¸€ä¸ªå­é¡¹ç›®ï¼Œæä¾›äº†å¾ˆå¤šæœ‰ç”¨çš„ç«¯ç‚¹ï¼ˆEndpointsï¼‰ï¼Œå¯ä»¥ç”¨æ¥ç›‘æ§å’Œç®¡ç†åº”ç”¨ç¨‹åºã€‚Actuatorä¸­çš„ç«¯ç‚¹åŒ…æ‹¬å¥åº·æ£€æŸ¥ã€åº”ç”¨ç¨‹åºä¿¡æ¯ã€ç³»ç»Ÿä¿¡æ¯ã€ç¯å¢ƒå˜é‡ã€é…ç½®å±æ€§ã€æ—¥å¿—ä¿¡æ¯ç­‰ã€‚å¯ä»¥ä½¿ç”¨HTTPè¯·æ±‚æˆ–JMXè®¿é—®è¿™äº›ç«¯ç‚¹ï¼Œå¹¶æŸ¥çœ‹æˆ–ä¿®æ”¹åº”ç”¨ç¨‹åºçš„çŠ¶æ€å’Œé…ç½®ä¿¡æ¯ã€‚</p><p>ä¾‹å¦‚ï¼Œå¯ä»¥é€šè¿‡è®¿é—®<code>/actuator/health</code>ç«¯ç‚¹æ¥è·å–åº”ç”¨ç¨‹åºçš„å¥åº·çŠ¶æ€ï¼š</p><div class="language-text line-numbers-mode" data-ext="text"><pre class="language-text"><code>{
    &quot;status&quot;: &quot;UP&quot;
}
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>è¿˜å¯ä»¥é€šè¿‡è®¿é—®<code>/actuator/info</code>ç«¯ç‚¹æ¥è·å–åº”ç”¨ç¨‹åºçš„ä¿¡æ¯ï¼š</p><div class="language-text line-numbers-mode" data-ext="text"><pre class="language-text"><code>{
    &quot;app&quot;: {
        &quot;name&quot;: &quot;myapp&quot;,
        &quot;version&quot;: &quot;1.0.0&quot;
    }
}
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>åœ¨é»˜è®¤æƒ…å†µä¸‹ï¼ŒActuatorçš„ç«¯ç‚¹æ˜¯å¼€æ”¾çš„ï¼Œå¯ä»¥é€šè¿‡HTTPè¯·æ±‚æˆ–JMXè®¿é—®ã€‚å¦‚æœéœ€è¦ä¿æŠ¤ç«¯ç‚¹ï¼Œå¯ä»¥é€šè¿‡é…ç½®SpringÂ Securityæ¥å®ç°ã€‚ä¾‹å¦‚ï¼Œåœ¨application.propertiesæ–‡ä»¶ä¸­æ·»åŠ ä»¥ä¸‹é…ç½®ï¼š</p><div class="language-text line-numbers-mode" data-ext="text"><pre class="language-text"><code>spring.security.user.name=admin
spring.security.user.password=admin
management.endpoints.web.exposure.include=health,info
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>è¿™å°†ä¼šåœ¨ä¿æŠ¤çš„æƒ…å†µä¸‹å¼€æ”¾healthå’Œinfoç«¯ç‚¹ï¼Œå¹¶ä½¿ç”¨admin/adminä½œä¸ºç”¨æˆ·åå’Œå¯†ç è¿›è¡Œè®¿é—®ã€‚<br> Actuatorè¿˜æä¾›äº†å¾ˆå¤šå…¶ä»–çš„ç«¯ç‚¹ï¼Œå¯ä»¥æ ¹æ®éœ€è¦è¿›è¡Œé…ç½®å’Œä½¿ç”¨ã€‚ä½¿ç”¨Actuatorå¯ä»¥å¿«é€Ÿåœ°å®ç°åº”ç”¨ç¨‹åºçš„ç›‘æ§å’Œç®¡ç†ï¼Œä»è€Œæé«˜åº”ç”¨ç¨‹åºçš„å¯é æ€§å’Œå¯ç»´æŠ¤æ€§ã€‚</p><ul><li>ç›‘æ§çš„æ„ä¹‰</li><li>å¯è§†åŒ–ç›‘æ§å¹³å°</li><li>ç›‘æ§åŸç†</li><li>è‡ªå®šä¹‰ç›‘æ§æŒ‡æ ‡</li></ul><h3 id="_6-7-æŠ€æœ¯é€‰å‹" tabindex="-1"><a class="header-anchor" href="#_6-7-æŠ€æœ¯é€‰å‹" aria-hidden="true">#</a> 6.7 æŠ€æœ¯é€‰å‹</h3><p>æŠ€æœ¯é€‰å‹æ˜¯æŒ‡åœ¨å¼€å‘é¡¹ç›®æ—¶é€‰æ‹©ä½¿ç”¨å“ªäº›æŠ€æœ¯å’Œæ¡†æ¶çš„è¿‡ç¨‹ã€‚åœ¨é€‰æ‹©æŠ€æœ¯å’Œæ¡†æ¶æ—¶ï¼Œéœ€è¦è€ƒè™‘å¤šä¸ªå› ç´ ï¼Œå¦‚é¡¹ç›®éœ€æ±‚ã€å¼€å‘å›¢é˜ŸæŠ€æœ¯æ°´å¹³ã€å¯ç»´æŠ¤æ€§ã€æ€§èƒ½ã€å®‰å…¨æ€§ç­‰ã€‚åœ¨é€‰æ‹©æŠ€æœ¯å’Œæ¡†æ¶æ—¶ï¼Œéœ€è¦æƒè¡¡è¿™äº›å› ç´ ï¼Œé€‰æ‹©æœ€é€‚åˆé¡¹ç›®çš„æŠ€æœ¯å’Œæ¡†æ¶ã€‚<br> ä»¥ä¸‹æ˜¯ä¸€äº›å¯èƒ½ç”¨äºSpringÂ Booté¡¹ç›®çš„æŠ€æœ¯å’Œæ¡†æ¶ï¼š</p><p>1.Â æ•°æ®åº“ï¼šSpringÂ Bootæ”¯æŒå¤šç§æ•°æ®åº“ï¼Œå¦‚MySQLã€PostgreSQLã€Oracleã€MongoDBç­‰ã€‚é€‰æ‹©æ•°æ®åº“æ—¶éœ€è¦è€ƒè™‘æ•°æ®é‡ã€æ•°æ®ç»“æ„ã€äº‹åŠ¡æ€§èƒ½ã€é«˜å¯ç”¨æ€§ç­‰å› ç´ ã€‚<br> 2.Â æ¡†æ¶ï¼šSpringÂ Bootæ˜¯ä¸€ä¸ªè½»é‡çº§çš„æ¡†æ¶ï¼Œå¯ä»¥é›†æˆå¤šç§å…¶ä»–æ¡†æ¶ï¼Œå¦‚SpringÂ Cloudã€MyBatisã€Hibernateã€<strong>Thymeleaf</strong>ã€<strong>Freemarker</strong>ç­‰ã€‚é€‰æ‹©æ¡†æ¶æ—¶éœ€è¦è€ƒè™‘æ¡†æ¶çš„æˆç†Ÿåº¦ã€åŠŸèƒ½ç‰¹æ€§ã€æ˜“ç”¨æ€§ç­‰å› ç´ ã€‚<br> 3.Â ç¼“å­˜ï¼šSpringÂ Bootæ”¯æŒå¤šç§ç¼“å­˜æŠ€æœ¯ï¼Œå¦‚Redisã€Ehcacheã€Caffeineç­‰ã€‚é€‰æ‹©ç¼“å­˜æŠ€æœ¯æ—¶éœ€è¦è€ƒè™‘ç¼“å­˜çš„æ•°æ®ç±»å‹ã€ç¼“å­˜çš„å¤§å°ã€ç¼“å­˜çš„è¿‡æœŸç­–ç•¥ç­‰å› ç´ ã€‚<br> 4.Â æ¶ˆæ¯é˜Ÿåˆ—ï¼šSpringÂ Bootæ”¯æŒå¤šç§æ¶ˆæ¯é˜Ÿåˆ—æŠ€æœ¯ï¼Œå¦‚ActiveMQã€RabbitMQã€Kafkaç­‰ã€‚é€‰æ‹©æ¶ˆæ¯é˜Ÿåˆ—æ—¶éœ€è¦è€ƒè™‘æ¶ˆæ¯çš„ç±»å‹ã€æ¶ˆæ¯çš„å¤§å°ã€æ¶ˆæ¯çš„å¯é æ€§ç­‰å› ç´ ã€‚<br> 5.Â å®‰å…¨æ€§ï¼šSpringÂ Bootæä¾›äº†å¤šç§å®‰å…¨æŠ€æœ¯ï¼Œå¦‚SpringÂ Securityã€OAuth2ç­‰ã€‚é€‰æ‹©å®‰å…¨æŠ€æœ¯æ—¶éœ€è¦è€ƒè™‘å®‰å…¨çº§åˆ«ã€è®¤è¯æ–¹å¼ã€æˆæƒç­–ç•¥ç­‰å› ç´ ã€‚<br> 6.Â æ—¥å¿—ï¼šSpringÂ Bootæ”¯æŒå¤šç§æ—¥å¿—æ¡†æ¶ï¼Œå¦‚Logbackã€Log4j2ã€JavaÂ UtilÂ Loggingç­‰ã€‚é€‰æ‹©æ—¥å¿—æ¡†æ¶æ—¶éœ€è¦è€ƒè™‘æ—¥å¿—çš„è¾“å‡ºæ–¹å¼ã€æ—¥å¿—çš„æ€§èƒ½ã€æ—¥å¿—çš„å¯è¯»æ€§ç­‰å› ç´ ã€‚<br> 7.Â æµ‹è¯•ï¼šSpringÂ Bootæ”¯æŒå¤šç§æµ‹è¯•æ¡†æ¶ï¼Œå¦‚JUnitã€Mockitoã€Hamcrestç­‰ã€‚é€‰æ‹©æµ‹è¯•æ¡†æ¶æ—¶éœ€è¦è€ƒè™‘æµ‹è¯•çš„ç±»å‹ã€æµ‹è¯•çš„è¦†ç›–ç‡ã€æµ‹è¯•çš„æ˜“ç”¨æ€§ç­‰å› ç´ ã€‚</p><h2 id="_7-ideaå¿«æ·é”®" tabindex="-1"><a class="header-anchor" href="#_7-ideaå¿«æ·é”®" aria-hidden="true">#</a> 7. ideaå¿«æ·é”®</h2><p>ä»¥ä¸‹æ˜¯åœ¨IntelliJÂ IDEAä¸­å¸¸ç”¨çš„å¿«æ·é”®åˆ—è¡¨ï¼š</p><p>1.Â åŸºæœ¬ç¼–è¾‘</p><p>-Â CtrlÂ +Â CÂ /Â CtrlÂ +Â XÂ /Â CtrlÂ +Â Vï¼šå¤åˆ¶ã€å‰ªåˆ‡ã€ç²˜è´´<br> -Â CtrlÂ +Â ZÂ /Â CtrlÂ +Â ShiftÂ +Â Zï¼šæ’¤é”€ã€é‡åš<br> -Â CtrlÂ +Â FÂ /Â CtrlÂ +Â Rï¼šæŸ¥æ‰¾ã€æ›¿æ¢<br> -Â CtrlÂ +Â Dï¼šå¤åˆ¶å½“å‰è¡Œæˆ–é€‰å®šçš„åŒºåŸŸ<br> -Â CtrlÂ +Â Yï¼šåˆ é™¤å½“å‰è¡Œæˆ–é€‰å®šçš„åŒºåŸŸ<br> -Â CtrlÂ +Â Nï¼šæŸ¥æ‰¾ç±»<br> -Â CtrlÂ +Â ShiftÂ +Â Nï¼šæŸ¥æ‰¾æ–‡ä»¶<br> -Â CtrlÂ +Â AltÂ +Â Lï¼šæ ¼å¼åŒ–ä»£ç <br> -Â CtrlÂ +Â AltÂ +Â Oï¼šä¼˜åŒ–å¯¼å…¥çš„åŒ…</p><p>2.Â ä»£ç ç¼–è¾‘</p><p>-Â CtrlÂ +Â Spaceï¼šè‡ªåŠ¨å®Œæˆä»£ç <br> -Â CtrlÂ +Â ShiftÂ +Â Enterï¼šè‡ªåŠ¨è¡¥å…¨è¯­å¥<br> -Â AltÂ +Â Enterï¼šå¿«é€Ÿä¿®å¤ä»£ç é—®é¢˜<br> -Â CtrlÂ +Â Pï¼šæ˜¾ç¤ºæ–¹æ³•å‚æ•°<br> -Â CtrlÂ +Â ShiftÂ +Â Iï¼šæ˜¾ç¤ºæ–¹æ³•å®šä¹‰<br> -Â CtrlÂ +Â Bï¼šè·³è½¬åˆ°å®šä¹‰å¤„<br> -Â CtrlÂ +Â Uï¼šè·³è½¬åˆ°çˆ¶ç±»æ–¹æ³•<br> -Â CtrlÂ +Â AltÂ +Â Bï¼šè·³è½¬åˆ°å®ç°å¤„</p><p>3.Â å¯¼èˆª</p><p>-Â CtrlÂ +Â Eï¼šæ˜¾ç¤ºæœ€è¿‘æ‰“å¼€çš„æ–‡ä»¶åˆ—è¡¨<br> -Â CtrlÂ +Â ShiftÂ +Â Eï¼šæ˜¾ç¤ºæœ€è¿‘ä¿®æ”¹çš„æ–‡ä»¶åˆ—è¡¨<br> -Â CtrlÂ +Â Gï¼šè·³è½¬åˆ°æŒ‡å®šè¡Œ<br> -Â CtrlÂ +Â ShiftÂ +Â Fï¼šåœ¨é¡¹ç›®ä¸­æŸ¥æ‰¾æ–‡æœ¬<br> -Â CtrlÂ +Â ShiftÂ +Â Gï¼šåœ¨é¡¹ç›®ä¸­æŸ¥æ‰¾å¼•ç”¨</p><p>4.Â è¿è¡Œå’Œè°ƒè¯•</p><p>-Â ShiftÂ +Â F10ï¼šè¿è¡Œå½“å‰ç¨‹åº<br> -Â ShiftÂ +Â F9ï¼šè°ƒè¯•å½“å‰ç¨‹åº<br> -Â CtrlÂ +Â ShiftÂ +Â F10ï¼šé‡æ–°è¿è¡Œä¸Šæ¬¡è¿è¡Œçš„ç¨‹åº<br> -Â CtrlÂ +Â F2ï¼šåœæ­¢ç¨‹åºè¿è¡Œ<br> -Â F7ï¼šè¿›å…¥æ–¹æ³•å†…éƒ¨<br> -Â ShiftÂ +Â F8ï¼šè·³å‡ºæ–¹æ³•<br> -Â F9ï¼šæ¢å¤ç¨‹åºè¿è¡Œ<br> -Â AltÂ +Â F9ï¼šè¿è¡Œåˆ°å…‰æ ‡å¤„</p><p>5.Â Gité›†æˆ</p><p>-Â CtrlÂ +Â Kï¼šæäº¤ä»£ç <br> -Â CtrlÂ +Â ShiftÂ +Â Kï¼šæ¨é€ä»£ç <br> -Â CtrlÂ +Â AltÂ +Â Zï¼šå›é€€åˆ°ä¸Šä¸€ä¸ªç‰ˆæœ¬<br> -Â CtrlÂ +Â AltÂ +Â ShiftÂ +Â Zï¼šå›é€€åˆ°æŒ‡å®šç‰ˆæœ¬<br> -Â CtrlÂ +Â Dï¼šæ˜¾ç¤ºæ–‡ä»¶å·®å¼‚<br> -Â CtrlÂ +Â ShiftÂ +Â Aï¼šæŸ¥æ‰¾Gitå‘½ä»¤</p><p>6.Â å…¶ä»–</p><p>-Â CtrlÂ +Â Qï¼šæ˜¾ç¤ºæ–‡æ¡£æ³¨é‡Š<br> -Â CtrlÂ +Â ShiftÂ +Â Uï¼šåˆ‡æ¢å¤§å°å†™<br> -Â CtrlÂ +Â ShiftÂ +Â Jï¼šåˆå¹¶é€‰å®šçš„è¡Œ<br> -Â CtrlÂ +Â ShiftÂ +Â Tï¼šç”Ÿæˆæµ‹è¯•ä»£ç <br> -Â CtrlÂ +Â AltÂ +Â Tï¼šç”Ÿæˆä»£ç å—<br> -Â AltÂ  +Â  F1ï¼šæ˜¾ç¤ºå½“å‰æ–‡ä»¶åœ¨é¡¹ç›®è§†å›¾ä¸­çš„ä½ç½®<br> -Â Alt Â +Â  Insertï¼šç”Ÿæˆä»£ç <br> -Â Alt + shift+æ–¹å‘é”® æ•´è¡Œä¸Šä¸‹ç§»åŠ¨<br> -Â Ctrl + h å¯¼å‡ºç±»ç›¸å…³ å­ç±»æˆ–æ¥å£<br> -Â Shift+ f6 é‡å‘½å<br> -Â Alt + enter æ˜¾ç¤ºä¸Šä¸‹æ–‡æ“ä½œ<br> -Â Shift+ shift æœç´¢<br> -Â Ctrl + shift+alt+/ è¿›å…¥æ³¨å†Œè¡¨</p><h2 id="_8-å¸¸ç”¨æ³¨è§£" tabindex="-1"><a class="header-anchor" href="#_8-å¸¸ç”¨æ³¨è§£" aria-hidden="true">#</a> 8. å¸¸ç”¨æ³¨è§£</h2><h3 id="_8-1springå¸¸ç”¨æ³¨è§£" tabindex="-1"><a class="header-anchor" href="#_8-1springå¸¸ç”¨æ³¨è§£" aria-hidden="true">#</a> 8.1Springå¸¸ç”¨æ³¨è§£</h3><ol><li>@Componentæ³¨è§£<br> @Componentæ˜¯Springä¸­æœ€åŸºæœ¬çš„æ³¨è§£ä¹‹ä¸€ï¼Œç”¨äºæ ‡æ³¨ä¸€ä¸ªç±»ä¸ºSpringç»„ä»¶ã€‚å…¶å¸¸ç”¨å±æ€§å¦‚ä¸‹ï¼š</li></ol><ul><li>valueï¼šæŒ‡å®šç»„ä»¶çš„åç§°ï¼Œå¦‚æœä¸æŒ‡å®šåˆ™é»˜è®¤ä¸ºç±»åé¦–å­—æ¯å°å†™ã€‚</li></ul><ol start="2"><li>@Autowiredæ³¨è§£<br> @Autowiredç”¨äºè‡ªåŠ¨è£…é…Springç»„ä»¶ï¼Œå¯ä»¥ç”¨äºä¾èµ–æ³¨å…¥ï¼ˆDIï¼‰å’Œæ§åˆ¶åè½¬ï¼ˆIOCï¼‰ã€‚å…¶å¸¸ç”¨å±æ€§å¦‚ä¸‹ï¼š</li></ol><ul><li>requiredï¼šæŒ‡å®šæ˜¯å¦å¿…é¡»å­˜åœ¨è¯¥ç»„ä»¶ï¼Œé»˜è®¤ä¸ºtrueï¼Œè¡¨ç¤ºå¿…é¡»å­˜åœ¨ï¼Œå¦‚æœä¸å­˜åœ¨åˆ™ä¼šæŠ›å‡ºå¼‚å¸¸ã€‚</li></ul><ol start="3"><li>@Controlleræ³¨è§£<br> @Controllerç”¨äºæ ‡æ³¨ä¸€ä¸ªç±»ä¸ºSpring MVCæ§åˆ¶å™¨ï¼Œç”¨äºå¤„ç†HTTPè¯·æ±‚å’Œå“åº”ã€‚å…¶å¸¸ç”¨å±æ€§å¦‚ä¸‹ï¼š</li></ol><ul><li>valueï¼šæŒ‡å®šæ§åˆ¶å™¨çš„åç§°ï¼Œå¦‚æœä¸æŒ‡å®šåˆ™é»˜è®¤ä¸ºç±»åé¦–å­—æ¯å°å†™ã€‚</li></ul><ol start="4"><li>@Serviceæ³¨è§£<br> @Serviceç”¨äºæ ‡æ³¨ä¸€ä¸ªç±»ä¸ºSpringæœåŠ¡ç»„ä»¶ï¼Œé€šå¸¸ç”¨äºä¸šåŠ¡é€»è¾‘å¤„ç†ã€‚å…¶å¸¸ç”¨å±æ€§å¦‚ä¸‹ï¼š</li></ol><ul><li>valueï¼šæŒ‡å®šæœåŠ¡çš„åç§°ï¼Œå¦‚æœä¸æŒ‡å®šåˆ™é»˜è®¤ä¸ºç±»åé¦–å­—æ¯å°å†™ã€‚</li></ul><ol start="5"><li>@Repositoryæ³¨è§£<br> @Repositoryç”¨äºæ ‡æ³¨ä¸€ä¸ªç±»ä¸ºSpringæ•°æ®è®¿é—®ç»„ä»¶ï¼Œé€šå¸¸ç”¨äºè®¿é—®æ•°æ®åº“æˆ–å…¶å®ƒæ•°æ®æºã€‚å…¶å¸¸ç”¨å±æ€§å¦‚ä¸‹ï¼š</li></ol><ul><li>valueï¼šæŒ‡å®šæ•°æ®è®¿é—®ç»„ä»¶çš„åç§°ï¼Œå¦‚æœä¸æŒ‡å®šåˆ™é»˜è®¤ä¸ºç±»åé¦–å­—æ¯å°å†™ã€‚</li></ul><ol start="6"><li>@RequestMappingæ³¨è§£<br> @RequestMappingç”¨äºæ˜ å°„HTTPè¯·æ±‚åˆ°æ§åˆ¶å™¨æ–¹æ³•ï¼Œå¯ä»¥æŒ‡å®šè¯·æ±‚è·¯å¾„ã€è¯·æ±‚æ–¹æ³•ã€è¯·æ±‚å‚æ•°ç­‰ã€‚å…¶å¸¸ç”¨å±æ€§å¦‚ä¸‹ï¼š</li></ol><ul><li>valueï¼šæŒ‡å®šè¯·æ±‚è·¯å¾„ï¼Œå¯ä»¥åŒ…å«å ä½ç¬¦å’ŒAnté£æ ¼çš„é€šé…ç¬¦ã€‚</li><li>methodï¼šæŒ‡å®šè¯·æ±‚æ–¹æ³•ï¼Œæ”¯æŒGETã€POSTã€PUTã€DELETEç­‰HTTPæ–¹æ³•ã€‚</li><li>paramsï¼šæŒ‡å®šè¯·æ±‚å‚æ•°ï¼Œæ”¯æŒç®€å•çš„è¡¨è¾¾å¼è¯­è¨€ã€‚</li><li>headersï¼šæŒ‡å®šè¯·æ±‚å¤´éƒ¨ï¼Œæ”¯æŒç®€å•çš„è¡¨è¾¾å¼è¯­è¨€ã€‚</li></ul><ol start="7"><li>@PathVariableæ³¨è§£<br> @PathVariableç”¨äºè·å–URLè·¯å¾„å˜é‡çš„å€¼ï¼Œé€šå¸¸ç”¨äºRESTfulé£æ ¼çš„APIå¼€å‘ã€‚å…¶å¸¸ç”¨å±æ€§å¦‚ä¸‹ï¼š</li></ol><ul><li>valueï¼šæŒ‡å®šè·¯å¾„å˜é‡çš„åç§°ï¼Œå¯ä»¥åŒ…å«å ä½ç¬¦å’ŒAnté£æ ¼çš„é€šé…ç¬¦ã€‚</li></ul><ol start="8"><li>@RequestParamæ³¨è§£<br> @RequestParamç”¨äºè·å–HTTPè¯·æ±‚å‚æ•°çš„å€¼ï¼Œå¯ä»¥æŒ‡å®šå‚æ•°åç§°ã€æ˜¯å¦å¿…éœ€ã€é»˜è®¤å€¼ç­‰ã€‚å…¶å¸¸ç”¨å±æ€§å¦‚ä¸‹ï¼š</li></ol><ul><li>valueï¼šæŒ‡å®šè¯·æ±‚å‚æ•°çš„åç§°ï¼Œå¯ä»¥åŒ…å«å ä½ç¬¦å’ŒAnté£æ ¼çš„é€šé…ç¬¦ã€‚</li><li>requiredï¼šæŒ‡å®šæ˜¯å¦å¿…é¡»å­˜åœ¨è¯¥å‚æ•°ï¼Œé»˜è®¤ä¸ºtrueï¼Œè¡¨ç¤ºå¿…é¡»å­˜åœ¨ï¼Œå¦‚æœä¸å­˜åœ¨åˆ™ä¼šæŠ›å‡ºå¼‚å¸¸ã€‚</li><li>defaultValueï¼šæŒ‡å®šå‚æ•°çš„é»˜è®¤å€¼ï¼Œå¦‚æœè¯·æ±‚ä¸­ä¸å­˜åœ¨è¯¥å‚æ•°åˆ™ä½¿ç”¨é»˜è®¤å€¼ã€‚</li></ul><ol start="9"><li>@ResponseBodyæ³¨è§£<br> @ResponseBodyç”¨äºå°†æ–¹æ³•è¿”å›å€¼è½¬æ¢ä¸ºHTTPå“åº”å†…å®¹ï¼Œé€šå¸¸ç”¨äºè¿”å›JSONã€XMLç­‰æ ¼å¼çš„æ•°æ®ã€‚å…¶å¸¸ç”¨å±æ€§å¦‚ä¸‹ï¼š</li></ol><ul><li>ä¸åŒ…å«ä»»ä½•å±æ€§ã€‚</li></ul><ol start="10"><li>@Transactionalæ³¨è§£<br> @Transactionalç”¨äºæ ‡æ³¨ä¸€ä¸ªæ–¹æ³•ä¸ºäº‹åŠ¡æ€§æ“ä½œï¼Œé€šå¸¸ç”¨äºæ•°æ®åº“æ“ä½œæˆ–å…¶å®ƒéœ€è¦ä¿è¯æ•°æ®ä¸€è‡´æ€§çš„æ“ä½œã€‚å…¶å¸¸ç”¨å±æ€§å¦‚ä¸‹ï¼š</li></ol><ul><li>valueï¼šæŒ‡å®šäº‹åŠ¡ç®¡ç†å™¨çš„åç§°ï¼Œå¯ä»¥ä½¿ç”¨å¤šä¸ªäº‹åŠ¡ç®¡ç†å™¨ã€‚</li></ul><h3 id="_8-2-springmvcå¸¸ç”¨æ³¨è§£" tabindex="-1"><a class="header-anchor" href="#_8-2-springmvcå¸¸ç”¨æ³¨è§£" aria-hidden="true">#</a> 8.2 SpringMVCå¸¸ç”¨æ³¨è§£</h3><p>SpringMVCæ˜¯åŸºäºSpringæ¡†æ¶çš„Webå¼€å‘æ¡†æ¶ï¼Œæä¾›äº†è®¸å¤šæ³¨è§£æ¥ç®€åŒ–å¼€å‘è¿‡ç¨‹ã€‚ä»¥ä¸‹æ˜¯ä¸€äº›å¸¸ç”¨çš„SpringMVCæ³¨è§£åŠå…¶å±æ€§ä»‹ç»ï¼š</p><ol><li>@Controlleræ³¨è§£</li></ol><p>@Controllerç”¨äºæ ‡æ³¨ä¸€ä¸ªç±»ä¸ºSpringMVCæ§åˆ¶å™¨ï¼Œç”¨äºå¤„ç†HTTPè¯·æ±‚å’Œå“åº”ã€‚å…¶å¸¸ç”¨å±æ€§ä¸Springçš„@Controlleræ³¨è§£ç›¸åŒã€‚</p><ol start="2"><li>@RequestMappingæ³¨è§£</li></ol><p>@RequestMappingç”¨äºæ˜ å°„HTTPè¯·æ±‚åˆ°æ§åˆ¶å™¨æ–¹æ³•ï¼Œå¯ä»¥æŒ‡å®šè¯·æ±‚è·¯å¾„ã€è¯·æ±‚æ–¹æ³•ã€è¯·æ±‚å‚æ•°ç­‰ã€‚å…¶å¸¸ç”¨å±æ€§å¦‚ä¸‹ï¼š</p><ul><li>valueï¼šæŒ‡å®šè¯·æ±‚è·¯å¾„ï¼Œå¯ä»¥åŒ…å«å ä½ç¬¦å’ŒAnté£æ ¼çš„é€šé…ç¬¦ã€‚</li><li>methodï¼šæŒ‡å®šè¯·æ±‚æ–¹æ³•ï¼Œæ”¯æŒGETã€POSTã€PUTã€DELETEç­‰HTTPæ–¹æ³•ã€‚</li><li>paramsï¼šæŒ‡å®šè¯·æ±‚å‚æ•°ï¼Œæ”¯æŒç®€å•çš„è¡¨è¾¾å¼è¯­è¨€ã€‚</li><li>headersï¼šæŒ‡å®šè¯·æ±‚å¤´éƒ¨ï¼Œæ”¯æŒç®€å•çš„è¡¨è¾¾å¼è¯­è¨€ã€‚</li></ul><ol start="3"><li>@PathVariableæ³¨è§£</li></ol><p>@PathVariableç”¨äºè·å–URLè·¯å¾„å˜é‡çš„å€¼ï¼Œé€šå¸¸ç”¨äºRESTfulé£æ ¼çš„APIå¼€å‘ã€‚å…¶å¸¸ç”¨å±æ€§å¦‚ä¸‹ï¼š</p><ul><li>valueï¼šæŒ‡å®šè·¯å¾„å˜é‡çš„åç§°ï¼Œå¯ä»¥åŒ…å«å ä½ç¬¦å’ŒAnté£æ ¼çš„é€šé…ç¬¦ã€‚</li></ul><ol start="4"><li>@RequestParamæ³¨è§£</li></ol><p>@RequestParamç”¨äºè·å–HTTPè¯·æ±‚å‚æ•°çš„å€¼ï¼Œå¯ä»¥æŒ‡å®šå‚æ•°åç§°ã€æ˜¯å¦å¿…éœ€ã€é»˜è®¤å€¼ç­‰ã€‚å…¶å¸¸ç”¨å±æ€§å¦‚ä¸‹ï¼š</p><ul><li>valueï¼šæŒ‡å®šè¯·æ±‚å‚æ•°çš„åç§°ï¼Œå¯ä»¥åŒ…å«å ä½ç¬¦å’ŒAnté£æ ¼çš„é€šé…ç¬¦ã€‚</li><li>requiredï¼šæŒ‡å®šæ˜¯å¦å¿…é¡»å­˜åœ¨è¯¥å‚æ•°ï¼Œé»˜è®¤ä¸ºtrueï¼Œè¡¨ç¤ºå¿…é¡»å­˜åœ¨ï¼Œå¦‚æœä¸å­˜åœ¨åˆ™ä¼šæŠ›å‡ºå¼‚å¸¸ã€‚</li><li>defaultValueï¼šæŒ‡å®šå‚æ•°çš„é»˜è®¤å€¼ï¼Œå¦‚æœè¯·æ±‚ä¸­ä¸å­˜åœ¨è¯¥å‚æ•°åˆ™ä½¿ç”¨é»˜è®¤å€¼ã€‚</li></ul><ol start="5"><li>@ResponseBodyæ³¨è§£</li></ol><p>@ResponseBodyç”¨äºå°†æ–¹æ³•è¿”å›å€¼è½¬æ¢ä¸ºHTTPå“åº”å†…å®¹ï¼Œé€šå¸¸ç”¨äºè¿”å›JSONã€XMLç­‰æ ¼å¼çš„æ•°æ®ã€‚å…¶å¸¸ç”¨å±æ€§ä¸Springçš„@ResponseBodyæ³¨è§£ç›¸åŒã€‚</p><ol start="6"><li>@ModelAttributeæ³¨è§£</li></ol><p>@ModelAttributeç”¨äºå°†HTTPè¯·æ±‚å‚æ•°ç»‘å®šåˆ°æ§åˆ¶å™¨æ–¹æ³•çš„å‚æ•°æˆ–è¿”å›å€¼ä¸­ï¼Œå…¶å¸¸ç”¨å±æ€§å¦‚ä¸‹ï¼š</p><ul><li>valueï¼šæŒ‡å®šå±æ€§çš„åç§°ï¼Œå¯ä»¥ä½¿ç”¨å ä½ç¬¦å’ŒSpELè¡¨è¾¾å¼ã€‚</li></ul><ol start="7"><li>@SessionAttributesæ³¨è§£</li></ol><p>@SessionAttributesç”¨äºå°†æ§åˆ¶å™¨æ–¹æ³•çš„å‚æ•°æˆ–è¿”å›å€¼ä¿å­˜åˆ°HTTP Sessionä¸­ï¼Œå…¶å¸¸ç”¨å±æ€§å¦‚ä¸‹ï¼š</p><ul><li>valueï¼šæŒ‡å®šè¦ä¿å­˜åˆ°Sessionä¸­çš„å±æ€§åç§°åˆ—è¡¨ï¼Œå¯ä»¥ä½¿ç”¨å ä½ç¬¦å’ŒSpELè¡¨è¾¾å¼ã€‚</li></ul><ol start="8"><li>@InitBinderæ³¨è§£</li></ol><p>@InitBinderç”¨äºåˆå§‹åŒ–WebDataBinderï¼Œå¯ä»¥ç”¨äºè‡ªå®šä¹‰æ•°æ®ç»‘å®šé€»è¾‘ã€‚å…¶å¸¸ç”¨å±æ€§å¦‚ä¸‹ï¼š</p><ul><li>valueï¼šæŒ‡å®šè¦åˆå§‹åŒ–çš„WebDataBinderçš„åç§°ï¼Œå¯ä»¥ä½¿ç”¨å ä½ç¬¦å’ŒSpELè¡¨è¾¾å¼ã€‚</li></ul><h3 id="_8-3-springbootå¸¸ç”¨æ³¨è§£" tabindex="-1"><a class="header-anchor" href="#_8-3-springbootå¸¸ç”¨æ³¨è§£" aria-hidden="true">#</a> 8.3 SpringBootå¸¸ç”¨æ³¨è§£</h3><ol><li>@SpringBootApplicationæ³¨è§£<br> @SpringBootApplicationæ˜¯Spring Bootä¸­æœ€å¸¸ç”¨çš„æ³¨è§£ä¹‹ä¸€ï¼ŒåŒ…å«äº†@SpringBootConfigurationã€@EnableAutoConfigurationå’Œ@ComponentScanä¸‰ä¸ªæ³¨è§£çš„åŠŸèƒ½ã€‚å…¶å¸¸ç”¨å±æ€§å¦‚ä¸‹ï¼š</li></ol><ul><li>excludeï¼šæ’é™¤è‡ªåŠ¨é…ç½®çš„ç±»ï¼Œå¯ä»¥ç”¨äºç¦ç”¨ä¸éœ€è¦çš„è‡ªåŠ¨é…ç½®ã€‚</li></ul><ol start="2"><li><p>@RestControlleræ³¨è§£<br> @RestControlleræ˜¯Spring Bootä¸­ç”¨äºæ ‡æ³¨ä¸€ä¸ªç±»ä¸ºRESTfulé£æ ¼çš„æ§åˆ¶å™¨çš„æ³¨è§£ã€‚å…¶å¸¸ç”¨å±æ€§ä¸Springçš„@Controlleræ³¨è§£ç›¸åŒã€‚</p></li><li><p>@RequestMappingæ³¨è§£<br> @RequestMappingåœ¨Spring Bootä¸­åŒæ ·ä¹Ÿæ˜¯ç”¨äºæ˜ å°„HTTPè¯·æ±‚åˆ°æ§åˆ¶å™¨æ–¹æ³•çš„æ³¨è§£ï¼Œå…¶å¸¸ç”¨å±æ€§ä¸Springçš„@RequestMappingæ³¨è§£ç›¸åŒã€‚</p></li><li><p>@Autowiredæ³¨è§£<br> @Autowiredåœ¨Spring Bootä¸­åŒæ ·ä¹Ÿæ˜¯ç”¨äºè‡ªåŠ¨è£…é…Springç»„ä»¶çš„æ³¨è§£ï¼Œå…¶å¸¸ç”¨å±æ€§ä¸Springçš„@Autowiredæ³¨è§£ç›¸åŒã€‚</p></li><li><p>@Valueæ³¨è§£<br> @Valueç”¨äºå°†é…ç½®æ–‡ä»¶ä¸­çš„å±æ€§å€¼æ³¨å…¥åˆ°ä¸€ä¸ªJavaç±»ä¸­ï¼Œå…¶å¸¸ç”¨å±æ€§å¦‚ä¸‹ï¼š</p></li></ol><ul><li>valueï¼šæŒ‡å®šé…ç½®æ–‡ä»¶ä¸­çš„å±æ€§åç§°ï¼Œå¯ä»¥ä½¿ç”¨å ä½ç¬¦å’ŒSpELè¡¨è¾¾å¼ã€‚</li></ul><ol start="6"><li>@ConfigurationPropertiesæ³¨è§£<br> @ConfigurationPropertiesç”¨äºå°†é…ç½®æ–‡ä»¶ä¸­çš„å±æ€§å€¼æ³¨å…¥åˆ°ä¸€ä¸ªJavaç±»ä¸­ï¼Œå…¶å¸¸ç”¨å±æ€§å¦‚ä¸‹ï¼š</li></ol><ul><li>prefixï¼šæŒ‡å®šå±æ€§çš„å‰ç¼€åç§°ï¼Œç”¨äºæŒ‡å®šè¦æ³¨å…¥çš„å±æ€§ã€‚</li></ul><ol start="7"><li><p>@EnableConfigurationPropertiesæ³¨è§£<br> @EnableConfigurationPropertiesç”¨äºå¯ç”¨@ConfigurationPropertiesæ³¨è§£ï¼Œä½¿å¾—@ConfigurationPropertiesæ³¨è§£ç”Ÿæ•ˆã€‚</p></li><li><p>@EnableAutoConfigurationæ³¨è§£<br> @EnableAutoConfigurationç”¨äºè‡ªåŠ¨é…ç½®Spring Bootåº”ç”¨ç¨‹åºï¼Œå…¶å¸¸ç”¨å±æ€§å¦‚ä¸‹ï¼š</p></li></ol><ul><li>excludeï¼šæ’é™¤è‡ªåŠ¨é…ç½®çš„ç±»ï¼Œå¯ä»¥ç”¨äºç¦ç”¨ä¸éœ€è¦çš„è‡ªåŠ¨é…ç½®ã€‚</li></ul><ol start="9"><li>@Conditionalæ³¨è§£<br> @Conditionalç”¨äºæ ¹æ®æ¡ä»¶æ¥æ§åˆ¶æ˜¯å¦å¯ç”¨æŸä¸ªé…ç½®é¡¹ï¼Œå…¶å¸¸ç”¨å±æ€§å¦‚ä¸‹ï¼š</li></ol><ul><li>valueï¼šæŒ‡å®šä¸€ä¸ªæ¡ä»¶ç±»ï¼Œç¬¦åˆæ¡ä»¶åˆ™å¯ç”¨è¯¥é…ç½®é¡¹ã€‚</li></ul><h3 id="_8-4-springcloudå¸¸ç”¨æ³¨è§£" tabindex="-1"><a class="header-anchor" href="#_8-4-springcloudå¸¸ç”¨æ³¨è§£" aria-hidden="true">#</a> 8.4 SpringCloudå¸¸ç”¨æ³¨è§£</h3><ol><li>@EnableDiscoveryClientæ³¨è§£</li></ol><p>@EnableDiscoveryClientç”¨äºå¯ç”¨æœåŠ¡æ³¨å†Œå’Œå‘ç°åŠŸèƒ½ï¼Œå¯ä»¥å°†æœåŠ¡æ³¨å†Œåˆ°æœåŠ¡æ³¨å†Œä¸­å¿ƒï¼Œå¹¶ä»æœåŠ¡æ³¨å†Œä¸­å¿ƒè·å–æœåŠ¡åˆ—è¡¨ã€‚å…¶å¸¸ç”¨å±æ€§å¦‚ä¸‹ï¼š</p><ul><li>valueï¼šæŒ‡å®šæœåŠ¡æ³¨å†Œä¸­å¿ƒçš„åç§°ï¼Œå¯ä»¥ä½¿ç”¨å¤šä¸ªæœåŠ¡æ³¨å†Œä¸­å¿ƒã€‚</li></ul><ol start="2"><li>@FeignClientæ³¨è§£</li></ol><p>@FeignClientç”¨äºå£°æ˜ä¸€ä¸ªåŸºäºHTTPçš„RESTfulå®¢æˆ·ç«¯ï¼Œå¯ä»¥ä½¿ç”¨è¯¥å®¢æˆ·ç«¯è°ƒç”¨è¿œç¨‹æœåŠ¡ã€‚å…¶å¸¸ç”¨å±æ€§å¦‚ä¸‹ï¼š</p><ul><li>valueï¼šæŒ‡å®šè¿œç¨‹æœåŠ¡çš„åç§°ï¼Œå¯ä»¥ä½¿ç”¨å ä½ç¬¦å’ŒSpELè¡¨è¾¾å¼ã€‚</li><li>fallbackï¼šæŒ‡å®šè¿œç¨‹æœåŠ¡è°ƒç”¨å¤±è´¥æ—¶çš„é™çº§å¤„ç†ç±»ï¼Œå¿…é¡»å®ç°å½“å‰æ³¨è§£æŒ‡å®šçš„æ¥å£ã€‚</li></ul><ol start="3"><li>@HystrixCommandæ³¨è§£</li></ol><p>@HystrixCommandç”¨äºå£°æ˜ä¸€ä¸ªåŸºäºHystrixçš„æœåŠ¡é™çº§å¤„ç†æ–¹æ³•ï¼Œå¯ä»¥åœ¨è¿œç¨‹æœåŠ¡è°ƒç”¨å¤±è´¥æ—¶æ‰§è¡Œè¯¥æ–¹æ³•ã€‚å…¶å¸¸ç”¨å±æ€§å¦‚ä¸‹ï¼š</p><ul><li>fallbackMethodï¼šæŒ‡å®šæœåŠ¡é™çº§å¤„ç†æ–¹æ³•çš„åç§°ï¼Œå¿…é¡»åœ¨å½“å‰ç±»ä¸­å®šä¹‰ã€‚</li></ul><ol start="4"><li>@EnableCircuitBreakeræ³¨è§£</li></ol><p>@EnableCircuitBreakerç”¨äºå¯ç”¨åŸºäºHystrixçš„æœåŠ¡é™çº§å¤„ç†åŠŸèƒ½ï¼Œå¯ä»¥åœ¨è¿œç¨‹æœåŠ¡è°ƒç”¨å¤±è´¥æ—¶æ‰§è¡Œé™çº§å¤„ç†é€»è¾‘ã€‚</p><ol start="5"><li>@LoadBalancedæ³¨è§£</li></ol><p>@LoadBalancedç”¨äºå¯ç”¨åŸºäºRibbonçš„è´Ÿè½½å‡è¡¡åŠŸèƒ½ï¼Œå¯ä»¥å°†è¯·æ±‚åˆ†å‘åˆ°å¤šä¸ªå®ä¾‹ä¸­ã€‚å…¶å¸¸ç”¨å±æ€§ä¸Springçš„@Qualifieræ³¨è§£ç›¸åŒã€‚</p><ol start="6"><li>@EnableZuulProxyæ³¨è§£</li></ol><p>@EnableZuulProxyç”¨äºå¯ç”¨åŸºäºZuulçš„APIç½‘å…³åŠŸèƒ½ï¼Œå¯ä»¥å°†å¤šä¸ªå¾®æœåŠ¡çš„APIèšåˆåˆ°ä¸€ä¸ªç½‘å…³ä¸­ã€‚å…¶å¸¸ç”¨å±æ€§å¦‚ä¸‹ï¼š</p><ul><li>valueï¼šæŒ‡å®šZuulä»£ç†æœåŠ¡çš„è·¯å¾„ï¼Œå¯ä»¥ä½¿ç”¨å ä½ç¬¦å’ŒSpELè¡¨è¾¾å¼ã€‚</li></ul><h2 id="_9-å…¶ä»–" tabindex="-1"><a class="header-anchor" href="#_9-å…¶ä»–" aria-hidden="true">#</a> 9. å…¶ä»–</h2><h3 id="_9-1-æ•°æ®åº“å­—ç¬¦é›†" tabindex="-1"><a class="header-anchor" href="#_9-1-æ•°æ®åº“å­—ç¬¦é›†" aria-hidden="true">#</a> 9.1 æ•°æ®åº“å­—ç¬¦é›†</h3><p>åœ¨ä½¿ç”¨Navicatåˆ›å»ºæ•°æ®åº“æ—¶ï¼Œå¯¹äºå­—ç¬¦é›†å’Œæ’åºè§„åˆ™çš„é€‰æ‹©éå¸¸é‡è¦ï¼Œå› ä¸ºå®ƒä»¬ä¼šå½±å“æ•°æ®åº“çš„æ•°æ®å­˜å‚¨å’ŒæŸ¥è¯¢ç»“æœã€‚</p><ol><li>å­—ç¬¦é›†å†³å®šäº†æ•°æ®åº“ä¸­å­˜å‚¨çš„å­—ç¬¦é›†ç±»å‹ï¼ŒåŒ…æ‹¬æ–‡å­—ã€æ•°å­—å’Œç¬¦å·ç­‰ã€‚é€šå¸¸æƒ…å†µä¸‹ï¼Œå»ºè®®é€‰æ‹©utf8mb4å­—ç¬¦é›†ï¼Œå› ä¸ºå®ƒæ”¯æŒæ›´å¹¿æ³›çš„è¯­è¨€å’Œå­—ç¬¦é›†ï¼ŒåŒ…æ‹¬Emojiè¡¨æƒ…ç¬¦å·ç­‰ã€‚</li><li>æ’åºè§„åˆ™å†³å®šäº†åœ¨æŸ¥è¯¢ç»“æœä¸­å¦‚ä½•å¯¹æ•°æ®è¿›è¡Œæ’åºï¼ŒåŒ…æ‹¬å¤§å°å†™æ•æ„Ÿå’Œéå¤§å°å†™æ•æ„Ÿç­‰ã€‚å»ºè®®é€‰æ‹©utf8mb4_general_ciæ’åºè§„åˆ™ï¼Œå› ä¸ºå®ƒæ˜¯ä¸€ç§ä¸åŒºåˆ†å¤§å°å†™çš„æ’åºè§„åˆ™ï¼Œé€‚ç”¨äºå¤§å¤šæ•°æƒ…å†µä¸‹çš„æŸ¥è¯¢ã€‚</li></ol><h2 id="_10-lunix" tabindex="-1"><a class="header-anchor" href="#_10-lunix" aria-hidden="true">#</a> 10. Lunix</h2><h3 id="_10-1-linuxæ¦‚æ‹¬" tabindex="-1"><a class="header-anchor" href="#_10-1-linuxæ¦‚æ‹¬" aria-hidden="true">#</a> 10.1 Linuxæ¦‚æ‹¬</h3><h3 id="_10-2-è™šæ‹Ÿæœºvmwareä¸­çš„ç½‘ç»œé€‚é…å™¨" tabindex="-1"><a class="header-anchor" href="#_10-2-è™šæ‹Ÿæœºvmwareä¸­çš„ç½‘ç»œé€‚é…å™¨" aria-hidden="true">#</a> 10.2 è™šæ‹ŸæœºVMWareä¸­çš„ç½‘ç»œé€‚é…å™¨</h3><p>VMwareæ˜¯ä¸€ç§è™šæ‹ŸåŒ–è½¯ä»¶ï¼Œå®ƒå…è®¸ç”¨æˆ·åœ¨ä¸€å°è®¡ç®—æœºä¸Šè¿è¡Œå¤šä¸ªè™šæ‹Ÿæœºï¼Œæ¯ä¸ªè™šæ‹Ÿæœºéƒ½å¯ä»¥è¿è¡Œä¸åŒçš„æ“ä½œç³»ç»Ÿå’Œåº”ç”¨ç¨‹åºã€‚åœ¨VMwareä¸­ï¼Œæ¯ä¸ªè™šæ‹Ÿæœºéƒ½æœ‰è‡ªå·±çš„ç½‘ç»œé€‚é…å™¨ï¼Œç”¨äºè¿æ¥è™šæ‹Ÿæœºåˆ°ä¸»æœºæˆ–å…¶ä»–è™šæ‹Ÿæœºçš„ç½‘ç»œã€‚</p><p>å®˜æ–¹æ–‡æ¡£ï¼š<a href="https://docs.vmware.com/cn/VMware-Workstation-Pro/16.0/com.vmware.ws.using.doc/GUID-C82DCB68-2EFA-460A-A765-37225883337D.html" target="_blank" rel="noopener noreferrer">é…ç½®è™šæ‹Ÿç½‘ç»œé€‚é…å™¨è®¾ç½® (vmware.com)<span><svg class="external-link-icon" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg><span class="external-link-icon-sr-only">open in new window</span></span></a></p><h4 id="_10-2-1-æ¡¥æ¥æ¨¡å¼" tabindex="-1"><a class="header-anchor" href="#_10-2-1-æ¡¥æ¥æ¨¡å¼" aria-hidden="true">#</a> 10.2.1 æ¡¥æ¥æ¨¡å¼</h4><p><strong>Bridged Adapter</strong>ï¼ˆæ¡¥æ¥é€‚é…å™¨ï¼‰ï¼šæ¡¥æ¥é€‚é…å™¨å°†è™šæ‹Ÿæœºè¿æ¥åˆ°ä¸»æœºï¼ˆå°±æ˜¯å®‰è£…VMwareçš„æœ€åŸºç¡€çš„é‚£å°ç”µè„‘ï¼Œä¸æ˜¯VMwareä¸­çš„æ“ä½œç³»ç»Ÿï¼‰çš„ç‰©ç†ç½‘ç»œï¼Œä½¿è™šæ‹Ÿæœºå¯ä»¥åƒä¸»æœºä¸€æ ·ä¸å…¶ä»–è®¡ç®—æœºé€šä¿¡ã€‚ä¹Ÿå°±æ˜¯ä¸»æœºè¿æ¥çš„æ˜¯å“ªä¸ªç½‘ç»œè™šæ‹Ÿæœºå°±ç›´æ¥è¿æ¥å“ªä¸ªç½‘ç»œï¼Œä½†æ˜¯ç”±äºè™šæ‹Ÿæœºå†…è™šæ‹Ÿå‡ºæ¥çš„Linuxç³»ç»Ÿä¹Ÿå¯çœ‹åšä¸€å°ä¸»æœºï¼Œæ‰€ä»¥è™šæ‹Ÿæœºçš„ç½‘ç»œåœ°å€ç”±ç‰©ç†ç½‘ç»œçš„DHCPæœåŠ¡å™¨åˆ†é…åä¼šä¸ä¸»æœºä¸åŒã€‚å°±ç›¸å½“äºä¸¤å°ä¸åŒç”µè„‘è¿æ¥åŒä¸€ç½‘ç»œä¼šåˆ†é…ä¸åŒIPã€‚</p><p>å¯ä»¥åœ¨å¯¹åº”Linuxæ“ä½œç³»ç»Ÿï¼ˆVMwareè™šæ‹Ÿå‡ºæ¥çš„ï¼‰ç»ˆç«¯ä¸­ä½¿ç”¨æŒ‡ä»¤ï¼š</p><div class="language-text line-numbers-mode" data-ext="text"><pre class="language-text"><code>ifconfig
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><p>å…¶ä¸­ens33ä¸­çš„inet 192.168.1.105å°±æ˜¯è¯¥Linuxçš„ç½‘ç»œåœ°å€ï¼Œæ‹¿åˆ°IPåå°±å¯ä»¥é€šè¿‡FinalShellè¿›è¡Œè¿œç¨‹è¿æ¥ã€‚ä½†æ˜¯ç›®å‰æˆ‘åªçŸ¥é“åœ¨å¯¹åº”Linuxä¸­è·å–IPï¼Œå¹¶ä¸çŸ¥é“æ€ä¹ˆé€šè¿‡ä¸»æœºç›´æ¥è·å–ï¼Œæ‰€ä»¥è¿™ç§æ–¹å¼æ¯æ¬¡éƒ½è¦æ‰“å¼€Linuxã€‚</p><div class="language-text line-numbers-mode" data-ext="text"><pre class="language-text"><code>ens33: flags=4163&lt;UP,BROADCAST,RUNNING,MULTICAST&gt;  mtu 1500
        inet 192.168.1.105  netmask 255.255.255.0  broadcast 192.168.1.255
        inet6 fe80::f8a2:735f:8772:d7e2  prefixlen 64  scopeid 0x20&lt;link&gt;
        ether 00:0c:29:4f:e4:21  txqueuelen 1000  (Ethernet)
        RX packets 224357  bytes 325285393 (310.2 MiB)
        RX errors 0  dropped 0  overruns 0  frame 0
        TX packets 73368  bytes 5235140 (4.9 MiB)
        TX errors 0  dropped 0 overruns 0  carrier 0  collisions 0
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h4 id="_10-2-2-natæ¨¡å¼" tabindex="-1"><a class="header-anchor" href="#_10-2-2-natæ¨¡å¼" aria-hidden="true">#</a> 10.2.2 NATæ¨¡å¼</h4><p>NAT Adapterï¼ˆç½‘ç»œåœ°å€è½¬æ¢é€‚é…å™¨ï¼‰ï¼šNATé€‚é…å™¨å°†è™šæ‹Ÿæœºè¿æ¥åˆ°ä¸»æœºçš„ç½‘ç»œï¼Œä½†è™šæ‹Ÿæœºçš„ç½‘ç»œåœ°å€ç”±VMwareçš„NATæœåŠ¡åˆ†é…ã€‚è¯¥é€‚é…å™¨é€šå¸¸ç”¨äºåœ¨è™šæ‹Ÿæœºä¸­è¿è¡Œå®¢æˆ·ç«¯åº”ç”¨ç¨‹åºï¼Œä¾‹å¦‚Webæµè§ˆå™¨ã€‚</p><h4 id="_10-2-3-ä»…ä¸»æœºæ¨¡å¼" tabindex="-1"><a class="header-anchor" href="#_10-2-3-ä»…ä¸»æœºæ¨¡å¼" aria-hidden="true">#</a> 10.2.3 ä»…ä¸»æœºæ¨¡å¼</h4><p>Host-only Adapterï¼ˆä¸»æœºä¸“ç”¨é€‚é…å™¨ï¼‰ï¼šä¸»æœºä¸“ç”¨é€‚é…å™¨å°†è™šæ‹Ÿæœºè¿æ¥åˆ°ä¸»æœºçš„è™šæ‹Ÿç½‘ç»œä¸­ï¼Œä½†ä¸ä¼šè¿æ¥åˆ°ä¸»æœºçš„ç‰©ç†ç½‘ç»œã€‚è¿™ç§é€‚é…å™¨é€šå¸¸ç”¨äºåœ¨è™šæ‹Ÿæœºä¹‹é—´è¿›è¡Œé€šä¿¡æˆ–åœ¨è™šæ‹Ÿæœºå’Œä¸»æœºä¹‹é—´è¿›è¡Œå®‰å…¨çš„æœ¬åœ°é€šä¿¡ã€‚</p><h4 id="_10-2-4-è‡ªå®šä¹‰æ¨¡å¼" tabindex="-1"><a class="header-anchor" href="#_10-2-4-è‡ªå®šä¹‰æ¨¡å¼" aria-hidden="true">#</a> 10.2.4 è‡ªå®šä¹‰æ¨¡å¼</h4><p>Custom Adapterï¼ˆè‡ªå®šä¹‰é€‚é…å™¨ï¼‰ï¼šè‡ªå®šä¹‰é€‚é…å™¨å…è®¸ç”¨æˆ·åˆ›å»ºè‡ªå·±çš„è™šæ‹Ÿç½‘ç»œé…ç½®ã€‚è¯¥é€‚é…å™¨é€šå¸¸ç”¨äºæµ‹è¯•å’Œå¼€å‘ç›®çš„ã€‚</p><p>ç”¨æˆ·å¯ä»¥æ ¹æ®éœ€è¦é€‰æ‹©ä¸åŒç±»å‹çš„ç½‘ç»œé€‚é…å™¨æ¥æ»¡è¶³å…¶ç½‘ç»œéœ€æ±‚ã€‚</p></div><!----><footer class="page-meta"><div class="meta-item edit-link"><a href="https://gitee.com/zhaoxi7109/mynotes.git/edit/master/src/codenotes/springboot/springboot.md" rel="noopener noreferrer" target="_blank" aria-label="åœ¨ã€Giteeã€‘ä¸Šç¼–è¾‘æ­¤é¡µ" class="nav-link label"><!--[--><svg xmlns="http://www.w3.org/2000/svg" class="icon edit-icon" viewBox="0 0 1024 1024" fill="currentColor" aria-label="edit icon"><path d="M430.818 653.65a60.46 60.46 0 0 1-50.96-93.281l71.69-114.012 7.773-10.365L816.038 80.138A60.46 60.46 0 0 1 859.225 62a60.46 60.46 0 0 1 43.186 18.138l43.186 43.186a60.46 60.46 0 0 1 0 86.373L588.879 565.55l-8.637 8.637-117.466 68.234a60.46 60.46 0 0 1-31.958 11.229z"></path><path d="M728.802 962H252.891A190.883 190.883 0 0 1 62.008 771.98V296.934a190.883 190.883 0 0 1 190.883-192.61h267.754a60.46 60.46 0 0 1 0 120.92H252.891a69.962 69.962 0 0 0-69.098 69.099V771.98a69.962 69.962 0 0 0 69.098 69.098h475.911A69.962 69.962 0 0 0 797.9 771.98V503.363a60.46 60.46 0 1 1 120.922 0V771.98A190.883 190.883 0 0 1 728.802 962z"></path></svg><!--]-->åœ¨ã€Giteeã€‘ä¸Šç¼–è¾‘æ­¤é¡µ<span><svg class="external-link-icon" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg><span class="external-link-icon-sr-only">open in new window</span></span><!----></a></div><div class="meta-item git-info"><div class="update-time"><span class="label">ä¸Šæ¬¡ç¼–è¾‘äº: </span><!----></div><!----></div></footer><!----><div id="comment" class="giscus-wrapper input-top" style="display:block;"><div class="loading-icon-wrapper" style="display:flex;align-items:center;justify-content:center;height:96px"><svg xmlns="http://www.w3.org/2000/svg" width="48" height="48" preserveAspectRatio="xMidYMid" viewBox="25 25 50 50"><animateTransform attributeName="transform" type="rotate" dur="2s" keyTimes="0;1" repeatCount="indefinite" values="0;360"></animateTransform><circle cx="50" cy="50" r="20" fill="none" stroke="currentColor" stroke-width="4" stroke-linecap="round"><animate attributeName="stroke-dasharray" dur="1.5s" keyTimes="0;0.5;1" repeatCount="indefinite" values="1,200;90,200;1,200"></animate><animate attributeName="stroke-dashoffset" dur="1.5s" keyTimes="0;0.5;1" repeatCount="indefinite" values="0;-35px;-125px"></animate></circle></svg></div></div><!----><!--]--></main><!--]--><!----></div><!--]--><!--]--><!----><!--]--></div>
    <script type="module" src="/assets/app-9f31e196.js" defer></script>
  </body>
</html>
